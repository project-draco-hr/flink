{
  LocalInstance instance=(LocalInstance)allocatedResource.getInstance();
synchronized (this.synchronizationObject) {
    if (allocatedResources.containsKey(allocatedResource.getInstance())) {
      if (allocatedResources.get(instance).equals(allocatedResource)) {
        allocatedResources.remove(instance);
        return;
      }
    }
    throw new InstanceException("Resource with allocation ID " + allocatedResource.getAllocationID() + " has not been allocated to job with ID "+ jobID+ " according to the local instance manager's internal bookkeeping");
  }
}
