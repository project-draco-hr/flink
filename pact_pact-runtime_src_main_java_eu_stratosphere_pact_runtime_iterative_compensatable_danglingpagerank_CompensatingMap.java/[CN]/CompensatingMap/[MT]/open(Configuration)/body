{
  workerIndex=getRuntimeContext().getIndexOfThisSubtask();
  currentIteration=getIterationRuntimeContext().getSuperstepNumber();
  failingIteration=ConfigUtils.asInteger("compensation.failingIteration",parameters);
  failingWorkers=ConfigUtils.asIntSet("compensation.failingWorker",parameters);
  numVertices=ConfigUtils.asLong("pageRank.numVertices",parameters);
  if (currentIteration > 1) {
    PageRankStats stats=(PageRankStats)getIterationRuntimeContext().getPreviousIterationAggregate(CompensatableDotProductCoGroup.AGGREGATOR_NAME);
    uniformRank=1d / (double)numVertices;
    double lostMassFactor=(numVertices - stats.numVertices()) / (double)numVertices;
    rescaleFactor=(1 - lostMassFactor) / stats.rank();
  }
}
