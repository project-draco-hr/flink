{
  final SopremoPlan plan=createPlan("output.json");
  for (  Operator<?> op : plan.getContainedOperators())   if (op instanceof Selection)   ((Selection)op).setCondition(new UnaryExpression(new UnevaluableExpression("test failure")));
  this.client.submit(plan,this.stateRecorder);
  Assert.assertSame(ExecutionState.ENQUEUED,this.stateRecorder.getStates().getFirst());
  Assert.assertSame(ExecutionState.ERROR,this.stateRecorder.getStates().getLast());
  Assert.assertNotSame("",this.stateRecorder.getLastDetail());
}
