{
  MemoryUsage heap=memoryUsageBean.getHeapMemoryUsage();
  MemoryUsage nonHeap=memoryUsageBean.getNonHeapMemoryUsage();
  int mb=1 << 20;
  int heapUsed=(int)(heap.getUsed() / mb);
  int heapCommitted=(int)(heap.getCommitted() / mb);
  int heapMax=(int)(heap.getMax() / mb);
  int nonHeapUsed=(int)(nonHeap.getUsed() / mb);
  int nonHeapCommitted=(int)(nonHeap.getCommitted() / mb);
  int nonHeapMax=(int)(nonHeap.getMax() / mb);
  String msg=String.format("Memory usage HEAP: %d/%d/%d MB, NON HEAP: %d/%d/%d MB (used/comitted/max)",heapUsed,heapCommitted,heapMax,nonHeapUsed,nonHeapCommitted,nonHeapMax);
  return msg;
}
