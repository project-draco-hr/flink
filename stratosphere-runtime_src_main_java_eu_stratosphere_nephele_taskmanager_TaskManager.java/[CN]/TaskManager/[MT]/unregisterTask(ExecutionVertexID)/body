{
synchronized (this) {
    final Task task=this.runningTasks.remove(id);
    if (task == null) {
      LOG.error("Cannot find task with ID " + id + " to unregister");
      return;
    }
    for (    Entry<String,String> e : DistributedCache.getCachedFile(task.getEnvironment().getJobConfiguration())) {
      this.fileCache.deleteTmpFile(e.getKey(),task.getJobID());
    }
    this.byteBufferedChannelManager.unregister(id,task);
    task.unregisterProfiler(this.profiler);
    task.unregisterMemoryManager(this.memoryManager);
    try {
      LibraryCacheManager.unregister(task.getJobID());
    }
 catch (    IOException e) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Unregistering the job vertex ID " + id + " caused an IOException");
      }
    }
  }
}
