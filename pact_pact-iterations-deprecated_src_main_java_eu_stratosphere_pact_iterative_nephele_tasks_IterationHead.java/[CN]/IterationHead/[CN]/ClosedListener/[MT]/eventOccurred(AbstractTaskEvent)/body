{
  if (!finished) {
synchronized (object) {
      updated=true;
      state=((ChannelStateEvent)event).getState();
      if (state != ChannelState.CLOSED && state != ChannelState.TERMINATED) {
        throw new RuntimeException("Impossible");
      }
      object.notifyAll();
    }
  }
}
