{
  final FileIOChannel.ID tmpChannel=ioManager.createChannel();
  final IntValue rec=new IntValue(0);
  File tempFile=null;
  DataOutputStream daos=null;
  try {
    tempFile=new File(tmpChannel.getPath());
    FileOutputStream fos=new FileOutputStream(tempFile);
    daos=new DataOutputStream(new BufferedOutputStream(fos,bufferSize));
    int valsLeft=NUM_INTS_WRITTEN;
    while (valsLeft-- > 0) {
      rec.setValue(valsLeft);
      rec.write(new OutputViewDataOutputStreamWrapper(daos));
    }
    daos.close();
    daos=null;
  }
  finally {
    if (daos != null) {
      daos.close();
    }
    if (tempFile != null) {
      tempFile.delete();
    }
  }
}
