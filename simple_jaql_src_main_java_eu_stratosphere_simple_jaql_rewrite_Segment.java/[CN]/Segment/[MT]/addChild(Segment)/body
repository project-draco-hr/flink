{
  if (type == Type.SEQUENTIAL && child.type == Type.SEQUENTIAL) {
    child=child.firstChild;
    if (child == null) {
      return;
    }
  }
  if (firstChild == null) {
    firstChild=child;
  }
 else {
    Segment prev=firstChild;
    Segment cur=firstChild.nextSibling;
    while (cur != null) {
      prev=cur;
      cur=cur.nextSibling;
    }
    prev.nextSibling=child;
  }
}
