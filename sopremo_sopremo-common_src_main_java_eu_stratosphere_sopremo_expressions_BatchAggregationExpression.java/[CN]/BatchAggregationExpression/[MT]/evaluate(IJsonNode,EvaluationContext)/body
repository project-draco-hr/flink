{
  if (this.lastInputCounter == context.getInputCounter())   return this.lastResult;
  this.lastInputCounter=context.getInputCounter();
  for (  final Partial partial : this.partials)   partial.getFunction().initialize();
  for (  final IJsonNode input : (ArrayNode)node)   for (  final Partial partial : this.partials)   partial.getFunction().aggregate(partial.getPreprocessing().evaluate(input,context),context);
  final IJsonNode[] results=new IJsonNode[this.partials.size()];
  for (int index=0; index < results.length; index++)   results[index]=this.partials.get(index).getFunction().getFinalAggregate();
  return this.lastResult=new ArrayNode(results);
}
