{
  if (lastInputCounter == context.getInputCounter())   return lastResult;
  lastInputCounter=context.getInputCounter();
  for (  Partial partial : this.partials)   partial.getFunction().initialize();
  for (  JsonNode input : node)   for (  Partial partial : this.partials)   partial.getFunction().aggregate(partial.getPreprocessing().evaluate(input,context),context);
  JsonNode[] results=new JsonNode[partials.size()];
  for (int index=0; index < results.length; index++)   results[index]=partials.get(index).getFunction().getFinalAggregate();
  return lastResult=JsonUtil.asArray(results);
}
