{
  boolean hasValue=in.readBoolean();
  if (hasValue) {
    MultiplexingStreamRecordSerializer<T> recordSerializer=new MultiplexingStreamRecordSerializer<>(serializer);
    StreamElement element=recordSerializer.deserialize(in);
    return new ReducingWindowBuffer<>(reduceFunction,element.<T>asRecord(),serializer);
  }
 else {
    return new ReducingWindowBuffer<>(reduceFunction,serializer);
  }
}
