{
  if (this.environment.hasUnboundInputGates()) {
    final InputGate<T> ig=(InputGate<T>)this.environment.getUnboundInputGate(inputGateID);
    if (!deserializer.getRecordType().equals(ig.getType())) {
      throw new RuntimeException("Unbound input gate found, but types do not match!");
    }
    this.inputGate=ig;
  }
 else {
    this.inputGate=new InputGate<T>(deserializer,this.environment.getNumberOfInputGates(),distributionPattern);
    this.environment.registerInputGate(this.inputGate);
  }
}
