{
  if (simulate) {
    this.inputs[EARMARK][LEGAL_ENTITY]=new Source(this.getInternalInputFormat(),String.format("%s/EarmarkLegalEntities.json",this.outputDir));
    return;
  }
  if (this.scrubbed[EARMARK] == null)   this.scrubEarmark(true);
  UnionAll legalEntities=new UnionAll().withInputs(this.mapEarmarkReceiver(),this.mapEarmarkStates());
  this.inputs[EARMARK][LEGAL_ENTITY]=legalEntities;
  this.sinks.add(new Sink(this.getInternalOutputFormat(),String.format("%s/EarmarkLegalEntities.json",this.outputDir)).withInputs(legalEntities));
}
