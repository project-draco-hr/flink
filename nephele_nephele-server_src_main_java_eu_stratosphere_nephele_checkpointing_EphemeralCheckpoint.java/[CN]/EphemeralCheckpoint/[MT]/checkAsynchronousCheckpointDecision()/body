{
  if (this.asynchronousCheckpointingDecision == this.checkpointingDecision) {
    return;
  }
  if (this.asynchronousCheckpointingDecision == CheckpointingDecisionState.UNDECIDED) {
    LOG.error("Asynchronous checkpoint decision is UNDECIDED");
    return;
  }
  if (this.asynchronousCheckpointingDecision == CheckpointingDecisionState.CHECKPOINTING) {
    write();
    this.task.checkpointStateChanged(CheckpointState.PARTIAL);
  }
 else {
    destroy();
  }
  this.checkpointingDecision=this.asynchronousCheckpointingDecision;
}
