{
  if (this.checkpointingDecision == CheckpointingDecisionState.NO_CHECKPOINTING) {
    return true;
  }
  final TransferEnvelope dup=transferEnvelope.duplicate();
  if (this.checkpointingDecision == CheckpointingDecisionState.UNDECIDED) {
    this.queuedEnvelopes.add(dup);
    if (this.asyncronousCheckpointDecisionRequested) {
      setCheckpointDecisionSynchronously(true);
    }
  }
 else {
    this.writeThread.write(dup);
  }
  return true;
}
