{
  if (this.checkpointingDecision == CheckpointingDecisionState.NO_CHECKPOINTING) {
    final Buffer buffer=transferEnvelope.getBuffer();
    if (buffer != null) {
      buffer.recycleBuffer();
    }
    return;
  }
  if (this.checkpointingDecision == CheckpointingDecisionState.UNDECIDED) {
    this.queuedEnvelopes.add(transferEnvelope);
    return;
  }
  writeTransferEnvelope(transferEnvelope);
}
