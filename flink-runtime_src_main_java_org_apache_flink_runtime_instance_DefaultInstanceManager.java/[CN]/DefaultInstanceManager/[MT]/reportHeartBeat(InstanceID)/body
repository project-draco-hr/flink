{
  if (instanceId == null) {
    throw new IllegalArgumentException("InstanceID may not be null.");
  }
synchronized (this.lock) {
    if (this.shutdown) {
      throw new IllegalStateException("InstanceManager is shut down.");
    }
    Instance host=registeredHostsById.get(instanceId);
    if (host == null) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Received hearbeat from unknown TaskManager with instance ID " + instanceId.toString() + " Possibly TaskManager was maked as dead (timed-out) earlier. "+ "Reporting back that task manager is no longer known.");
      }
      return false;
    }
    host.reportHeartBeat();
    return true;
  }
}
