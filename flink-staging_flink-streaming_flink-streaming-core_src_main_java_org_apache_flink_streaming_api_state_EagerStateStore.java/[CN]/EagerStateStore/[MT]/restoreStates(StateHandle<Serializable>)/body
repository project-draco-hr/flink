{
  @SuppressWarnings("unchecked") Map<Serializable,C> checkpoints=(Map<Serializable,C>)snapshot.getState();
  for (  Entry<Serializable,C> snapshotEntry : checkpoints.entrySet()) {
    fetchedState.put(snapshotEntry.getKey(),(S)checkpointer.restoreState(snapshotEntry.getValue()));
  }
}
