{
  final Execution exec=mock(Execution.class);
  when(exec.getAttemptId()).thenReturn(attemptID);
  when(exec.getState()).thenReturn(state,successiveStates);
  ExecutionVertex vertex=mock(ExecutionVertex.class);
  when(vertex.getJobvertexId()).thenReturn(new JobVertexID());
  when(vertex.getCurrentExecutionAttempt()).thenReturn(exec);
  return vertex;
}
