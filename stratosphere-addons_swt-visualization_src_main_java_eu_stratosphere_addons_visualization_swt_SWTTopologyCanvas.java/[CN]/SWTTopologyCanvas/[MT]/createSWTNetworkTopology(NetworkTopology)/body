{
  final SWTNetworkTopology swtNetworkTopology=new SWTNetworkTopology(networkTopology);
  final Map<NetworkNode,SWTNetworkNode> nodeMap=new HashMap<NetworkNode,SWTNetworkNode>();
  final Iterator<NetworkNode> it=networkTopology.iterator();
  while (it.hasNext()) {
    final NetworkNode networkNode=it.next();
    final SWTNetworkNode swtNetworkNode=new SWTNetworkNode(getDisplay(),swtNetworkTopology,networkNode);
    swtNetworkTopology.addChild(swtNetworkNode);
    nodeMap.put(networkNode,swtNetworkNode);
    if (networkNode.getParentNode() == null) {
      swtNetworkTopology.setRootNode(swtNetworkNode);
    }
  }
  final Iterator<Map.Entry<NetworkNode,SWTNetworkNode>> it2=nodeMap.entrySet().iterator();
  while (it2.hasNext()) {
    final Map.Entry<NetworkNode,SWTNetworkNode> entry=it2.next();
    final NetworkNode childNode=entry.getKey();
    final NetworkNode parentNode=childNode.getParentNode();
    if (parentNode != null) {
      final SWTNetworkNode swtChildNode=entry.getValue();
      final SWTNetworkNode swtParentNode=nodeMap.get(parentNode);
      swtChildNode.setParentNode(swtParentNode);
    }
  }
  return swtNetworkTopology;
}
