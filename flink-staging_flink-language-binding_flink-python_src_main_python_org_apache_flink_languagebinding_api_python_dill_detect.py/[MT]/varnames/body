def varnames(func):
    'get names of variables defined by func\n\n    returns a tuple (local vars, local vars referrenced by nested functions)'
    func = code(func)
    if (not iscode(func)):
        return ()
    return (func.co_varnames, func.co_cellvars)
