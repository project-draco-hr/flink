{
  if (this.encapsulatedRuntimeTask == null) {
    replayTaskExecutionState=newExecutionState;
    if (newExecutionState == ExecutionState.FAILED) {
      if (encapsulatedTask != null) {
        encapsulatedTask.killExecution();
      }
    }
  }
 else {
    encapsulatedExecutionState=newExecutionState;
    if (newExecutionState == ExecutionState.FAILED) {
      killExecution();
    }
  }
  reportExecutionStateChange((this.encapsulatedRuntimeTask == null),optionalMessage);
}
