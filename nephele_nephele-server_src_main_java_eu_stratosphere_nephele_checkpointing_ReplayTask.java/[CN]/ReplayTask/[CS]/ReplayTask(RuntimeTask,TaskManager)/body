{
  this.vertexID=encapsulatedTask.getVertexID();
  this.environment=new CheckpointEnvironment(this.vertexID,encapsulatedTask.getEnvironment(),hasLocalCheckpointAvailable(this.vertexID),hasCompleteCheckpointAvailable(this.vertexID),this.outputBrokerMap);
  this.environment.setExecutionObserver(new ReplayTaskExecutionObserver(null));
  this.encapsulatedTask=encapsulatedTask;
  this.encapsulatedTask.getRuntimeEnvironment().setExecutionObserver(new ReplayTaskExecutionObserver(this.encapsulatedTask));
  this.encapsulatedExecutionState=this.encapsulatedTask.getExecutionState();
  this.taskManager=taskManager;
}
