{
  NFA<Event> nfa=createStartEndNFA(2);
  List<StreamEvent<Event>> streamEvents=new ArrayList<>();
  streamEvents.add(StreamEvent.of(new Event(1,"start",1.0),1L));
  streamEvents.add(StreamEvent.of(new Event(2,"start",2.0),2L));
  streamEvents.add(StreamEvent.of(new Event(3,"foobar",3.0),3L));
  streamEvents.add(StreamEvent.of(new Event(4,"end",4.0),3L));
  Set<Map<String,Event>> expectedPatterns=new HashSet<>();
  Map<String,Event> secondPattern=new HashMap<>();
  secondPattern.put("start",new Event(2,"start",2.0));
  secondPattern.put("end",new Event(4,"end",4.0));
  expectedPatterns.add(secondPattern);
  Collection<Map<String,Event>> actualPatterns=runNFA(nfa,streamEvents);
  assertEquals(expectedPatterns,actualPatterns);
}
