{
  CompressionLevel next=lastCompressionLevel;
  if (nextEvaluationRound == 0) {
    if (evaluationPhase) {
switch (nextEvaluationLevel) {
case NO_COMPRESSION:
        nextEvaluationLevel=CompressionLevel.LIGHT_COMPRESSION;
      nextEvaluationRound=ROUNDS_WITHOUT_EVALUATION;
    next=CompressionLevel.NO_COMPRESSION;
  break;
case LIGHT_COMPRESSION:
nextEvaluationLevel=CompressionLevel.MEDIUM_COMPRESSION;
nextEvaluationRound=ROUNDS_WITHOUT_EVALUATION;
next=CompressionLevel.LIGHT_COMPRESSION;
noCompressionTime=lastCompressionTime;
break;
case MEDIUM_COMPRESSION:
nextEvaluationLevel=CompressionLevel.HEAVY_COMPRESSION;
nextEvaluationRound=ROUNDS_WITHOUT_EVALUATION;
next=CompressionLevel.HEAVY_COMPRESSION;
lightCompressionTime=lastCompressionTime;
break;
case HEAVY_COMPRESSION:
nextEvaluationLevel=CompressionLevel.NO_COMPRESSION;
nextEvaluationRound=ROUNDS_WITHOUT_EVALUATION;
next=CompressionLevel.HEAVY_COMPRESSION;
evaluationPhase=false;
mediumHeavyCompressionTime=lastCompressionTime;
break;
}
}
 else {
heavyCompressionTime=lastCompressionTime;
this.lastCompressionDecision=next;
nextEvaluationRound=ROUNDS_UNTIL_RESET * resetIncreaseFactor;
}
}
nextEvaluationRound--;
return next;
}
