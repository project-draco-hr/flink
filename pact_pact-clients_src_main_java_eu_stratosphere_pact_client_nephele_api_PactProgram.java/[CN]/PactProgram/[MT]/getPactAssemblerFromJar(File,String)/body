{
  Class<? extends PlanAssembler> clazz=null;
  checkJarFile(jarFile);
  try {
    URL url=jarFile.getAbsoluteFile().toURI().toURL();
    ClassLoader loader=new URLClassLoader(new URL[]{url},this.getClass().getClassLoader());
    clazz=Class.forName(className,true,loader).asSubclass(PlanAssembler.class);
  }
 catch (  MalformedURLException e) {
    throw new ProgramInvocationException("The given JAR file could not be translated to a valid URL for class access.",e);
  }
catch (  ClassNotFoundException e) {
    throw new ProgramInvocationException("The pact plan assembler class '" + className + "' was not found in the jar file '"+ jarFile.getPath()+ "'.",e);
  }
catch (  ClassCastException e) {
    throw new ProgramInvocationException("The pact plan assembler class '" + className + "' cannot be cast to PlanAssembler.",e);
  }
catch (  Throwable t) {
    throw new ProgramInvocationException("An unknown problem ocurred during the instantiation of the " + "program assembler: " + t,t);
  }
  return clazz;
}
