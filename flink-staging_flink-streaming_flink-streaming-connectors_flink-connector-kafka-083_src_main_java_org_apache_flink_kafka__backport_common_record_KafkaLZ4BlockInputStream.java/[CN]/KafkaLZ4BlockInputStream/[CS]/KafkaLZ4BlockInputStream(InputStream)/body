{
  super(in);
  decompressor=LZ4Factory.fastestInstance().safeDecompressor();
  checksum=XXHashFactory.fastestInstance().hash32();
  readHeader();
  maxBlockSize=bd.getBlockMaximumSize();
  buffer=new byte[maxBlockSize];
  compressedBuffer=new byte[maxBlockSize];
  bufferOffset=0;
  bufferSize=0;
  finished=false;
}
