{
  if (emitEmpty || !buffer.isEmpty()) {
    StreamWindow<T> currentWindow=createEmptyWindow();
    currentWindow.addAll(buffer);
    collector.collect(new StreamRecord<StreamWindow<T>>(currentWindow));
  }
}
