{
  if (!running) {
    LOG.warn("Unable to commit offsets on closed consumer");
    return;
  }
  Map<TopicPartition,OffsetAndMetadata> kafkaCheckpointOffsets=convertToCommitMap(checkpointOffsets);
synchronized (this.consumer) {
    this.consumer.commitSync(kafkaCheckpointOffsets);
  }
}
