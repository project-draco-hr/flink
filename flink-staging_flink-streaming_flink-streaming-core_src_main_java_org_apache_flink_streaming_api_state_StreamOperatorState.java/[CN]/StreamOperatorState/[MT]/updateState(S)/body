{
  if (state == null) {
    throw new RuntimeException("Cannot set state to null.");
  }
  this.state=state;
}
