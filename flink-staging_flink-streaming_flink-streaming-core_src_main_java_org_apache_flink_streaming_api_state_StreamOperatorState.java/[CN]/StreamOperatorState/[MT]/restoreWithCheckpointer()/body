{
  update(checkpointer.restoreState((C)checkpoint));
  restored=true;
  checkpoint=null;
}
