{
  if (this.channelCheckpoints.containsKey(sourceChannelID)) {
    LOG.error("Output channel " + sourceChannelID + " is already registered");
    return;
  }
  final ChannelCheckpoint channelCheckpoint=new ChannelCheckpoint(this.executionVertexID,sourceChannelID,this.checkpointManager.getTmpDir(),byteBufferedChannelManager);
  if (this.checkpointingDecision == CheckpointingDecisionState.CHECKPOINTING) {
    try {
      channelCheckpoint.makePersistent();
    }
 catch (    IOException ioe) {
      LOG.error(ioe);
    }
  }
  this.channelCheckpoints.put(sourceChannelID,channelCheckpoint);
}
