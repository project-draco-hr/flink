{
  try {
switch (this.checkpointingDecision) {
case NO_CHECKPOINTING:
      return;
case UNDECIDED:
case CHECKPOINTING:
    final ChannelCheckpoint channelCheckpoint=this.channelCheckpoints.get(transferEnvelope.getSource());
  if (channelCheckpoint == null) {
    LOG.error("Cannot find output channel with ID " + transferEnvelope.getSource());
    return;
  }
channelCheckpoint.addToCheckpoint(transferEnvelope);
break;
}
}
 catch (IOException ioe) {
ioe.printStackTrace();
LOG.error(ioe);
discardCheckpoint();
}
}
