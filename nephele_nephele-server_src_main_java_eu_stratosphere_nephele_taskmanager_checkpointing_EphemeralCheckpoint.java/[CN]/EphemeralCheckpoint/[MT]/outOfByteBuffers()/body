{
  if (this.checkpointingDecision != CheckpointingDecisionState.UNDECIDED) {
    return;
  }
  LOG.info("Checkpoint Decision for " + this.executionVertexID + " requested ");
  CheckpointProfilingData profilingData=null;
  try {
    profilingData=this.checkpointManager.getProfilingData();
  }
 catch (  ProfilingException e) {
    e.printStackTrace();
  }
  if (profilingData != null) {
    if (profilingData.getTransmittedBytes() == 0 || profilingData.getReceivedBytes() == 0) {
      discardCheckpoint();
    }
 else {
      Random random=new Random(System.currentTimeMillis());
      boolean checkp=random.nextBoolean();
      if (checkp) {
        makeCheckpointPersistent();
      }
 else {
        discardCheckpoint();
      }
    }
  }
 else {
    LOG.info("Discarding Checkpoint no profiling data");
    discardCheckpoint();
  }
}
