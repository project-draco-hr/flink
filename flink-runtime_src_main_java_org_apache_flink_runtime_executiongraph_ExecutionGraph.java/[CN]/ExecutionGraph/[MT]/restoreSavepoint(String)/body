{
synchronized (progressLock) {
    if (savepointCoordinator != null) {
      LOG.info("Restoring savepoint: " + savepointPath + ".");
      ApplicationID oldAppId=appId;
      this.appId=savepointCoordinator.restoreSavepoint(getAllVertices(),savepointPath);
      LOG.info("Set application ID to {} (from: {}).",appId,oldAppId);
    }
 else {
      throw new IllegalStateException("Checkpointing disabled.");
    }
  }
}
