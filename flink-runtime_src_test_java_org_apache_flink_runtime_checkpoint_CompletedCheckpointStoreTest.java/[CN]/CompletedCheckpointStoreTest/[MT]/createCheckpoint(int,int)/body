{
  JobVertexID jvid=new JobVertexID();
  Map<JobVertexID,TaskState> taskGroupStates=new HashMap<>();
  TaskState taskState=new TaskState(jvid,numberOfStates);
  taskGroupStates.put(jvid,taskState);
  for (int i=0; i < numberOfStates; i++) {
    SerializedValue<StateHandle<?>> stateHandle=new SerializedValue<StateHandle<?>>(new CheckpointMessagesTest.MyHandle());
    taskState.putState(i,new SubtaskState(stateHandle,0,0));
  }
  return new TestCheckpoint(new JobID(),id,0,taskGroupStates);
}
