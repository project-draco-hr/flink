{
  if ((gateIndex >>> 7) != 0) {
    throw new IllegalArgumentException("Gate index " + gateIndex + " cannot be stored in 7 bits");
  }
  return ((entry & 0xffffff01) | ((gateIndex & 0x7f) << 1));
}
