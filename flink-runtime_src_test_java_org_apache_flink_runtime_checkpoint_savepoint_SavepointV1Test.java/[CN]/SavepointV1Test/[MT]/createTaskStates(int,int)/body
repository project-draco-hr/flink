{
  List<TaskState> taskStates=new ArrayList<>(numTaskStates);
  for (int i=0; i < numTaskStates; i++) {
    TaskState taskState=new TaskState(new JobVertexID(),numSubtaskStates,numSubtaskStates);
    for (int j=0; j < numSubtaskStates; j++) {
      StreamStateHandle stateHandle=new ByteStreamStateHandle("Hello".getBytes());
      taskState.putState(i,new SubtaskState(new ChainedStateHandle<>(Collections.singletonList(stateHandle)),0));
    }
    taskState.putKeyedState(0,new KeyGroupsStateHandle(new KeyGroupRangeOffsets(1,1,new long[]{42}),new ByteStreamStateHandle("Hello".getBytes())));
    taskStates.add(taskState);
  }
  return taskStates;
}
