{
  final ByteBuffer tempBuffer=getTempBuffer();
  if (!this.bufferDataSerializationStarted) {
    if (buffer == null) {
      throw new IllegalArgumentException("Argument buffer must not be null");
    }
    if (buffer.isInWriteMode()) {
      throw new IllegalStateException("Buffer to be serialized is still in write mode");
    }
    if (!(buffer instanceof FileBuffer)) {
      throw new IllegalArgumentException("Provided buffer is not a file buffer");
    }
    final FileBuffer fileBuffer=(FileBuffer)buffer;
    tempBuffer.clear();
    longToByteBuffer(fileBuffer.getOffset(),tempBuffer);
    this.bufferDataSerializationStarted=true;
  }
  if (tempBuffer.hasRemaining()) {
    writableByteChannel.write(tempBuffer);
  }
 else {
    return false;
  }
  return true;
}
