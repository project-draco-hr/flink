{
  if (coordinatorUnknown())   return RequestFuture.coordinatorNotAvailable();
  List<String> subscribedTopics=new ArrayList<String>(subscriptions.subscribedTopics());
  log.debug("(Re-)joining group {} with subscribed topics {}",groupId,subscribedTopics);
  JoinGroupRequest request=new JoinGroupRequest(groupId,this.sessionTimeoutMs,subscribedTopics,this.consumerId,this.assignmentStrategy);
  log.debug("Issuing request ({}: {}) to coordinator {}",ApiKeys.JOIN_GROUP,request,this.consumerCoordinator.id());
  return client.send(consumerCoordinator,ApiKeys.JOIN_GROUP,request).compose(new JoinGroupResponseHandler());
}
