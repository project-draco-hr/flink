{
  this.channelLookupService=channelLookupService;
  this.connectionInfo=connectionInfo;
  this.globalBufferPool=new GlobalBufferPool(numNetworkBuffers,networkBufferSize);
  this.networkConnectionManager=new NetworkConnectionManager(this,connectionInfo.address(),connectionInfo.dataPort());
  this.channels=new ConcurrentHashMap<ChannelID,Channel>();
  this.receiverCache=new ConcurrentHashMap<ChannelID,EnvelopeReceiverList>();
  this.localBuffersPools=new ConcurrentHashMap<AbstractID,LocalBufferPoolOwner>();
  this.ourAddress=new InetSocketAddress(connectionInfo.address(),connectionInfo.dataPort());
  this.discardingDataPool=new SerialSingleBufferPool(networkBufferSize);
}
