{
  this.channelLookupService=channelLookupService;
  this.connectionInfo=connectionInfo;
  this.globalBufferPool=new GlobalBufferPool(numNetworkBuffers,networkBufferSize);
  this.nettyConnectionManager=new NettyConnectionManager(this,connectionInfo.address(),connectionInfo.dataPort(),networkBufferSize,numInThreads,numOutThreads,lowWatermark,highWaterMark);
  this.channels=new ConcurrentHashMap<ChannelID,Channel>();
  this.receiverCache=new ConcurrentHashMap<ChannelID,EnvelopeReceiverList>();
  this.localBuffersPools=new ConcurrentHashMap<AbstractID,LocalBufferPoolOwner>();
  this.ourAddress=new InetSocketAddress(connectionInfo.address(),connectionInfo.dataPort());
  this.discardBufferPool=new DiscardBufferPool();
}
