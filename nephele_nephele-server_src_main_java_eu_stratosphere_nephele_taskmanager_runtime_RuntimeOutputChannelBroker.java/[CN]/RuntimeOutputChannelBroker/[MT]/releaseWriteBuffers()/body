{
  this.incomingEventQueue.processQueuedEvents();
  if (this.outgoingTransferEnvelope == null) {
    LOG.error("Cannot find transfer envelope for channel with ID " + this.byteBufferedOutputChannel.getID());
    return;
  }
  if (this.outgoingTransferEnvelope.getBuffer() == null) {
    LOG.error("Channel " + this.byteBufferedOutputChannel.getID() + " has no buffer attached");
    return;
  }
  final Buffer buffer=this.outgoingTransferEnvelope.getBuffer();
  buffer.finishWritePhase();
  this.forwarder.forwardEnvelope(this.outgoingTransferEnvelope);
  this.outgoingTransferEnvelope=null;
}
