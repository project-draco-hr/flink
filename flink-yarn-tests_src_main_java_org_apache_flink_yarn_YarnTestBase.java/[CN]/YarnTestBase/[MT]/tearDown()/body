{
  if (yarnCluster != null) {
    LOG.info("Shutting down MiniYarn cluster");
    yarnCluster.stop();
    yarnCluster=null;
  }
  if (isOnTravis()) {
    File target=new File("../target/" + yarnConfiguration.get(TEST_CLUSTER_NAME_KEY));
    if (!target.mkdirs()) {
      LOG.warn("Error creating dirs to {}",target);
    }
    File src=tmp.getRoot();
    LOG.info("copying the final files from {} to {}",src.getAbsolutePath(),target.getAbsolutePath());
    try {
      FileUtils.copyDirectoryToDirectory(src,target);
    }
 catch (    IOException e) {
      LOG.warn("Error copying the final files from {} to {}: msg: {}",src.getAbsolutePath(),target.getAbsolutePath(),e.getMessage(),e);
    }
  }
}
