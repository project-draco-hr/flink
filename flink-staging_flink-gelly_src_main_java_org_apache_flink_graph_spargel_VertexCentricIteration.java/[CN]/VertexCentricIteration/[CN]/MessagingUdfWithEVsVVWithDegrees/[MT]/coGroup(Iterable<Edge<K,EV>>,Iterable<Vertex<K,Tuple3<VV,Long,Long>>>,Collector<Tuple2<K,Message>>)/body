{
  final Iterator<Vertex<K,Tuple3<VV,Long,Long>>> stateIter=state.iterator();
  if (stateIter.hasNext()) {
    Vertex<K,Tuple3<VV,Long,Long>> vertexWithDegrees=stateIter.next();
    nextVertex.setField(vertexWithDegrees.f0,0);
    nextVertex.setField(vertexWithDegrees.f1.f0,1);
    messagingFunction.setInDegree(vertexWithDegrees.f1.f1);
    messagingFunction.setOutDegree(vertexWithDegrees.f1.f2);
    messagingFunction.set((Iterator<?>)edges.iterator(),out);
    messagingFunction.sendMessages(nextVertex);
  }
}
