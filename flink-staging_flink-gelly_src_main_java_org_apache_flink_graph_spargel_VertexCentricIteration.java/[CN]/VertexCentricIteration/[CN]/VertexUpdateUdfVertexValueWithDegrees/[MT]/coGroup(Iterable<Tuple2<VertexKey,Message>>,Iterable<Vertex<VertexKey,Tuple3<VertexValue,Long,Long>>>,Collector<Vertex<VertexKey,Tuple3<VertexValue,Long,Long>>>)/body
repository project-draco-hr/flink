{
  final Iterator<Vertex<VertexKey,Tuple3<VertexValue,Long,Long>>> vertexIter=vertex.iterator();
  if (vertexIter.hasNext()) {
    Vertex<VertexKey,Tuple3<VertexValue,Long,Long>> vertexState=vertexIter.next();
    @SuppressWarnings("unchecked") Iterator<Tuple2<?,Message>> downcastIter=(Iterator<Tuple2<?,Message>>)(Iterator<?>)messages.iterator();
    messageIter.setSource(downcastIter);
    vertexUpdateFunction.setOutputWithDegrees(vertexState,out);
    vertexUpdateFunction.updateVertexFromVertexCentricIteration(vertexState,messageIter);
  }
 else {
    final Iterator<Tuple2<VertexKey,Message>> messageIter=messages.iterator();
    if (messageIter.hasNext()) {
      String message="Target vertex does not exist!.";
      try {
        Tuple2<VertexKey,Message> next=messageIter.next();
        message="Target vertex '" + next.f0 + "' does not exist!.";
      }
 catch (      Throwable t) {
      }
      throw new Exception(message);
    }
 else {
      throw new Exception();
    }
  }
}
