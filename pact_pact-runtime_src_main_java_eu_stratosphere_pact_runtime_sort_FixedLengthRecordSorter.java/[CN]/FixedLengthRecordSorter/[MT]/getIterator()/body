{
  return new MutableObjectIterator<T>(){
    private final int size=size();
    private int current=0;
    private int currentSegmentIndex=0;
    private int currentOffset=0;
    @Override public boolean next(    T target){
      if (this.current < this.size) {
        this.current++;
        if ((this.currentOffset % segmentSize) > lastEntryOffset) {
          ++this.currentSegmentIndex;
          this.currentOffset=this.currentSegmentIndex * segmentSize;
        }
        int pointer=this.currentOffset;
        this.currentOffset+=recordSize;
        try {
          getRecordFromBuffer(target,pointer);
          return true;
        }
 catch (        IOException ioe) {
          throw new RuntimeException(ioe);
        }
      }
 else {
        return false;
      }
    }
  }
;
}
