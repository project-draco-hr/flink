{
  if (this.stagedBuffer != null) {
    throw new IllegalStateException("No channel read event should be fired " + "as long as the a buffer is staged.");
  }
  ByteBuf in=(ByteBuf)msg;
  if (this.bytesToSkip > 0) {
    this.bytesToSkip=skipBytes(in,this.bytesToSkip);
    if (this.bytesToSkip > 0) {
      in.release();
      return;
    }
  }
  decodeBuffer(in,ctx);
}
