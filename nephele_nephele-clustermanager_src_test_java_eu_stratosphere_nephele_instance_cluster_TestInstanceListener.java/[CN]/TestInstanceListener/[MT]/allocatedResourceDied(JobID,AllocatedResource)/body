{
  List<AllocatedResource> allocatedResources=this.resourcesOfJobs.get(jobID);
  if (allocatedResources == null) {
    throw new IllegalStateException("Unable to find allocated resources for job with ID " + jobID);
  }
  if (!allocatedResources.remove(allocatedResource)) {
    throw new IllegalStateException("Resource " + allocatedResource.getAllocationID() + " is not assigned to job "+ jobID);
  }
  if (allocatedResources.isEmpty()) {
    this.resourcesOfJobs.remove(jobID);
  }
}
