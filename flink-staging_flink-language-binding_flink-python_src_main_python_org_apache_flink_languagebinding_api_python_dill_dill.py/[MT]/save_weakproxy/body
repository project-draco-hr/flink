@register(ProxyType)
@register(CallableProxyType)
def save_weakproxy(pickler, obj):
    refobj = _locate_object(_proxy_helper(obj))
    try:
        log.info(('R2: %s' % obj))
    except ReferenceError:
        log.info(('R3: %s' % sys.exc_info()[1]))
    if (type(obj) is CallableProxyType):
        callable = True
    else:
        callable = False
    pickler.save_reduce(_create_weakproxy, (refobj, callable), obj=obj)
    return
