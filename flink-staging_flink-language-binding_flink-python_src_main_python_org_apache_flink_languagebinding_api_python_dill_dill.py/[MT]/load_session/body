def load_session(filename='/tmp/session.pkl', main_module=_main_module):
    'update the __main__ module with the state from the session file'
    f = open(filename, 'rb')
    try:
        unpickler = Unpickler(f)
        unpickler._main_module = main_module
        unpickler._session = True
        module = unpickler.load()
        unpickler._session = False
        main_module.__dict__.update(module.__dict__)
    finally:
        f.close()
    return
