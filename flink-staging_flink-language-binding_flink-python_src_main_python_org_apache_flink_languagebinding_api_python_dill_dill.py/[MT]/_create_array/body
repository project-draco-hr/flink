def _create_array(f, args, state, npdict=None):
    array = f(*args)
    array.__setstate__(state)
    if (npdict is not None):
        array.__dict__.update(npdict)
    return array
