def _save_file(pickler, obj, open_):
    obj.flush()
    if obj.closed:
        position = None
    elif (obj in (sys.__stdout__, sys.__stderr__, sys.__stdin__)):
        position = (-1)
    else:
        position = obj.tell()
    if (pickler._fmode == FILE_FMODE):
        f = open_(obj.name, 'r')
        fdata = f.read()
        f.close()
    else:
        fdata = ''
    strictio = pickler._strictio
    fmode = pickler._fmode
    pickler.save_reduce(_create_filehandle, (obj.name, obj.mode, position, obj.closed, open_, strictio, fmode, fdata), obj=obj)
    return
