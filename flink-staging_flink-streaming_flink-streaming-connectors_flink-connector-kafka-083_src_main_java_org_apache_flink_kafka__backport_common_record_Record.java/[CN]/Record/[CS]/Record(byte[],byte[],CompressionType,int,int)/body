{
  this(ByteBuffer.allocate(recordSize(key == null ? 0 : key.length,value == null ? 0 : valueSize >= 0 ? valueSize : value.length - valueOffset)));
  write(this.buffer,key,value,type,valueOffset,valueSize);
  this.buffer.rewind();
}
