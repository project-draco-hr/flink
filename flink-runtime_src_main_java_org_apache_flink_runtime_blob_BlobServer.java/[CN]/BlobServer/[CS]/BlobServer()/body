{
  try {
    this.serverSocket=new ServerSocket(0);
    start();
    if (LOG.isInfoEnabled()) {
      LOG.info(String.format("Started BLOB server on port %d",this.serverSocket.getLocalPort()));
    }
    this.storageDir=BlobUtils.initStorageDirectory();
    LOG.info("Created BLOB server storage directory " + storageDir);
    BlobUtils.addDeleteDirectoryShutdownHook(storageDir,LOG);
  }
 catch (  IOException e) {
    throw new IOException("Could not create BlobServer with random port.",e);
  }
}
