{
  this.clazz=clazz;
  this.fieldSerializers=(TypeSerializer<Object>[])fieldSerializers;
  this.fields=fields;
  this.numFields=fieldSerializers.length;
  for (int i=0; i < numFields; i++) {
    this.fields[i].setAccessible(true);
  }
  boolean stateful=false;
  for (  TypeSerializer<?> ser : fieldSerializers) {
    if (ser.isStateful()) {
      stateful=true;
      break;
    }
  }
  this.stateful=stateful;
}
