{
  Type[] interfaceTypes=clazz.getGenericInterfaces();
  for (  Type t : interfaceTypes) {
    Type parameter=getParameterTypeFromGenericType(baseClass,typeHierarchy,t,pos);
    if (parameter != null) {
      return parameter;
    }
  }
  Type t=clazz.getGenericSuperclass();
  Type parameter=getParameterTypeFromGenericType(baseClass,typeHierarchy,t,pos);
  if (parameter != null) {
    return parameter;
  }
  throw new IllegalArgumentException(baseClass.getName() + " must be implemented.");
}
