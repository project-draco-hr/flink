{
  processInputAndSendMessageThroughDataChannel();
  for (int n=0; n < NUM_ITERATIONS; n++) {
    try {
      DataInputView di=backChannel.getReadEndAfterSuperstepEnded();
      StreamRecord sr=new ArrayStreamRecord();
      sr.setDeseralizationDelegate(dd,ts);
      sr.read(di);
      System.out.println(sr);
      System.out.println(di.readInt());
      actionLog.add("head reads in iteration " + n);
      Thread.sleep(random.nextInt(100));
      if (n != NUM_ITERATIONS - 1) {
        processInputAndSendMessageThroughDataChannel();
      }
    }
 catch (    InterruptedException e) {
      throw new RuntimeException(e);
    }
catch (    IOException e) {
      e.printStackTrace();
    }
  }
}
