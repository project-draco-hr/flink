{
  CommandLine cmd=this.parseOptions(args);
  @SuppressWarnings("unchecked") final List<String> scripts=cmd.getArgList();
  if (scripts.size() == 0)   dealWithError(null,"No scripts to execute");
  this.configureClient(cmd);
  for (  final String script : scripts) {
    final SopremoPlan plan=this.parseScript(script);
    this.sopremoClient.submit(plan,new StateListener(){
      @Override public void stateChanged(      ExecutionState executionState,      String detail){
        System.out.println();
switch (executionState) {
case ENQUEUED:
          System.out.print("Submitted script " + script);
        break;
case RUNNING:
      System.out.print("Executing script " + script);
    break;
case FINISHED:
  System.out.print(detail);
break;
case ERROR:
System.out.print(detail);
break;
}
}
@Override protected void stateNotChanged(ExecutionState state,String detail){
System.out.print(".");
}
}
,cmd.hasOption("wait"));
}
this.sopremoClient.close();
}
