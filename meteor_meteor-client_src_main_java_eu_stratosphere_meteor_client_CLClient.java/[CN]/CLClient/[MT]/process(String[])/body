{
  CommandLine cmd=this.parseOptions(args);
  final SopremoPlan plan=this.parseScript(cmd);
  this.configureClient(cmd);
  this.sopremoClient.submit(plan,new StateListener(){
    @Override public void stateChanged(    ExecutionState executionState,    String detail){
      System.out.println();
switch (executionState) {
case ENQUEUED:
        System.out.print("Submitted script");
      break;
case RUNNING:
    System.out.print("Executing script");
  break;
case FINISHED:
System.out.print(detail);
break;
case ERROR:
System.out.print(detail);
break;
}
}
@Override protected void stateNotChanged(ExecutionState state,String detail){
System.out.print(".");
}
}
,cmd.hasOption("wait"));
this.sopremoClient.close();
}
