{
  CommandLine cmd=this.parseOptions(args);
  final SopremoPlan plan=this.parseScript(cmd);
  this.configureClient(cmd);
  this.sopremoClient.submit(plan,new StateListener(){
    @Override public void stateChanged(    ExecutionState executionState,    String detail){
switch (executionState) {
case ENQUEUED:
        System.out.print("Submitted script");
      break;
case RUNNING:
    System.out.print("\nExecuting script");
  break;
case FINISHED:
System.out.println("\n" + detail);
break;
case ERROR:
System.err.println("\n" + detail);
break;
}
}
@Override public void progressUpdate(ExecutionState status,String detail){
super.progressUpdate(status,detail);
System.out.print(".");
}
}
,cmd.hasOption("wait"));
this.sopremoClient.close();
}
