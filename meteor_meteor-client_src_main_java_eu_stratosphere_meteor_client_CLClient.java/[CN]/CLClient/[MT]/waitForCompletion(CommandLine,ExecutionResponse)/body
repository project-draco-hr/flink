{
  ExecutionResponse lastResponse=submissionResponse;
  int updateTime=5000;
  if (cmd.hasOption("updateTime"))   updateTime=Integer.parseInt(cmd.getOptionValue("updateTime"));
  try {
    System.out.print("Submitted script");
    while (lastResponse.getStatus() == ExecutionStatus.ENQUEUED) {
      lastResponse=this.executor.getStatus(this.submittedJobId);
      sleepSafely(updateTime);
      System.out.print('.');
    }
    System.out.println();
    System.out.print("Running script");
    while (lastResponse.getStatus() == ExecutionStatus.RUNNING) {
      lastResponse=this.executor.getStatus(this.submittedJobId);
      sleepSafely(updateTime);
      System.out.print('.');
    }
    System.out.println();
    if (lastResponse.getStatus() == ExecutionStatus.ERROR)     this.dealWithError(null,"Execution of the script yielded errors: " + lastResponse.getDetails());
 else     System.out.println("Successfully executed script: " + lastResponse.getDetails());
  }
 catch (  Exception e) {
    this.dealWithError(e,"Error while waiting for job execution");
  }
}
