{
  for (int targetChannel=0; targetChannel < this.numChannels; targetChannel++) {
    RecordSerializer<T> serializer=this.serializers[targetChannel];
    Buffer buffer=serializer.getCurrentBuffer();
    if (buffer == null) {
      super.sendEvent(EndOfSuperstepEvent.INSTANCE,targetChannel);
    }
 else {
      super.sendBufferAndEvent(buffer,EndOfSuperstepEvent.INSTANCE,targetChannel);
      buffer=this.bufferPool.requestBufferBlocking(this.bufferPool.getBufferSize());
      serializer.setNextBuffer(buffer);
    }
  }
}
