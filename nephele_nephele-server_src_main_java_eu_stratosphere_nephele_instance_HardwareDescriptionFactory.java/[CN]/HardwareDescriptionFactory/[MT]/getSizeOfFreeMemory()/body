{
  final List<MemoryPoolMXBean> poolBeans=ManagementFactory.getMemoryPoolMXBeans();
  for (  MemoryPoolMXBean bean : poolBeans) {
    if (bean.getName().equals(TENURED_POOL_NAME)) {
      final MemoryUsage usage=bean.getUsage();
      return (usage.getMax() - usage.getUsed());
    }
  }
  Runtime r=Runtime.getRuntime();
  final long maximum=r.maxMemory();
  return (long)(0.7f * (maximum - r.totalMemory() + r.freeMemory()));
}
