{
synchronized (lock) {
    if (!collectedEvents.containsKey(jobId)) {
      collectedEvents.put(jobId,new ArrayList<AbstractEvent>());
    }
    collectedEvents.get(jobId).add(event);
    cleanup(jobId);
  }
}
