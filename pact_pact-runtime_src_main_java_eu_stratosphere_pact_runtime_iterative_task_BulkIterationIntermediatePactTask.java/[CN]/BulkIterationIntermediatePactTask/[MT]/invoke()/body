{
  listenToEndOfSuperstep(new Callback<EndOfSuperstepEvent>(){
    @Override public void execute(    EndOfSuperstepEvent event) throws Exception {
      propagateEvent(event);
    }
  }
);
  listenToTermination(new Callback<TerminationEvent>(){
    @Override public void execute(    TerminationEvent event) throws Exception {
      propagateEvent(event);
      terminated=true;
    }
  }
);
  boolean inFirstIteration=true;
  while (!terminated) {
    System.out.println("Intermediate: starting iteration [" + numIterations + "] ["+ System.currentTimeMillis()+ "]");
    if (!inFirstIteration) {
      reinstantiateDriver();
      inFirstIteration=false;
    }
    super.invoke();
    System.out.println("Intermediate: finishing iteration [" + numIterations + "] ["+ System.currentTimeMillis()+ "]");
    numIterations++;
  }
}
