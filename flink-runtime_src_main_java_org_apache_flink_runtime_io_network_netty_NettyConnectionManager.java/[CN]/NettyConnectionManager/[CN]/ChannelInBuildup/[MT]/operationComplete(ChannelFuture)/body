{
  if (future.isSuccess()) {
    if (LOG.isDebugEnabled()) {
      LOG.debug(String.format("Channel %s connected",future.channel()));
    }
    handInChannel(new OutboundConnectionQueue(future.channel(),receiver,connectionManager,closeAfterIdleMs));
  }
 else   if (numRetries > 0) {
    LOG.debug(String.format("Connection request did not succeed, retrying (%d attempts left)",numRetries));
    out.connect(receiver.getConnectionAddress()).addListener(this);
    numRetries--;
  }
 else {
    if (future.getClass() != null) {
      notifyOfError(future.cause());
    }
 else {
      notifyOfError(new Exception("Connection could not be established."));
    }
  }
}
