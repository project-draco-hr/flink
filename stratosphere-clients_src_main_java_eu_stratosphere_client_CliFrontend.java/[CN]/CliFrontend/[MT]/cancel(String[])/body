{
  CommandLine line;
  try {
    line=parser.parse(CANCEL_OPTIONS,args,false);
  }
 catch (  MissingOptionException e) {
    System.out.println(e.getMessage());
    printHelpForCancel();
    return 1;
  }
catch (  UnrecognizedOptionException e) {
    System.out.println(e.getMessage());
    printHelpForCancel();
    return 2;
  }
catch (  Exception e) {
    return handleError(e);
  }
  if (printHelp) {
    printHelpForCancel();
    return 0;
  }
  String jobId=null;
  if (line.hasOption(ID_OPTION.getOpt())) {
    jobId=line.getOptionValue(ID_OPTION.getOpt());
  }
 else {
    System.out.println("Error: Specify a jobID to cancel a job.");
    printHelpForCancel();
    return 1;
  }
  ExtendedManagementProtocol jmConn=null;
  try {
    jmConn=getJMConnection();
    jmConn.cancelJob(new JobID(StringUtils.hexStringToByte(jobId)));
    return 0;
  }
 catch (  Throwable t) {
    return handleError(t);
  }
 finally {
    if (jmConn != null) {
      try {
        RPC.stopProxy(jmConn);
      }
 catch (      Throwable t) {
        System.out.println("Could not cleanly shut down connection from compiler to job manager");
      }
    }
    jmConn=null;
  }
}
