{
  final long timestamp=System.currentTimeMillis();
  final ExecutionJobVertex vertex=graph.getJobVertex(vertexId);
  final String taskName=vertex == null ? "(null)" : vertex.getJobVertex().getName();
  final int totalNumberOfSubtasks=vertex == null ? -1 : vertex.getParallelism();
  final VertexEvent vertexEvent=new VertexEvent(timestamp,vertexId,taskName,totalNumberOfSubtasks,subtask,newExecutionState,optionalMessage);
  this.eventCollector.addEvent(jobID,vertexEvent);
  final ExecutionStateChangeEvent executionStateChangeEvent=new ExecutionStateChangeEvent(timestamp,vertexId.toManagementVertexId(subtask),newExecutionState);
  this.eventCollector.updateManagementGraph(jobID,executionStateChangeEvent,optionalMessage);
  this.eventCollector.addEvent(jobID,executionStateChangeEvent);
}
