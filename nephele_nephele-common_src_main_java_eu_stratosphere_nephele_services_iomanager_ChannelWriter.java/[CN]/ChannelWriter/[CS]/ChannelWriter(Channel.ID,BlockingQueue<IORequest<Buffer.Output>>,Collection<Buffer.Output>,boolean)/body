{
  super(channelID,requestQueue);
  try {
    this.fileChannel.truncate(0);
  }
 catch (  IOException e) {
    throw new ServiceException(e);
  }
  if (filledBuffers) {
    this.emptyBufferQueue=new ArrayBlockingQueue<Buffer.Output>(buffers.size(),true);
    this.emptyBufferQueueSize=buffers.size();
    for (    Buffer.Output buffer : buffers)     requestQueue.add(new IORequest<Buffer.Output>(this,buffer));
  }
 else {
    this.emptyBufferQueue=new ArrayBlockingQueue<Buffer.Output>(buffers.size(),true,buffers);
    this.emptyBufferQueueSize=buffers.size();
  }
  currentBuffer=nextBuffer();
}
