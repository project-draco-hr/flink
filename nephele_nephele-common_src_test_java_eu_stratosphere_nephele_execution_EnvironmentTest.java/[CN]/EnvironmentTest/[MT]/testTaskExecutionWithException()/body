{
  final Environment env=constructTestEnvironment();
  env.getRuntimeConfiguration().setBoolean(SampleTask.EXCEPTION_SCENARIO_KEY,true);
  try {
    env.instantiateInvokable();
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  final TestExecutionListener executionListener=new TestExecutionListener(env,ExecutionScenario.EXCEPTION);
  env.registerExecutionListener(executionListener);
  env.startExecution();
  executionListener.waitForExecutionScenarioToComplete();
  env.unregisterExecutionListener(executionListener);
  checkInputOutputGates(env);
}
