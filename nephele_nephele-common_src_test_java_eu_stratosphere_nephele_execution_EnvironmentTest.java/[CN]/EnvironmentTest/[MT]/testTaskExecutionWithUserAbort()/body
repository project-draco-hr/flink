{
  final Environment env=constructTestEnvironment();
  env.getRuntimeConfiguration().setBoolean(SampleTask.USER_ABORT_SCENARIO_KEY,true);
  env.instantiateInvokable();
  final TestExecutionListener executionListener=new TestExecutionListener(env,ExecutionScenario.USER_ABORT);
  env.registerExecutionListener(executionListener);
  env.startExecution();
  executionListener.waitUntilTaskExecutionStarted();
  env.cancelExecution();
  executionListener.waitForExecutionScenarioToComplete();
  env.unregisterExecutionListener(executionListener);
  checkInputOutputGates(env);
}
