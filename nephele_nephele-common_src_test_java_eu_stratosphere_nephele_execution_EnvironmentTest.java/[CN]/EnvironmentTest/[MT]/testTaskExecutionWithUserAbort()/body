{
  final Environment env=constructTestEnvironment();
  env.getRuntimeConfiguration().setBoolean(SampleTask.USER_ABORT_SCENARIO_KEY,true);
  try {
    env.instantiateInvokable();
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  final TestExecutionListener executionListener=new TestExecutionListener(env,ExecutionScenario.USER_ABORT);
  env.registerExecutionListener(executionListener);
  env.startExecution();
  executionListener.waitUntilTaskExecutionStarted();
  env.cancelExecution();
  executionListener.waitForExecutionScenarioToComplete();
  env.unregisterExecutionListener(executionListener);
  checkInputOutputGates(env);
}
