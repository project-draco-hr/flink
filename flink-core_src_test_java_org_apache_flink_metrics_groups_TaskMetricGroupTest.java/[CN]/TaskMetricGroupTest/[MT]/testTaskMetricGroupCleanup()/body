{
  TaskManagerMetricGroup taskManagerMetricGroup=new TaskManagerMetricGroup(registry,"localhost","0");
  TaskManagerJobMetricGroup taskManagerJobMetricGroup=new TaskManagerJobMetricGroup(registry,taskManagerMetricGroup,new JobID(),"job");
  TaskMetricGroup taskMetricGroup=new TaskMetricGroup(registry,taskManagerJobMetricGroup,new AbstractID(),new AbstractID(),"task",0,0);
  IOMetricGroup ioMetricGroup=taskMetricGroup.getIOMetricGroup();
  assertTrue(registry.getNumberRegisteredMetrics() > 0);
  taskMetricGroup.close();
  assertTrue(ioMetricGroup.isClosed());
  assertEquals(0,registry.getNumberRegisteredMetrics());
}
