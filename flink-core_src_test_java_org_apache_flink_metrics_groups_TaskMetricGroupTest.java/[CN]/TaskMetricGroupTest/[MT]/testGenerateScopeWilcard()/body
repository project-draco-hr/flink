{
  TaskManagerScopeFormat tmFormat=new TaskManagerScopeFormat(ScopeFormat.DEFAULT_SCOPE_TASKMANAGER_GROUP);
  TaskManagerJobScopeFormat jmFormat=new TaskManagerJobScopeFormat(ScopeFormat.DEFAULT_SCOPE_TASKMANAGER_JOB_GROUP,tmFormat);
  TaskScopeFormat format=new TaskScopeFormat("*.<task_attempt_id>.<subtask_index>",jmFormat);
  AbstractID executionId=new AbstractID();
  TaskManagerMetricGroup tmGroup=new TaskManagerMetricGroup(registry,"theHostName","test-tm-id");
  TaskManagerJobMetricGroup jmGroup=new TaskManagerJobMetricGroup(registry,tmGroup,new JobID(),"myJobName");
  TaskMetricGroup taskGroup=new TaskMetricGroup(registry,jmGroup,format,new AbstractID(),executionId,"aTaskName",13,1);
  assertArrayEquals(new String[]{"theHostName","taskmanager","test-tm-id","myJobName",executionId.toString(),"13"},taskGroup.getScopeComponents());
  assertEquals("theHostName.taskmanager.test-tm-id.myJobName." + executionId + ".13.name",taskGroup.getMetricIdentifier("name"));
  registry.shutdown();
}
