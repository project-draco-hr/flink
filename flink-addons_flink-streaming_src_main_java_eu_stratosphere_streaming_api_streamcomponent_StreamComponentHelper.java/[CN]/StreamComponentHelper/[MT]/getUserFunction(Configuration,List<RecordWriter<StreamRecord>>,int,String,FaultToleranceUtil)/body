{
  Class<? extends StreamInvokableComponent> userFunctionClass=taskConfiguration.getClass("userfunction",DefaultTaskInvokable.class,StreamInvokableComponent.class);
  StreamInvokableComponent userFunction=null;
  FaultToleranceType faultToleranceType=FaultToleranceType.from(taskConfiguration.getInteger("faultToleranceBuffer",0));
  try {
    userFunction=userFunctionClass.newInstance();
    userFunction.declareOutputs(outputs,instanceID,name,recordBuffer,faultToleranceType);
  }
 catch (  InstantiationException e) {
    log.error("Cannot instanciate user function: " + userFunctionClass.getSimpleName());
  }
catch (  Exception e) {
    log.error("Cannot use user function: " + userFunctionClass.getSimpleName());
  }
  return userFunction;
}
