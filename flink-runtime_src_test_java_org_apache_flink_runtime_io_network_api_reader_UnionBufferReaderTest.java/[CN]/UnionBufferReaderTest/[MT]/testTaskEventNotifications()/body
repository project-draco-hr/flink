{
  final MockBufferReader reader1=new MockBufferReader();
  final MockBufferReader reader2=new MockBufferReader();
  final UnionBufferReader unionReader=new UnionBufferReader(reader1.getMock(),reader2.getMock());
  reader1.readEvent().finish();
  reader2.readEvent().finish();
  final EventListener<TaskEvent> listener=mock(EventListener.class);
  unionReader.subscribeToTaskEvent(listener,TestTaskEvent.class);
  consumeAndVerify(unionReader,0);
  verifyListenerCalled(listener,2);
}
