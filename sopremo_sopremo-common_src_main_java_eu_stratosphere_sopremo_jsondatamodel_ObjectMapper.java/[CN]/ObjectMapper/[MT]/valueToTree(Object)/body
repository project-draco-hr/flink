{
  if (value == null) {
    return NullNode.getInstance();
  }
  Class<? extends Object> valueClass=value.getClass();
  if (value instanceof JsonNode) {
    return (JsonNode)value;
  }
  if (value instanceof StringBuilder) {
    return TextNode.valueOf(((StringBuilder)value).toString());
  }
  if (valueClass.isArray()) {
    ArrayNode arrayNode=new ArrayNode();
    int length=Array.getLength(value);
    for (int i=0; i < length; i++) {
      arrayNode.add(valueToTree(Array.get(value,i)));
    }
    return arrayNode;
  }
  if (value instanceof Boolean) {
    return BooleanNode.valueOf((Boolean)value);
  }
  try {
    return typeDict.get(valueClass).newInstance(value);
  }
 catch (  IllegalArgumentException e) {
    e.printStackTrace();
  }
catch (  SecurityException e) {
    e.printStackTrace();
  }
catch (  InstantiationException e) {
    e.printStackTrace();
  }
catch (  IllegalAccessException e) {
    e.printStackTrace();
  }
catch (  InvocationTargetException e) {
    e.printStackTrace();
  }
  return NullNode.getInstance();
}
