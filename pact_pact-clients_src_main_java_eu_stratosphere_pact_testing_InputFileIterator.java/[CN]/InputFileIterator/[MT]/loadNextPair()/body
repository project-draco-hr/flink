{
  try {
    do {
      while (this.currentFormat != null && this.currentFormat.reachedEnd())       if (this.formatIterator.hasNext())       this.currentFormat=this.formatIterator.next();
 else {
        this.nextRecord=NO_MORE_PAIR;
        return;
      }
      this.nextRecord=this.buffer[this.bufferIndex++ % 2];
    }
 while (!this.currentFormat.nextRecord(this.nextRecord));
  }
 catch (  final IOException e) {
    this.nextRecord=NO_MORE_PAIR;
    Assert.fail("reading expected values " + StringUtils.stringifyException(e));
  }
}
