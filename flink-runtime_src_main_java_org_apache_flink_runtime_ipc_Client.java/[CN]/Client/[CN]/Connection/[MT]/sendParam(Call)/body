{
  if (shouldCloseConnection.get()) {
    return;
  }
  DataOutputSerializer d=null;
  try {
synchronized (this.out) {
      d=new DataOutputSerializer(64);
      d.writeInt(call.id);
      call.param.write(d);
      ByteBuffer wrapper=d.wrapAsByteBuffer();
      byte[] data=wrapper.array();
      int dataLength=wrapper.limit();
      out.writeInt(dataLength);
      out.write(data,0,dataLength);
      out.flush();
    }
  }
 catch (  IOException e) {
    markClosed(e);
  }
}
