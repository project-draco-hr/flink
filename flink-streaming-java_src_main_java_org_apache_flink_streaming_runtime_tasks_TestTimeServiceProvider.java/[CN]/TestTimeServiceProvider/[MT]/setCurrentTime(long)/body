{
  this.currentTime=timestamp;
  Iterator<Map.Entry<Long,List<Runnable>>> it=registeredTasks.entrySet().iterator();
  List<Runnable> toRun=new ArrayList<>();
  while (it.hasNext()) {
    Map.Entry<Long,List<Runnable>> t=it.next();
    if (t.getKey() <= this.currentTime) {
      for (      Runnable r : t.getValue()) {
        toRun.add(r);
      }
      it.remove();
    }
  }
  for (  Runnable r : toRun) {
    r.run();
  }
}
