{
  if (sequenceNumber < 0) {
    throw new IOException("Invalid sequence number: " + sequenceNumber);
  }
  if (!this.serializationStarted) {
    this.tempBuffer.clear();
    integerToByteBuffer(sequenceNumber,0,this.tempBuffer);
    this.serializationStarted=true;
  }
  if (writableByteChannel.write(this.tempBuffer) == -1) {
    throw new IOException("Unexpected end of stream while serializing the sequence number");
  }
  if (!this.tempBuffer.hasRemaining()) {
    this.serializationState=SerializationState.SEQUENCENUMBERSERIALIZED;
    this.serializationStarted=false;
    return false;
  }
  return true;
}
