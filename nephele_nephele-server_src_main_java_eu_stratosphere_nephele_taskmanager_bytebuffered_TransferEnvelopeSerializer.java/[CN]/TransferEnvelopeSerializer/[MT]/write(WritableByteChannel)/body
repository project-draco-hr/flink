{
  while (true) {
    boolean moreDataFollows=false;
switch (serializationState) {
case NOTSERIALIZED:
      moreDataFollows=writeSequenceNumber(writableByteChannel,this.transferEnvelope.getSequenceNumber());
    break;
case SEQUENCENUMBERSERIALIZED:
  moreDataFollows=writeChannelID(writableByteChannel,this.transferEnvelope.getSource());
break;
case SOURCESERIALIZED:
moreDataFollows=writeChannelID(writableByteChannel,this.transferEnvelope.getTarget());
break;
case TARGETSERIALIZED:
moreDataFollows=writeNotification(writableByteChannel,this.transferEnvelope.getEventList());
break;
case NOTIFICATIONSSERIALIZED:
moreDataFollows=writeBuffer(writableByteChannel,this.transferEnvelope.getBuffer());
break;
case FULLYSERIALIZED:
return false;
}
if (moreDataFollows) {
return true;
}
}
}
