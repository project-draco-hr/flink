{
  IArrayNode others;
  if (target == null || target.getNumFields() != 1) {
    target=new PactRecord(this.getHeadSize() + this.getTailSize() + 1);
    others=new ArrayNode();
    target.setField(this.getHeadSize(),SopremoUtil.wrap(others));
  }
 else {
    others=(IArrayNode)SopremoUtil.unwrap(target.getField(this.getHeadSize(),JsonNodeWrapper.class));
    others.clear();
  }
  IJsonNode arrayElement;
  for (int i=0; i < this.getHeadSize(); i++) {
    arrayElement=((IArrayNode)value).get(i);
    if (!arrayElement.isMissing()) {
      target.setField(i,SopremoUtil.wrap(arrayElement));
    }
 else {
      target.setNull(i);
    }
  }
  if (this.getHeadTailSize() < ((IArrayNode)value).size()) {
    for (int i=this.getHeadSize(); i < ((IArrayNode)value).size() - this.getTailSize(); i++) {
      others.add(((IArrayNode)value).get(i));
    }
    for (int i=((IArrayNode)value).size() - this.getTailSize(); i < ((IArrayNode)value).size(); i++) {
      arrayElement=((IArrayNode)value).get(i);
      if (!arrayElement.isMissing()) {
        target.setField(i - others.size() - 1,SopremoUtil.wrap(arrayElement));
      }
    }
  }
 else {
    for (int i=this.getHeadSize(); i < ((IArrayNode)value).size(); i++) {
      arrayElement=((IArrayNode)value).get(i);
      if (!arrayElement.isMissing()) {
        target.setField(i + 1,SopremoUtil.wrap(arrayElement));
      }
 else {
        target.setNull(i + 1);
      }
    }
  }
  return target;
}
