{
  try {
    final Invocation call=(Invocation)param;
    call.undoTypeConversion();
    final Method method=protocol.getMethod(call.getMethodName(),call.getParameterClasses());
    method.setAccessible(true);
    final Object value=method.invoke((Object)instance,(Object[])call.getParameters());
    if (IOReadableWritable.class.isAssignableFrom(method.getReturnType())) {
      return (IOReadableWritable)value;
    }
 else {
      try {
        return JavaToValueConverter.convertBoxedJavaType(value);
      }
 catch (      IllegalArgumentException e) {
        throw new IOException("The return type of method " + method.getName() + " is not a primitive type (or boxed primitive) and not of type IOReadableWriteable");
      }
    }
  }
 catch (  InvocationTargetException e) {
    final Throwable target=e.getTargetException();
    if (target instanceof IOException) {
      throw (IOException)target;
    }
 else {
      final IOException ioe=new IOException(target.toString());
      ioe.setStackTrace(target.getStackTrace());
      throw ioe;
    }
  }
catch (  Throwable e) {
    final IOException ioe=new IOException(e.toString());
    ioe.setStackTrace(e.getStackTrace());
    throw ioe;
  }
}
