{
switch (newExecutionState) {
case RUNNING:
    this.taskManagerProfiler.registerMainThreadForCPUProfiling(this.environment,this.environment.getExecutingThread(),vertexId,subtaskIndex,executionId);
  break;
case FINISHED:
case CANCELING:
case CANCELED:
case FAILED:
this.taskManagerProfiler.unregisterMainThreadFromCPUProfiling(this.environment,this.environment.getExecutingThread());
break;
default :
LOG.error(String.format("Unexpected state transition to %s for vertex %s (%d) attempt %s",newExecutionState,vertexId,subtaskIndex,executionId));
break;
}
}
