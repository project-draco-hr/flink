{
  if (arrayType instanceof Class) {
    return (Class<T>)arrayType;
  }
  Class<?> componentClass=(Class<?>)((ParameterizedType)componentType).getRawType();
  try {
    return (Class<T>)Class.forName("[L" + componentClass.getName() + ";");
  }
 catch (  ClassNotFoundException e) {
    throw new RuntimeException("Cannot create non-generic type class.",e);
  }
}
