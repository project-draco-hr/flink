{
  final SopremoModule sopremoModule=new SopremoModule(this.getName(),1,1);
  JsonStream input=sopremoModule.getInput(0);
  int itCount=this.numberOfPartitions;
  ExtractNonRelatingBlocks diagonalBlock=new ExtractNonRelatingBlocks().withInputs(input);
  diagonalBlock.setIterationStep(itCount);
  TransformAKey a=new TransformAKey().withInputs(input);
  a.setIterationStep(itCount);
  TransformBKey b=new TransformBKey().withInputs(input);
  b.setIterationStep(itCount);
  TransformXKey x=new TransformXKey().withInputs(input);
  x.setIterationStep(itCount);
  BAndXMatch xb=new BAndXMatch().withInputs(b,x);
  AMatch axb=new AMatch().withInputs(a,xb);
  sopremoModule.getOutput(0).setInput(0,new UnionAll().withInputs(diagonalBlock,a,new RestoreBKey().withInputs(b),axb));
  return sopremoModule;
}
