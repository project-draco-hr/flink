{
  final NetworkTopology networkTopology=NetworkTopology.createEmptyTopology();
  JobToInstancesMapping map=new JobToInstancesMapping("wenjun","1234567","abcdefg");
  CloudInstance ci=new CloudInstance("i-1234ABCD",new InstanceType("m1.small",1,1,2048,40,10),"wenjun",new InstanceConnectionInfo(new InetSocketAddress("localhost",6122).getAddress(),6122,6121),1234567890,networkTopology.getRootNode(),networkTopology);
  assertEquals(0,map.getNumberOfAssignedInstances());
  assertEquals(new ArrayList<CloudInstance>(),map.getAssignedInstances());
  map.assignInstanceToJob(ci);
  assertEquals(1,map.getNumberOfAssignedInstances());
  assertEquals(ci,map.getAssignedInstances().get(0));
  assertEquals(ci,map.getInstanceByConnectionInfo(new InstanceConnectionInfo(new InetSocketAddress("localhost",6122).getAddress(),6122,6121)));
  map.unassignedInstanceFromJob(ci);
  assertEquals(0,map.getNumberOfAssignedInstances());
  assertEquals(new ArrayList<CloudInstance>(),map.getAssignedInstances());
}
