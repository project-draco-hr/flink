{
  HashMap<String,Integer> expected=new HashMap<String,Integer>();
  HashMap<String,Integer> result=new HashMap<String,Integer>();
  state.put("10",10);
  state.put("20",20);
  state.put("30",30);
  expected.put("10",10);
  expected.put("20",20);
  expected.put("30",30);
  DBStateIterator<String,Integer> iterator=state.getIterator();
  while (iterator.hasNext()) {
    String key=iterator.getNextKey();
    Integer value=iterator.getNextValue();
    result.put(key,value);
    iterator.next();
  }
  state.close();
  assertEquals(expected,result);
}
