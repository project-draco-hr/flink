{
synchronized (connectLock) {
    try {
      PartitionRequestClientHandler requestHandler=(PartitionRequestClientHandler)channel.pipeline().get(PartitionRequestProtocol.CLIENT_REQUEST_HANDLER_NAME);
      partitionRequestClient=new PartitionRequestClient(channel,requestHandler,connectionId,clientFactory);
      if (disposeRequestClient) {
        partitionRequestClient.disposeIfNotUsed();
      }
      connectLock.notifyAll();
    }
 catch (    Throwable t) {
      notifyOfError(t);
    }
  }
}
