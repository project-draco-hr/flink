{
  while (!(curT instanceof ParameterizedType && ((Class<?>)((ParameterizedType)curT).getRawType()).equals(stopAtClass)) && !(curT instanceof Class<?> && ((Class<?>)curT).equals(stopAtClass))) {
    typeHierarchy.add(curT);
    if (curT instanceof ParameterizedType) {
      curT=((Class<?>)((ParameterizedType)curT).getRawType()).getGenericSuperclass();
    }
 else {
      curT=((Class<?>)curT).getGenericSuperclass();
    }
  }
  return curT;
}
