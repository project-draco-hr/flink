{
  if (reduced != null) {
    StreamWindow<T> currentWindow=createEmptyWindow();
    currentWindow.add(reduced);
    collector.collect(new StreamRecord<StreamWindow<T>>(currentWindow));
  }
 else   if (emitEmpty) {
    collector.collect(new StreamRecord<StreamWindow<T>>(createEmptyWindow()));
  }
  if (evict) {
    reduced=null;
  }
}
