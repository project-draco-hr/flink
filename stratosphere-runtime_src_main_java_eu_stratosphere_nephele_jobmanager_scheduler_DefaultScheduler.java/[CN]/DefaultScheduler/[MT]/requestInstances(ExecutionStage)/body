{
  final ExecutionGraph executionGraph=executionStage.getExecutionGraph();
synchronized (executionStage) {
    final int requiredSlots=executionStage.getRequiredSlots();
    LOG.info("Requesting " + requiredSlots + " slots for job "+ executionGraph.getJobID());
    this.instanceManager.requestInstance(executionGraph.getJobID(),executionGraph.getJobConfiguration(),requiredSlots);
    final ExecutionGraphIterator it2=new ExecutionGraphIterator(executionGraph,executionGraph.getIndexOfCurrentExecutionStage(),true,true);
    while (it2.hasNext()) {
      it2.next().compareAndUpdateExecutionState(ExecutionState.CREATED,ExecutionState.SCHEDULED);
    }
  }
}
