{
  validateField(field);
  if (field.type() instanceof Schema) {
    return new Struct((Schema)field.type());
  }
 else   if (field.type() instanceof ArrayOf) {
    ArrayOf array=(ArrayOf)field.type();
    return new Struct((Schema)array.type());
  }
 else {
    throw new SchemaException("Field '" + field.name + "' is not a container type, it is of type "+ field.type());
  }
}
