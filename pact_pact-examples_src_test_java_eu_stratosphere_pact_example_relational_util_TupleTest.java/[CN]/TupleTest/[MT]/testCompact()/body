{
  Tuple t=new Tuple();
  t.addAttribute("Hello world!");
  Assert.isTrue(t.getBytes().length == 256);
  t.compact();
  Assert.isTrue(t.getBytes().length == 13);
  byte[] ba=new byte[1024];
  short[] of={0};
  t=new Tuple(ba,of,0);
  Assert.isTrue(t.getBytes().length == 1024);
  t.compact();
  Assert.isTrue(t.getBytes().length == 0);
  ba="attr1|attr2|3|4|attr5|thisdoesnotbelongtothetuple".getBytes();
  short[] of2={0,6,12,14,16,22};
  t=new Tuple(ba,of2,5);
  Assert.isTrue(t.getBytes().length == ba.length);
  t.compact();
  Assert.isTrue(t.getBytes().length == 22);
}
