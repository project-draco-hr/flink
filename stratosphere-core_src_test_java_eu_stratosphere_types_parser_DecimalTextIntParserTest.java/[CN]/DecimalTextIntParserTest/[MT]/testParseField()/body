{
  byte[] recBytes="1234|-987|123abc4|".getBytes();
  IntValue i=new IntValue();
  int startPos=0;
  startPos=parser.parseField(recBytes,startPos,recBytes.length,'|',i);
  assertTrue(startPos == 5);
  assertTrue(i.getValue() == 1234);
  startPos=parser.parseField(recBytes,startPos,recBytes.length,'|',i);
  assertTrue(startPos == 10);
  assertTrue(i.getValue() == -987);
  startPos=parser.parseField(recBytes,startPos,recBytes.length,'|',i);
  assertTrue(startPos < 0);
  recBytes="1234".getBytes();
  startPos=0;
  startPos=parser.parseField(recBytes,startPos,recBytes.length,'|',i);
  assertTrue(startPos == 4);
  assertTrue(i.getValue() == 1234);
  recBytes="12|34|56|78|90".getBytes();
  startPos=0;
  startPos=parser.parseField(recBytes,startPos,recBytes.length,'|',i);
  assertTrue(startPos == 3);
  assertTrue(i.getValue() == 12);
  startPos=parser.parseField(recBytes,startPos,recBytes.length,'|',i);
  assertTrue(startPos == 6);
  assertTrue(i.getValue() == 34);
  startPos=parser.parseField(recBytes,startPos,recBytes.length,'|',i);
  assertTrue(startPos == 9);
  assertTrue(i.getValue() == 56);
  startPos=parser.parseField(recBytes,startPos,recBytes.length,'|',i);
  assertTrue(startPos == 12);
  assertTrue(i.getValue() == 78);
  startPos=parser.parseField(recBytes,startPos,recBytes.length,'|',i);
  assertTrue(startPos == 14);
  assertTrue(i.getValue() == 90);
}
