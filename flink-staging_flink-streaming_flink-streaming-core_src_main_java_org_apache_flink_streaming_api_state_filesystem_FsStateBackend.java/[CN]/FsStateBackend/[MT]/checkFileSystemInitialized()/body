{
  if (filesystem == null || checkpointDirectory == null) {
    throw new IllegalStateException("filesystem has not been re-initialized after deserialization");
  }
}
