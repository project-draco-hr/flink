{
  final SocketChannel socketChannel=(SocketChannel)key.channel();
  final OutgoingConnection outgoingConnection=(OutgoingConnection)key.attachment();
  try {
    if (!outgoingConnection.write(socketChannel)) {
      outgoingConnection.closeConnection(socketChannel,key);
    }
  }
 catch (  IOException ioe) {
    outgoingConnection.reportTransmissionProblem(socketChannel,key,ioe);
  }
}
