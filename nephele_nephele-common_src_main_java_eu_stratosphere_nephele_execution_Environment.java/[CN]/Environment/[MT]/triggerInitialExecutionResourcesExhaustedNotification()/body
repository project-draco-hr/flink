{
  final long timestamp=System.currentTimeMillis();
  final Map<ChannelID,Long> outputChannelUtilization=new HashMap<ChannelID,Long>();
  for (int i=0; i < getNumberOfOutputGates(); ++i) {
    final OutputGate<? extends Record> outputGate=getOutputGate(i);
    for (int j=0; j < outputGate.getNumberOfOutputChannels(); ++j) {
      final AbstractOutputChannel<? extends Record> outputChannel=outputGate.getOutputChannel(j);
      outputChannelUtilization.put(outputChannel.getID(),Long.valueOf(outputChannel.getAmountOfDataTransmitted()));
    }
  }
  final ResourceUtilizationSnapshot rus=new ResourceUtilizationSnapshot(timestamp,outputChannelUtilization);
  initialExecutionResourcesExhausted(rus);
}
