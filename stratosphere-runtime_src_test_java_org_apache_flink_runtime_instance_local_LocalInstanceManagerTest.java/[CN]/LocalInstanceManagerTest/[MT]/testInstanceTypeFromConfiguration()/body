{
  try {
    Configuration cfg=new Configuration();
    cfg.setString(ConfigConstants.JOB_MANAGER_IPC_ADDRESS_KEY,"127.0.0.1");
    cfg.setInteger(ConfigConstants.JOB_MANAGER_IPC_PORT_KEY,6123);
    cfg.setInteger(ConfigConstants.TASK_MANAGER_MEMORY_SIZE_KEY,1);
    cfg.setInteger(ConfigConstants.TASK_MANAGER_NUM_TASK_SLOTS,1);
    GlobalConfiguration.includeConfiguration(cfg);
    ExecutionMode executionMode=ExecutionMode.LOCAL;
    JobManager jm=new JobManager(executionMode);
    final TestInstanceListener testInstanceListener=new TestInstanceListener();
    InstanceManager im=jm.getInstanceManager();
    try {
      im.setInstanceListener(testInstanceListener);
    }
 catch (    Exception e) {
      e.printStackTrace();
      Assert.fail("Instantiation of LocalInstanceManager failed: " + e.getMessage());
    }
 finally {
      jm.shutdown();
    }
  }
 catch (  Exception e) {
    System.err.println(e.getMessage());
    e.printStackTrace();
    Assert.fail("Test caused an error: " + e.getMessage());
  }
}
