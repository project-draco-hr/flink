{
  Preconditions.checkNotNull(viewedAs);
  for (  OUT elem : elements) {
    Preconditions.checkNotNull(elem,"The collection must not contain null elements.");
    if (!viewedAs.isAssignableFrom(elem.getClass())) {
      throw new IllegalArgumentException("The elements in the collection are not all subclasses of " + viewedAs.getCanonicalName());
    }
  }
}
