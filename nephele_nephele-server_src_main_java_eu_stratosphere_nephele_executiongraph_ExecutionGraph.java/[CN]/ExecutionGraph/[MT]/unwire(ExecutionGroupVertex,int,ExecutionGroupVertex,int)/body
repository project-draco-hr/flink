{
  for (int i=0; i < source.getCurrentNumberOfGroupMembers(); i++) {
    final ExecutionVertex sourceVertex=source.getGroupMember(i);
    final RuntimeOutputGate<? extends Record> outputGate=sourceVertex.getEnvironment().getOutputGate(indexOfOutputGate);
    if (outputGate == null) {
      throw new GraphConversionException("unwire: " + sourceVertex.getName() + " has no output gate with index "+ indexOfOutputGate);
    }
    for (int j=0; j < outputGate.getNumberOfOutputChannels(); j++) {
      final AbstractOutputChannel<? extends Record> outputChannel=outputGate.getOutputChannel(j);
      this.outputChannelMap.remove(outputChannel.getID());
      this.channelToVertexMap.remove(outputChannel.getID());
    }
    outputGate.removeAllOutputChannels();
  }
  for (int i=0; i < target.getCurrentNumberOfGroupMembers(); i++) {
    final ExecutionVertex targetVertex=target.getGroupMember(i);
    final RuntimeInputGate<? extends Record> inputGate=targetVertex.getEnvironment().getInputGate(indexOfInputGate);
    if (inputGate == null) {
      throw new GraphConversionException("unwire: " + targetVertex.getName() + " has no input gate with index "+ indexOfInputGate);
    }
    for (int j=0; j < inputGate.getNumberOfInputChannels(); j++) {
      final AbstractInputChannel<? extends Record> inputChannel=inputGate.getInputChannel(j);
      this.inputChannelMap.remove(inputChannel.getID());
      this.channelToVertexMap.remove(inputChannel.getID());
    }
    inputGate.removeAllInputChannels();
  }
}
