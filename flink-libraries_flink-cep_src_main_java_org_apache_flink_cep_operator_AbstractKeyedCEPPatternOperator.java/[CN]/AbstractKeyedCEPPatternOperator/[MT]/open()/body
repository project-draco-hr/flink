{
  if (keys == null) {
    keys=new HashSet<>();
  }
  if (nfaOperatorState == null) {
    nfaOperatorState=getPartitionedState(new ValueStateDescriptor<NFA<IN>>(NFA_OPERATOR_STATE_NAME,new NFA.Serializer<IN>(),null));
  }
  if (priorityQueueOperatorState == null) {
    priorityQueueOperatorState=getPartitionedState(new ValueStateDescriptor<PriorityQueue<StreamRecord<IN>>>(PRIORIRY_QUEUE_STATE_NAME,new PriorityQueueSerializer<StreamRecord<IN>>(new StreamRecordSerializer<IN>(getInputSerializer()),new PriorityQueueStreamRecordFactory<IN>()),null));
  }
}
