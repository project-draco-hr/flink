{
  Collection<MemorySegment> segments=null;
  try {
    segments=memoryManager.allocate(9,MEMORY_SIZE / 8);
    memoryManager.release(segments);
    fail("MemoryManagementAllocation expected");
  }
 catch (  MemoryAllocationException e) {
  }
  for (  int segmentSize : SEGMENT_SIZES) {
    try {
      segments=memoryManager.allocate(MEMORY_SIZE / segmentSize,segmentSize);
      memoryManager.release(segments);
    }
 catch (    MemoryAllocationException e) {
      fail("unexpected MemoryManagementAllocation");
    }
  }
}
