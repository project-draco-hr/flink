{
  ArrayList<MemorySegment> segments=new ArrayList<MemorySegment>();
  try {
    segments.add(memoryManager.allocate(1024 * 1024 * 10));
    segments.add(memoryManager.allocate(1024 * 1024 * 02));
    segments.add(memoryManager.allocate(1024 * 1024 * 04));
    segments.add(memoryManager.allocate(1024 * 1024 * 04));
    segments.add(memoryManager.allocate(1024 * 1024 * 04));
    segments.add(memoryManager.allocate(1024 * 1024 * 06));
    segments.add(memoryManager.allocate(1024 * 1024 * 06));
    segments.add(memoryManager.allocate(1024 * 1024 * 12));
    segments.add(memoryManager.allocate(1024 * 1024 * 12));
    segments.add(memoryManager.allocate(1024 * 1024 * 12));
    memoryManager.release(segments.get(0));
    memoryManager.release(segments.get(2));
    memoryManager.release(segments.get(4));
    memoryManager.release(segments.get(6));
    memoryManager.release(segments.get(8));
    memoryManager.release(segments.get(1));
    memoryManager.release(segments.get(3));
    memoryManager.release(segments.get(5));
    segments.add(memoryManager.allocate(1024 * 1024 * 12));
    segments.add(memoryManager.allocate(1024 * 1024 * 12));
    segments.add(memoryManager.allocate(1024 * 1024 * 12));
    segments.add(memoryManager.allocate(1024 * 1024 * 12));
    memoryManager.release(segments);
  }
 catch (  MemoryAllocationException e) {
    fail("unexpected MemoryAllocationException");
  }
}
