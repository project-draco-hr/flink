{
  ArrayAccess arrayExpression=(ArrayAccess)expression;
  if (arrayExpression.isSelectingAll()) {
    int[] indices=new int[this.headSize + 1];
    for (int index=0; index < indices.length; index++)     indices[index]=index;
    return indices;
  }
 else   if (arrayExpression.isSelectingRange()) {
    int startIndex=arrayExpression.getStartIndex();
    int endIndex=arrayExpression.getEndIndex();
    if (startIndex < 0 || endIndex < 0)     throw new UnsupportedOperationException("Tail indices are not supported yet");
    if (endIndex >= this.headSize)     throw new IllegalArgumentException("Target index is not in head");
    int[] indices=new int[endIndex - startIndex];
    for (int index=0; index < indices.length; index++)     indices[index]=startIndex + index;
    return indices;
  }
  int index=arrayExpression.getStartIndex();
  if (index >= this.headSize)   throw new IllegalArgumentException("Target index is not in head");
 else   if (index < 0)   throw new UnsupportedOperationException("Tail indices are not supported yet");
  return new int[]{index};
}
