{
  LOG.error(StringUtils.stringifyException(ioe));
  try {
    this.channel.close();
  }
 catch (  IOException e) {
    LOG.debug("An error occurred while closing the byte channel");
  }
  if (key != null) {
    key.cancel();
  }
  Envelope pendingEnvelope=this.reader.getPendingEnvelope();
  if (pendingEnvelope != null) {
    if (pendingEnvelope.hasBuffer()) {
      Buffer buffer=pendingEnvelope.getBuffer();
      if (buffer != null) {
        buffer.recycleBuffer();
      }
    }
  }
  this.reader.reset();
}
