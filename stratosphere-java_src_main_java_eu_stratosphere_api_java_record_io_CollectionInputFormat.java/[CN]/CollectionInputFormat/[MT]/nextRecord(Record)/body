{
  if (it.hasNext()) {
    record.clear();
    Object b=it.next();
    if (b.getClass().isArray()) {
      for (      Object s : (Object[])b) {
        record.addField(ValueUtil.toStratosphere(s));
      }
    }
 else     if (b instanceof Collection) {
      @SuppressWarnings("unchecked") Iterator<Object> tmpIter=((Collection<Object>)b).iterator();
      while (tmpIter.hasNext()) {
        Object s=tmpIter.next();
        record.addField(ValueUtil.toStratosphere(s));
      }
    }
 else {
      record.setField(0,ValueUtil.toStratosphere(b));
    }
    return record;
  }
 else {
    return null;
  }
}
