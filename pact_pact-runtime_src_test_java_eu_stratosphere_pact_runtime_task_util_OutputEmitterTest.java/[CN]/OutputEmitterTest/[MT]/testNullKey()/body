{
  @SuppressWarnings("unchecked") final PactRecordComparator intComp=new PactRecordComparator(new int[]{0},new Class[]{PactInteger.class});
  final ChannelSelector<PactRecord> oe1=new PactRecordOutputEmitter(ShipStrategy.PARTITION_HASH,intComp);
  PactRecord rec=new PactRecord(2);
  rec.setField(1,new PactInteger(1));
  try {
    oe1.selectChannels(rec,100);
  }
 catch (  NullKeyFieldException re) {
    Assert.assertEquals(0,re.getFieldNumber());
    return;
  }
  Assert.fail("Expected a NullKeyFieldException.");
}
