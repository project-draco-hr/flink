{
  ConditionalExpression condition=new ConditionalExpression(new ComparativeExpression(createPath("0","id"),BinaryOperator.EQUAL,createPath("1","userid")));
  ObjectCreation transformation=new ObjectCreation();
  transformation.addMapping("name",createPath("0","name"));
  transformation.addMapping(new ObjectCreation.CopyFields(createPath("1")));
  assertParseResult(new Join(transformation,condition,usersSource(),usersPages()),usersJaql() + "join users, pages where users.id == pages.userid into {users.name, pages.*};");
}
