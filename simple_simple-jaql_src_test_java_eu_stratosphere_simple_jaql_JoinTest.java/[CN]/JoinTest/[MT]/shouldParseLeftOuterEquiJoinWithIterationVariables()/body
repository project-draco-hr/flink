{
  Condition condition=new Condition(new BooleanExpression(createPath("0","id"),BinaryOperator.EQUAL,createPath("1","userid")));
  Transformation transformation=new Transformation();
  transformation.addMapping(new ValueAssignment("name",createPath("0","name")));
  transformation.addMapping(new ValueAssignment(ValueAssignment.COPY_ALL_FIELDS,createPath("1")));
  Source usersSource=usersSource();
  assertParseResult(new Join(transformation,condition,usersSource,usersPages()).withOuterJoin(usersSource),usersJaql() + "join preserve u in users, p in pages where u.id == p.userid into {u.name, p.*};");
}
