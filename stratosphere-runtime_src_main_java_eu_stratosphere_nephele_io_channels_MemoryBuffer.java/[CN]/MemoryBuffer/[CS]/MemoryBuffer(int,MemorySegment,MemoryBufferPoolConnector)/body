{
  if (bufferSize > memory.size()) {
    throw new IllegalArgumentException("Requested segment size is " + bufferSize + ", but provided MemorySegment only has a capacity of "+ memory.size());
  }
  this.bufferRecycler=new MemoryBufferRecycler(memory,bufferPoolConnector);
  this.internalMemorySegment=memory;
  this.position(0);
  this.limit(bufferSize);
}
