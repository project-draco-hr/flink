{
  final SopremoTestPlan plan=new SopremoTestPlan(new TestOperator());
  final List<IJsonNode> baskets=Baskets.loadBaskets(SMALL_BASKETS_PATH);
  for (  final IJsonNode basket : baskets)   plan.getInput(0).add(basket);
  ObjectNode expectedNode=new ObjectNode();
  IArrayNode itemsNode=new ArrayNode();
  itemsNode.add(new TextNode("apple"));
  itemsNode.add(new TextNode("banana"));
  itemsNode.add(new TextNode("cherry"));
  FrequentItemsetNodes.write(expectedNode,itemsNode);
  plan.getExpectedOutput(0).add(expectedNode);
  expectedNode=new ObjectNode();
  itemsNode=new ArrayNode();
  itemsNode.add(new TextNode("apple"));
  itemsNode.add(new TextNode("banana"));
  FrequentItemsetNodes.write(expectedNode,itemsNode);
  plan.getExpectedOutput(0).add(expectedNode);
  expectedNode=new ObjectNode();
  itemsNode=new ArrayNode();
  itemsNode.add(new TextNode("apple"));
  itemsNode.add(new TextNode("banana"));
  itemsNode.add(new TextNode("cherry"));
  FrequentItemsetNodes.write(expectedNode,itemsNode);
  plan.getExpectedOutput(0).add(expectedNode);
  expectedNode=new ObjectNode();
  itemsNode=new ArrayNode();
  itemsNode.add(new TextNode("banana"));
  itemsNode.add(new TextNode("cherry"));
  FrequentItemsetNodes.write(expectedNode,itemsNode);
  plan.getExpectedOutput(0).add(expectedNode);
  plan.run();
  int count=0;
  for (  @SuppressWarnings("unused") final IJsonNode node : plan.getActualOutput(0))   count++;
  Assert.assertEquals(4,count);
}
