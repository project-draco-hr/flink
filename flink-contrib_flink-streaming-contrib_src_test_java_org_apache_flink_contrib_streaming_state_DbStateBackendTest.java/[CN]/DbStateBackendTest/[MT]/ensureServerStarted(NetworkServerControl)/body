{
  int retry=0;
  while (true) {
    if (retry < 10) {
      try {
        server.ping();
        break;
      }
 catch (      Exception e) {
        retry++;
        Thread.sleep(1000);
      }
    }
 else {
      throw new RuntimeException("Could not start the Derby server in 10 seconds.");
    }
  }
}
