{
  IntraSourceRecordLinkage recordLinkage=new IntraSourceRecordLinkage().withAlgorithm(new Naive()).withSimilarityExpression(this.similarityFunction).withThreshold(0.7).withLinkageMode(mode);
  Projection sortedArrays=new Projection().withValueTransformation(BuiltinFunctions.SORT.asExpression()).withInputs(recordLinkage);
  final SopremoTestPlan sopremoTestPlan=new SopremoTestPlan(sortedArrays);
  if (this.useId)   recordLinkage.getRecordLinkageInput(0).setIdProjection(new ObjectAccess("id"));
  if (this.resultProjection != null)   recordLinkage.getRecordLinkageInput(0).setResultProjection(this.resultProjection);
  for (  PactJsonObject object : this.inputs)   sopremoTestPlan.getInput(0).add(object);
  return sopremoTestPlan;
}
