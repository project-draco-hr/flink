{
  Serializable state=stateHandle.getState();
  if (chained) {
    @SuppressWarnings("unchecked") List<Serializable> chainedStates=(List<Serializable>)state;
    Serializable headState=chainedStates.get(0);
    if (headState != null) {
      streamOperator.restoreInitialState(headState);
    }
    for (int i=1; i < chainedStates.size(); i++) {
      Serializable chainedState=chainedStates.get(i);
      if (chainedState != null) {
        outputHandler.getChainedOperators().get(i - 1).restoreInitialState(chainedState);
      }
    }
  }
 else {
    streamOperator.restoreInitialState(state);
  }
}
