{
  LOG.debug("Invoking {}",getName());
  boolean disposed=false;
  try {
    openAllOperators();
    isRunning=true;
    run();
    isRunning=false;
    if (LOG.isDebugEnabled()) {
      LOG.debug("Finished task {}",getName());
    }
synchronized (lock) {
    }
    closeAllOperators();
    outputHandler.flushOutputs();
    tryDisposeAllOperators();
    disposed=true;
  }
  finally {
    isRunning=false;
    timerService.shutdown();
    if (outputHandler != null) {
      outputHandler.releaseOutputs();
    }
    try {
      cleanup();
    }
 catch (    Throwable t) {
      LOG.error("Error during cleanup of stream task.");
    }
    if (!disposed) {
      disposeAllOperators();
    }
  }
}
