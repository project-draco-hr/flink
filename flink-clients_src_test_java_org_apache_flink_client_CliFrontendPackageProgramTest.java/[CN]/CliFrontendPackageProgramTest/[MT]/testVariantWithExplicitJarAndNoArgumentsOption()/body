{
  try {
    String[] arguments={"-j",getTestJarPath(),"--debug","true","arg1","arg2"};
    String[] reducedArguments=new String[]{"--debug","true","arg1","arg2"};
    RunOptions options=CliFrontendParser.parseRunCommand(arguments);
    assertEquals(getTestJarPath(),options.getJarFilePath());
    assertArrayEquals(reducedArguments,options.getProgramArgs());
    CliFrontend frontend=new CliFrontend(CliFrontendTestUtils.getConfigDir());
    PackagedProgram prog=frontend.buildProgram(options);
    Assert.assertArrayEquals(reducedArguments,prog.getArguments());
    Assert.assertEquals(TEST_JAR_MAIN_CLASS,prog.getMainClassName());
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
