{
  FlinkKafkaConsumerBase<String> consumer=getConsumer(null,new LinkedMap(),true);
  OperatorStateStore operatorStateStore=mock(OperatorStateStore.class);
  TestingListState<Tuple2<KafkaTopicPartition,Long>> listState=new TestingListState<>();
  when(operatorStateStore.getPartitionableState(Matchers.any(ListStateDescriptor.class))).thenReturn(listState);
  consumer.initializeState(operatorStateStore);
  consumer.prepareSnapshot(17L,17L);
  assertFalse(listState.get().iterator().hasNext());
}
