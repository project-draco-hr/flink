{
synchronized (sync) {
    canceled=true;
    socketSource.cancel();
    interrupt();
  }
}
