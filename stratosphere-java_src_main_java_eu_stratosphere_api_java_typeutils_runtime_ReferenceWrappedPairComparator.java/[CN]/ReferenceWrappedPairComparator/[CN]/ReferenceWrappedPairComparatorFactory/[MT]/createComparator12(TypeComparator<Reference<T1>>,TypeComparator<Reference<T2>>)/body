{
  if (!(comparator1 instanceof ReferenceWrappedComparator) || !(comparator2 instanceof ReferenceWrappedComparator)) {
    throw new IllegalArgumentException("Cannot instantiate pair comparator from the given comparators.");
  }
  TypeComparator<T1> unwrappedComp1=((ReferenceWrappedComparator<T1>)comparator1).getWrappedComparator();
  TypeComparator<T2> unwrappedComp2=((ReferenceWrappedComparator<T2>)comparator2).getWrappedComparator();
  if ((unwrappedComp1 instanceof TupleComparator) && (unwrappedComp2 instanceof TupleComparator)) {
    TupleComparator<?> tupleComp1=((TupleComparator<?>)unwrappedComp1);
    TupleComparator<?> tupleComp2=((TupleComparator<?>)unwrappedComp2);
    TypePairComparator<T1,T2> tuplePairComp=(TypePairComparator<T1,T2>)new TuplePairComparator<Tuple,Tuple>(tupleComp1.getKeyPositions(),tupleComp2.getKeyPositions(),tupleComp1.getComparators(),tupleComp2.getComparators());
    return new ReferenceWrappedPairComparator<T1,T2>(tuplePairComp);
  }
  if ((unwrappedComp1 instanceof TupleSingleFieldComparator) && (unwrappedComp2 instanceof TupleSingleFieldComparator)) {
    TupleSingleFieldComparator<?,? extends Object> tupleComp1=((TupleSingleFieldComparator<?,? extends Object>)unwrappedComp1);
    TupleSingleFieldComparator<?,? extends Object> tupleComp2=((TupleSingleFieldComparator<?,? extends Object>)unwrappedComp2);
    TypePairComparator<T1,T2> tuplePairComp=(TypePairComparator<T1,T2>)new TuplePairSingleFieldComparator<Tuple,Tuple>(tupleComp1.getKeyPosition(),tupleComp2.getKeyPosition(),(TypeComparator<Object>)tupleComp1.getComparator(),(TypeComparator<Object>)tupleComp2.getComparator());
    return new ReferenceWrappedPairComparator<T1,T2>(tuplePairComp);
  }
 else {
    throw new IllegalArgumentException("Cannot instantiate pair comparator from the given comparators.");
  }
}
