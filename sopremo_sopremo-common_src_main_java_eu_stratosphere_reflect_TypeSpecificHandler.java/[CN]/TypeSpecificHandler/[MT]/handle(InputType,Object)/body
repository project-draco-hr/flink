{
  Handler handler=this.getHandler(in.getClass());
  if (handler == null)   return null;
  Object[] parameters=new Object[params.length + 1];
  parameters[0]=in;
  System.arraycopy(params,0,parameters,1,params.length);
  try {
    for (    TypeHandlerListener<InputType,OutputBase> listener : this.handlerListeners)     listener.beforeConversion(in,params);
    OutputBase converted=(OutputBase)this.callbacks.get(handler.getClass()).invoke(handler,parameters);
    for (    TypeHandlerListener<InputType,OutputBase> listener : this.handlerListeners)     listener.afterConversion(in,params,converted);
    return converted;
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
}
