{
  CoreFunctions.AverageState aggregator=CoreFunctions.AVERAGE.initialize(null);
  CoreFunctions.AVERAGE.aggregate(IntNode.valueOf(50),aggregator,this.context);
  CoreFunctions.AVERAGE.aggregate(IntNode.valueOf(25),aggregator,this.context);
  CoreFunctions.AVERAGE.aggregate(IntNode.valueOf(75),aggregator,this.context);
  final IJsonNode result=CoreFunctions.AVERAGE.getFinalAggregate(aggregator,null);
  Assert.assertTrue(result instanceof INumericNode);
  Assert.assertEquals(50.0,((INumericNode)result).getDoubleValue());
}
