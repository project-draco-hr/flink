{
  Map<Object,IN> reuseMap;
  if (circularBuffer.isFull()) {
    reuseMap=(Map<Object,IN>)circularBuffer.remove();
    reuseMap.clear();
  }
 else {
    reuseMap=new HashMap<Object,IN>(currentValues.size());
  }
  circularBuffer.add(currentValues);
  minibatchCounter++;
  currentValues=reuseMap;
}
