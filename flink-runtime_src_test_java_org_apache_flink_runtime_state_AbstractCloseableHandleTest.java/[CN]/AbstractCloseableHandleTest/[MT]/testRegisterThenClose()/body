{
  Closeable closeable=mock(Closeable.class);
  AbstractCloseableHandle handle=new CloseableHandle();
  assertFalse(handle.isClosed());
  handle.registerCloseable(closeable);
  verify(closeable,times(0)).close();
  assertFalse(handle.isClosed());
  handle.close();
  verify(closeable,times(1)).close();
  assertTrue(handle.isClosed());
  handle.close();
  verify(closeable,times(1)).close();
  assertTrue(handle.isClosed());
}
