{
  if (msg.getClass() == SequenceNumberingPartitionQueueIterator.class) {
    boolean triggerWrite=queue.isEmpty();
    numTotalEnqueueOperations++;
    queue.add((SequenceNumberingPartitionQueueIterator)msg);
    if (triggerWrite) {
      writeAndFlushNextMessageIfPossible(ctx.channel());
    }
  }
 else {
    ctx.fireUserEventTriggered(msg);
  }
}
