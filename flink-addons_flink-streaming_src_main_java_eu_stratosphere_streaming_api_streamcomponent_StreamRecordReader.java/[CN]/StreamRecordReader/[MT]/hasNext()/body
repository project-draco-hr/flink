{
  if (this.lookahead != null) {
    return true;
  }
 else {
    if (this.noMoreRecordsWillFollow) {
      return false;
    }
    T record=instantiateRecordType();
    while (true) {
      InputChannelResult result=this.inputGate.readRecord(record);
switch (result) {
case INTERMEDIATE_RECORD_FROM_BUFFER:
case LAST_RECORD_FROM_BUFFER:
        this.lookahead=record;
      return true;
case END_OF_SUPERSTEP:
    if (incrementEndOfSuperstepEventAndCheck())     return false;
 else     return false;
case TASK_EVENT:
  handleEvent(this.inputGate.getCurrentEvent());
return false;
case END_OF_STREAM:
this.noMoreRecordsWillFollow=true;
return false;
case NONE:
break;
default :
return false;
}
}
}
}
