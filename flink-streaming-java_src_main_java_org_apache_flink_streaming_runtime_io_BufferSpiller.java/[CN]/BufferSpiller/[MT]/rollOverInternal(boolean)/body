{
  if (!hasWritten) {
    return null;
  }
  ByteBuffer buf;
  if (newBuffer) {
    buf=ByteBuffer.allocateDirect(READ_BUFFER_SIZE);
    buf.order(ByteOrder.LITTLE_ENDIAN);
  }
 else {
    buf=readBuffer;
  }
  currentChannel.position(0L);
  SpilledBufferOrEventSequence seq=new SpilledBufferOrEventSequence(currentSpillFile,currentChannel,buf,pageSize);
  createSpillingChannel();
  hasWritten=false;
  return seq;
}
