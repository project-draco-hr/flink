{
  this.deserializationBuffer.clear();
  if (this.uncompressedDataBuffer != null) {
    releasedConsumedReadBuffer();
  }
synchronized (this.synchronisationObject) {
    if (!this.brokerAggreedToCloseChannel) {
      while (!this.brokerAggreedToCloseChannel) {
        requestReadBuffersFromBroker();
        if (this.uncompressedDataBuffer != null || this.compressedDataBuffer != null) {
          releasedConsumedReadBuffer();
        }
        this.synchronisationObject.wait(500);
      }
      this.bufferedRecord=null;
    }
  }
  if (getType() == ChannelType.NETWORK) {
    transferEvent(new ByteBufferedChannelCloseEvent());
  }
}
