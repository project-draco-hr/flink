{
  StreamExecutionEnvironment env=StreamExecutionEnvironment.getExecutionEnvironment();
  env.enableCheckpointing();
  DataStream<Boolean> source=env.fromCollection(Collections.nCopies(DEFAULT_PARALLELISM * 2,false)).map(NoOpBoolMap).name("ParallelizeMap");
  IterativeDataStream<Boolean> iteration=source.iterate(3000);
  iteration.closeWith(iteration.flatMap(new IterationHead())).addSink(new ReceiveCheckNoOpSink<Boolean>());
  try {
    env.execute();
    fail();
  }
 catch (  UnsupportedOperationException e) {
  }
  try {
    env.enableCheckpointing(1,CheckpointingMode.EXACTLY_ONCE,false);
    env.execute();
    fail();
  }
 catch (  UnsupportedOperationException e) {
  }
  env.enableCheckpointing(1,CheckpointingMode.EXACTLY_ONCE,true);
  env.getStreamGraph().getJobGraph();
}
