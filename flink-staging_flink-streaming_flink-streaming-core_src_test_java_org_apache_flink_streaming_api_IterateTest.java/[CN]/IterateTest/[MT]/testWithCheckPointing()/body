{
  StreamExecutionEnvironment env=new TestStreamEnvironment(PARALLELISM,MEMORYSIZE);
  env.enableCheckpointing();
  DataStream<Boolean> source=env.fromCollection(Collections.nCopies(PARALLELISM * 2,false));
  IterativeDataStream<Boolean> iteration=source.iterate(3000);
  iteration.closeWith(iteration.flatMap(new IterationHead()));
  try {
    env.execute();
    fail();
  }
 catch (  UnsupportedOperationException e) {
  }
  try {
    env.enableCheckpointing(1,false);
    env.execute();
    fail();
  }
 catch (  UnsupportedOperationException e) {
  }
  env.enableCheckpointing(1,true);
  env.getStreamGraph().getJobGraph();
}
