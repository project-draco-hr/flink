{
  StreamExecutionEnvironment env=new TestStreamEnvironment(PARALLELISM,MEMORYSIZE);
  DataStream<Integer> source=env.fromElements(1,10);
  IterativeDataStream<Integer> iter1=source.iterate();
  IterativeDataStream<Integer> iter2=source.iterate();
  iter1.closeWith(iter1.map(NoOpIntMap));
  try {
    iter1.closeWith(iter1.map(NoOpIntMap));
    fail();
  }
 catch (  Exception e) {
  }
  try {
    iter2.closeWith(iter1.map(NoOpIntMap));
    fail();
  }
 catch (  Exception e) {
  }
  iter2.map(NoOpIntMap);
  try {
    env.execute();
    fail();
  }
 catch (  Exception e) {
  }
}
