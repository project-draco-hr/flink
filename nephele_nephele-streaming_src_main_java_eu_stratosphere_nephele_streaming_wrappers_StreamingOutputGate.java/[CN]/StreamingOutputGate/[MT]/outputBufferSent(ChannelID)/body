{
  final long timestamp=System.currentTimeMillis();
  final BufferLatency bufferLatency=this.bufferLatencyMap.get(channelID);
  if (bufferLatency == null) {
    this.bufferLatencyMap.put(channelID,new BufferLatency(timestamp));
    return;
  }
  bufferLatency.addLatency(timestamp);
  final int latency=bufferLatency.getLatency();
  if (latency >= 0) {
    this.streamListener.reportBufferLatency(channelID,latency);
  }
  getWrappedOutputGate().outputBufferSent(channelID);
}
