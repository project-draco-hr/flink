{
  SocketServer server=new SocketServer();
  server.start();
  SerializationSchema<String,byte[]> simpleSchema=new SerializationSchema<String,byte[]>(){
    @Override public byte[] serialize(    String element){
      return element.getBytes();
    }
  }
;
  SocketClientSink<String> simpleSink=new SocketClientSink<String>(host,port,simpleSchema);
  simpleSink.open(new Configuration());
  simpleSink.invoke("testSocketSinkInvoke");
  simpleSink.close();
  server.join();
  th.join();
  if (error.get() != null) {
    Throwable t=error.get();
    t.printStackTrace();
    fail("Error in spawned thread: " + t.getMessage());
  }
  assertEquals("Connected",this.access);
  assertEquals("testSocketSinkInvoke",value);
}
