{
  this.client=client;
  this.jars=jars;
  this.classpaths=classpaths;
  this.wait=wait;
  this.userCodeClassLoader=JobWithJars.buildUserCodeClassLoader(jars,classpaths,getClass().getClassLoader());
  if (parallelism > 0) {
    setParallelism(parallelism);
  }
 else {
    setParallelism(GlobalConfiguration.getInteger(ConfigConstants.DEFAULT_PARALLELISM_KEY_OLD,ConfigConstants.DEFAULT_PARALLELISM));
    setParallelism(GlobalConfiguration.getInteger(ConfigConstants.DEFAULT_PARALLELISM_KEY,getParallelism()));
  }
}
