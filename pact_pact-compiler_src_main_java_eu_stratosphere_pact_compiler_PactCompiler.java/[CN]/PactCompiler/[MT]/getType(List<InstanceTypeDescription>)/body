{
  if (types == null || types.size() < 1) {
    throw new IllegalArgumentException("No instance type found.");
  }
  long minMemory=0;
  int minCPUCores=Integer.MAX_VALUE;
  int index=0;
  for (int i=0; i < types.size(); i++) {
    InstanceTypeDescription descr=types.get(i);
    if (descr.getInstanceType().getNumberOfCores() < minCPUCores && descr.getHardwareDescription().getSizeOfFreeMemory() > minMemory) {
      minCPUCores=descr.getInstanceType().getNumberOfCores();
      minMemory=descr.getHardwareDescription().getSizeOfFreeMemory();
      index=i;
    }
  }
  return types.get(index);
}
