{
  final ByteArrayOutputStream baos=new ByteArrayOutputStream();
  final DataOutputStream dos=new DataOutputStream(baos);
  original.write(dos);
  Record copy;
  try {
    copy=original.getClass().newInstance();
  }
 catch (  Exception e) {
    throw new IOException(StringUtils.stringifyException(e));
  }
  final ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  final DataInputStream dis=new DataInputStream(bais);
  copy.read(dis);
  return copy;
}
