{
  if (inputSchemas.size() != 2)   throw new IllegalArgumentException("TwoInputNode requires exactly 2 input nodes");
  int[] constFields1=null;
  int[] constFields2=null;
  if (explWrites == null) {
    return null;
  }
  if (implOpMode1 == null) {
    constFields1=null;
  }
 else {
switch (implOpMode1) {
case Copy:
      if (this.explProjections1 != null) {
        constFields1=FieldSetOperations.setDifference(inputSchemas.get(0),this.explProjections1);
      }
 else {
        constFields1=null;
      }
    break;
case Projection:
  constFields1=this.explCopies1;
break;
}
}
if (implOpMode2 == null) {
constFields2=null;
}
 else {
switch (implOpMode2) {
case Copy:
if (this.explProjections2 != null) {
constFields2=FieldSetOperations.setDifference(inputSchemas.get(1),this.explProjections2);
}
 else {
constFields2=null;
}
break;
case Projection:
constFields2=this.explCopies2;
break;
}
}
if (constFields1 != null && constFields2 != null) {
return FieldSetOperations.unionSets(FieldSetOperations.unionSets(constFields1,constFields2),this.explWrites);
}
 else {
return null;
}
}
