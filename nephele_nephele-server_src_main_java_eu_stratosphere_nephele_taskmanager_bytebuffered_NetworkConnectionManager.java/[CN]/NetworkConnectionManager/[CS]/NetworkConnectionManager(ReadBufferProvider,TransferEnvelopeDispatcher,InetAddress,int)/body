{
  final Configuration configuration=GlobalConfiguration.getConfiguration();
  this.readBufferProvider=readBufferProvider;
  this.transferEnvelopeDispatcher=transferEnvelopeDispatcher;
  final int numberOfOutgoingConnectionThreads=configuration.getInteger("channel.network.numberOfOutgoingConnectionThreads",DEFAULT_NUMBER_OF_OUTGOING_CONNECTION_THREADS);
synchronized (this.outgoingConnectionThreads) {
    for (int i=0; i < numberOfOutgoingConnectionThreads; i++) {
      final OutgoingConnectionThread outgoingConnectionThread=new OutgoingConnectionThread();
      outgoingConnectionThread.start();
      this.outgoingConnectionThreads.add(outgoingConnectionThread);
    }
  }
  final int numberOfIncomingConnectionThreads=configuration.getInteger("channel.network.numgerOfIncomingConnectionThreads",DEFAULT_NUMBER_OF_INCOMING_CONNECTION_THREADS);
synchronized (this.incomingConnectionThreads) {
    for (int i=0; i < numberOfIncomingConnectionThreads; i++) {
      final IncomingConnectionThread incomingConnectionThread=new IncomingConnectionThread(this,(i == 0),new InetSocketAddress(bindAddress,dataPort));
      incomingConnectionThread.start();
      this.incomingConnectionThreads.add(incomingConnectionThread);
    }
  }
  this.numberOfConnectionRetries=configuration.getInteger("channel.network.numberOfConnectionRetries",DEFAULT_NUMBER_OF_CONNECTION_RETRIES);
}
