{
  OutgoingConnection outgoingConnection=null;
synchronized (this.outgoingConnections) {
    outgoingConnection=this.outgoingConnections.get(targetAddress);
    if (outgoingConnection == null) {
      System.out.println("Creating outgoing connection for" + targetAddress);
      outgoingConnection=createOutgoingConnection(targetAddress);
    }
    this.outgoingConnections.put(targetAddress,outgoingConnection);
  }
  outgoingConnection.queueEnvelope(transferEnvelope);
}
