{
  final IncomingConnection incomingConnection=new IncomingConnection(incomingConnectionID,this,this.transferEnvelopeDispatcher,this.readBufferProvider,readableByteChannel);
synchronized (this.incomingConnections) {
    System.out.println("Registering incoming connection for " + incomingConnectionID);
    final IncomingConnection previousConnection=this.incomingConnections.get(incomingConnectionID);
    incomingConnection.setPreviousConnection(previousConnection);
    this.incomingConnections.put(incomingConnectionID,incomingConnection);
  }
  if (readableByteChannel instanceof SocketChannel) {
    getIncomingConnectionThread().addToPendingIncomingConnections(incomingConnection);
  }
  return incomingConnection;
}
