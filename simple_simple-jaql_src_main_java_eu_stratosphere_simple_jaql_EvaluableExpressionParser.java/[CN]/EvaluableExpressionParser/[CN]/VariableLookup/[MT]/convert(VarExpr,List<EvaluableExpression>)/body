{
  Binding binding=EvaluableExpressionParser.this.queryParser.bindings.get(expr.var().taggedName());
  if (binding == null)   return EvaluableExpression.Unknown;
  Object var=binding.getTransformed();
  if (EvaluableExpressionParser.this.queryParser.expressionToOperators.containsKey(binding.getExpr()))   var=EvaluableExpressionParser.this.queryParser.expressionToOperators.get(binding.getExpr());
  if (var instanceof Operator) {
    int index=EvaluableExpressionParser.this.queryParser.findInputIndex((Operator)var);
    if (index != -1)     return new Input(index);
  }
  if (var instanceof EvaluableExpression)   return (EvaluableExpression)var;
  if (var instanceof Transformation)   return ((Transformation)var).asPath();
  return new IdentifierAccess(expr.var().taggedName());
}
