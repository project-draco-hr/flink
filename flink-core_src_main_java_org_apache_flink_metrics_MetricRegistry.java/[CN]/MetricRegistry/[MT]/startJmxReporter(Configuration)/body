{
  JMXReporter reporter=null;
  try {
    Configuration reporterConfig=new Configuration();
    String portRange=config.getString(ConfigConstants.METRICS_JMX_PORT,null);
    if (portRange != null) {
      reporterConfig.setString(ConfigConstants.METRICS_JMX_PORT,portRange);
    }
    reporter=new JMXReporter();
    reporter.open(reporterConfig);
  }
 catch (  Exception e) {
    LOG.error("Failed to instantiate JMX reporter.",e);
  }
 finally {
    return reporter;
  }
}
