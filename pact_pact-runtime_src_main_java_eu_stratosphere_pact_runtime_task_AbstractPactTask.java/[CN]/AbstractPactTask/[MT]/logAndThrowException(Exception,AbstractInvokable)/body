{
  String taskName;
  if (ex instanceof ExceptionInChainedStubException) {
    do {
      ExceptionInChainedStubException cex=(ExceptionInChainedStubException)ex;
      taskName=cex.getTaskName();
      ex=cex.getWrappedException();
    }
 while (ex instanceof ExceptionInChainedStubException);
  }
 else {
    taskName=parent.getEnvironment().getTaskName();
  }
  if (LOG.isErrorEnabled())   LOG.error(constructLogString("Error in PACT code",taskName,parent));
  throw ex;
}
