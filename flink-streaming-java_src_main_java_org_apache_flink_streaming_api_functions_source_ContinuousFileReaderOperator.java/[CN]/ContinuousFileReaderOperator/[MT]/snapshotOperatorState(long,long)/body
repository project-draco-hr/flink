{
  StreamTaskState taskState=super.snapshotOperatorState(checkpointId,timestamp);
  final AbstractStateBackend.CheckpointStateOutputStream os=this.getStateBackend().createCheckpointStateOutputStream(checkpointId,timestamp);
  final ObjectOutputStream oos=new ObjectOutputStream(os);
  final AbstractStateBackend.CheckpointStateOutputView ov=new AbstractStateBackend.CheckpointStateOutputView(os);
  Tuple3<List<FileInputSplit>,FileInputSplit,S> readerState=this.reader.getReaderState();
  List<FileInputSplit> pendingSplits=readerState.f0;
  FileInputSplit currSplit=readerState.f1;
  S formatState=readerState.f2;
  oos.writeObject(currSplit);
  ov.writeInt(pendingSplits.size());
  for (  FileInputSplit split : pendingSplits) {
    oos.writeObject(split);
  }
  oos.writeObject(formatState);
  taskState.setOperatorState(os.closeAndGetHandle());
  return taskState;
}
