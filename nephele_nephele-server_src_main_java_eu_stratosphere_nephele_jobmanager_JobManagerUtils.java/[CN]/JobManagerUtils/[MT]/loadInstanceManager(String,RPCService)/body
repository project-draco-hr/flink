{
  Class<? extends InstanceManager> instanceManagerClass;
  try {
    instanceManagerClass=(Class<? extends InstanceManager>)Class.forName(instanceManagerClassName);
  }
 catch (  ClassNotFoundException e) {
    LOG.error("Cannot find class " + instanceManagerClassName + ": "+ StringUtils.stringifyException(e));
    return null;
  }
  Constructor<? extends InstanceManager> constructor;
  try {
    constructor=instanceManagerClass.getConstructor(RPCService.class);
  }
 catch (  Exception e) {
    LOG.error(StringUtils.stringifyException(e));
    return null;
  }
  InstanceManager instanceManager;
  try {
    instanceManager=constructor.newInstance(rpcService);
  }
 catch (  Exception e) {
    LOG.error("Cannot create instanceManager: " + StringUtils.stringifyException(e));
    return null;
  }
  return instanceManager;
}
