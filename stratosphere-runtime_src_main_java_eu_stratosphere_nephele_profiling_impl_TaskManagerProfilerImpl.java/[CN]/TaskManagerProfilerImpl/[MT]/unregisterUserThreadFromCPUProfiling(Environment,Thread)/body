{
synchronized (this.monitoredThreads) {
    final EnvironmentThreadSet environmentThreadSet=this.monitoredThreads.get(environment);
    if (environmentThreadSet == null) {
      LOG.error("Trying to unregister " + userThread.getName() + " but no main thread found!");
      return;
    }
    environmentThreadSet.removeUserThread(userThread);
  }
}
