{
  try {
    final ReadableByteChannel rbc=createByteChannel(null,10);
    final TestBufferProviderBroker tbpb=new TestBufferProviderBroker(new TestBufferProvider(1));
    final TransferEnvelope te=executeDeserialization(rbc,tbpb);
    assertNotNull(te.getBuffer());
    assertEquals(10,te.getBuffer().size());
  }
 catch (  IOException ioe) {
    fail(StringUtils.stringifyException(ioe));
  }
catch (  NoBufferAvailableException nbae) {
    fail(StringUtils.stringifyException(nbae));
  }
}
