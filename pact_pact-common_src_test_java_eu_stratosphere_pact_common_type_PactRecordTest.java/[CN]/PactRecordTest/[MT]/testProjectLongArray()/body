{
  PactRecord record=this.generateFilledDenseRecord(256);
  long[] mask={1L,1L,1L,1L};
  record.project(mask);
  assertTrue(record.getNumFields() == 4);
  record=this.generateFilledDenseRecord(612);
  mask=new long[10];
  int numBits=0;
  for (int i=0; i < mask.length; i++) {
    int offset=i * Long.SIZE;
    int numFields=((offset + Long.SIZE) < record.getNumFields()) ? Long.SIZE : record.getNumFields() - offset;
    mask[i]=this.generateRandomBitmask(numFields);
    numBits+=Long.bitCount(mask[i]);
  }
  record.project(mask);
  assertTrue(record.getNumFields() == numBits);
}
