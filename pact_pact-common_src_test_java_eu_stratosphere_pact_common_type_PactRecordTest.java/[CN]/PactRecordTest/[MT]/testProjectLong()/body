{
  PactRecord record=new PactRecord();
  long mask=0;
  record.addField(this.origVal1);
  record.addField(this.origVal2);
  record.addField(this.origVal3);
  mask=7L;
  record.project(mask);
  assertTrue(record.getNumFields() == 3);
  assertTrue(this.origVal1.getValue().equals(record.getField(0,PactString.class).getValue()));
  assertTrue(this.origVal2.getValue() == record.getField(1,PactDouble.class).getValue());
  assertTrue(this.origVal3.getValue() == record.getField(2,PactInteger.class).getValue());
  mask=5L;
  record.project(mask);
  assertTrue(record.getNumFields() == 2);
  assertTrue(this.origVal1.getValue().equals(record.getField(0,PactString.class).getValue()));
  assertTrue(this.origVal3.getValue() == record.getField(1,PactInteger.class).getValue());
  mask=0L;
  record.project(mask);
  assertTrue(record.getNumFields() == 0);
  record=this.generateFilledDenseRecord(64);
  mask=this.generateRandomBitmask(64);
  record.project(mask);
  assertTrue(record.getNumFields() == Long.bitCount(mask));
}
