{
  if (this.groupedFields != null) {
    if (other.uniqueFields == null || !this.groupedFields.isValidSubset(other.uniqueFields)) {
      if (other.groupedFields == null || !this.groupedFields.equals(other.groupedFields)) {
        if (other.ordering == null || !other.ordering.getInvolvedIndexes().isValidUnorderedPrefix(this.groupedFields)) {
          return false;
        }
      }
    }
  }
  if (this.ordering != null) {
    if (other.ordering == null || !this.ordering.isMetBy(other.ordering)) {
      return false;
    }
  }
  if (this.uniqueFields != null) {
    throw new CompilerException("Uniqueness as a required property is not supported.");
  }
  return true;
}
