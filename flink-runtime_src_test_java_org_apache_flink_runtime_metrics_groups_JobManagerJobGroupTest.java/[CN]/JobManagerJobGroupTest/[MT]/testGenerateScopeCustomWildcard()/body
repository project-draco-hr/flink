{
  MetricRegistry registry=new MetricRegistry(new Configuration());
  JobManagerScopeFormat tmFormat=new JobManagerScopeFormat("peter");
  JobManagerJobScopeFormat jmFormat=new JobManagerJobScopeFormat("*.some-constant.<job_id>",tmFormat);
  JobID jid=new JobID();
  JobManagerMetricGroup tmGroup=new JobManagerMetricGroup(registry,tmFormat,"theHostName");
  JobMetricGroup jmGroup=new JobManagerJobMetricGroup(registry,tmGroup,jmFormat,jid,"myJobName");
  assertArrayEquals(new String[]{"peter","some-constant",jid.toString()},jmGroup.getScopeComponents());
  assertEquals("peter.some-constant." + jid + ".name",jmGroup.getMetricIdentifier("name"));
}
