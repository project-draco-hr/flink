{
  if (expression instanceof ObjectCreation) {
    for (    Mapping<?> field : ((ObjectCreation)expression).getMappings()) {
      if (field instanceof FieldAssignment) {
        contextPath.add(new ObjectAccess(((FieldAssignment)field).getTarget()));
        this.parse(field.getExpression(),operator,ruleFactory,contextPath);
        contextPath.removeLast();
      }
 else       if (field instanceof TagMapping)       this.parse(field.getExpression(),operator,ruleFactory,PathExpression.ensurePathExpression(((TagMapping)field).getTarget()));
    }
    return;
  }
  if (expression instanceof ArrayCreation) {
    List<? extends EvaluationExpression> children=((ArrayCreation)expression).getChildren();
    for (int index=0, size=children.size(); index < size; index++)     this.parse(children.get(index),operator,ruleFactory,contextPath);
    return;
  }
  this.addRule(ruleFactory.createRule(expression,operator,contextPath),new ArrayList<EvaluationExpression>(contextPath.getFragments()));
}
