{
  if (!reducedValues.isEmpty()) {
    StreamWindow<T> currentWindow=createEmptyWindow();
    currentWindow.addAll(reducedValues.values());
    collector.collect(currentWindow);
    reducedValues.clear();
  }
 else   if (emitEmpty) {
    collector.collect(createEmptyWindow());
  }
}
