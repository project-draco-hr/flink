{
  if (!reducedValues.isEmpty()) {
    StreamWindow<T> currentWindow=createEmptyWindow();
    currentWindow.addAll(reducedValues.values());
    collector.collect(new StreamRecord<StreamWindow<T>>(currentWindow));
  }
 else   if (emitEmpty) {
    collector.collect(new StreamRecord<StreamWindow<T>>(createEmptyWindow()));
  }
  if (evict) {
    reducedValues.clear();
  }
}
