{
  out.writeInt(size());
  final Iterator<Map.Entry<K,V>> it=entrySet().iterator();
  while (it.hasNext()) {
    final Map.Entry<K,V> entry=it.next();
    final K key=entry.getKey();
    final V value=entry.getValue();
    StringRecord.writeString(out,key.getClass().getName());
    key.write(out);
    StringRecord.writeString(out,value.getClass().getName());
    value.write(out);
  }
}
