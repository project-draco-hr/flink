{
  final int numberOfMapEntries=in.readInt();
  for (int i=0; i < numberOfMapEntries; i++) {
    final String keyType=StringRecord.readString(in);
    Class<K> keyClass=null;
    try {
      keyClass=(Class<K>)Class.forName(keyType);
    }
 catch (    ClassNotFoundException e) {
      throw new IOException(StringUtils.stringifyException(e));
    }
    K key=null;
    try {
      key=keyClass.newInstance();
    }
 catch (    Exception e) {
      throw new IOException(StringUtils.stringifyException(e));
    }
    key.read(in);
    final String valueType=StringRecord.readString(in);
    Class<V> valueClass=null;
    try {
      valueClass=(Class<V>)Class.forName(valueType);
    }
 catch (    ClassNotFoundException e) {
      throw new IOException(StringUtils.stringifyException(e));
    }
    V value=null;
    try {
      value=valueClass.newInstance();
    }
 catch (    Exception e) {
      throw new IOException(StringUtils.stringifyException(e));
    }
    value.read(in);
    put(key,value);
  }
}
