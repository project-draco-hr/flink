{
  if (removeFromAckCounter(uid)) {
    recordsByTime.get(recordTimestamps.remove(uid)).remove(uid);
    if (log.isTraceEnabled()) {
      log.trace("Record removed from buffer: " + uid);
    }
    return recordBuffer.remove(uid);
  }
 else {
    if (log.isWarnEnabled()) {
      log.warn("Record ALREADY REMOVED from buffer: " + uid);
    }
    return null;
  }
}
