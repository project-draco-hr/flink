{
  if (!isActiveConnection()) {
    System.out.println("Is not active connection");
    return;
  }
  if (this.currentTransferEnvelope == null) {
    this.deserializer.read(this.readableByteChannel);
    this.currentTransferEnvelope=this.deserializer.getFullyDeserializedTransferEnvelope();
  }
  if (this.currentTransferEnvelope != null) {
    if (this.transferEnvelopeDispatcher.processEnvelopeFromNetworkOrCheckpoint(this.currentTransferEnvelope)) {
      this.currentTransferEnvelope=null;
    }
 else {
      try {
        Thread.sleep(100);
      }
 catch (      InterruptedException e) {
        LOG.debug(StringUtils.stringifyException(e));
      }
    }
  }
}
