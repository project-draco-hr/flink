{
  Preconditions.checkNotNull(jobId,"The JobId must not be null.");
  Preconditions.checkNotNull(task,"The task execution id must not be null.");
  if (requiredJarFiles == null) {
    requiredJarFiles=Collections.emptySet();
  }
synchronized (lockObject) {
    LibraryCacheEntry entry=cacheEntries.get(jobId);
    if (entry == null) {
      URL[] urls=new URL[requiredJarFiles.size()];
      int count=0;
      for (      BlobKey blobKey : requiredJarFiles) {
        urls[count++]=registerReferenceToBlobKeyAndGetURL(blobKey);
      }
      URLClassLoader classLoader=new URLClassLoader(urls);
      cacheEntries.put(jobId,new LibraryCacheEntry(requiredJarFiles,classLoader,task));
    }
 else {
      entry.register(task,requiredJarFiles);
    }
  }
}
