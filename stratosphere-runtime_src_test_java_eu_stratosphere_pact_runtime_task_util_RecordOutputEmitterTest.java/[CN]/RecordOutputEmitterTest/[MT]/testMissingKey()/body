{
  @SuppressWarnings("unchecked") final RecordComparator intComp=new RecordComparator(new int[]{1},new Class[]{IntValue.class});
  final ChannelSelector<Record> oe1=new RecordOutputEmitter(ShipStrategyType.PARTITION_HASH,intComp);
  Record rec=new Record(0);
  rec.setField(0,new IntValue(1));
  try {
    oe1.selectChannels(rec,100);
  }
 catch (  KeyFieldOutOfBoundsException re) {
    Assert.assertEquals(1,re.getFieldNumber());
    return;
  }
  Assert.fail("Expected a KeyFieldOutOfBoundsException.");
}
