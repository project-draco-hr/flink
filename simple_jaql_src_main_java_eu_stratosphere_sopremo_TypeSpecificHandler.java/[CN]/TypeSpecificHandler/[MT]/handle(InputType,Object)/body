{
  Handler handler=getHandler(in.getClass());
  if (handler == null)   return null;
  Object[] parameters=new Object[params.length + 1];
  parameters[0]=in;
  System.arraycopy(params,0,parameters,1,params.length);
  try {
    return (OutputBase)callbacks.get(handler.getClass()).invoke(handler,parameters);
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
}
