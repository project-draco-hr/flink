{
  List<T> outputs=new ArrayList<T>();
  if (sourceFunction instanceof RichSourceFunction) {
    ((RichSourceFunction<T>)sourceFunction).open(new Configuration());
  }
  try {
    Collector<T> collector=new MockOutput<T>(outputs);
    while (!sourceFunction.reachedEnd()) {
      collector.collect(sourceFunction.next());
    }
  }
 catch (  Exception e) {
    throw new RuntimeException("Cannot invoke source.",e);
  }
  return outputs;
}
