{
  String msg=String.format("Network buffer pool: %d missing memory segments. %d registered buffer pools. Connection manager: %d active connections. Task event dispatcher: %d registered writers.",networkBufferPool.getTotalNumberOfMemorySegments() - networkBufferPool.getNumberOfAvailableMemorySegments(),networkBufferPool.getNumberOfRegisteredBufferPools(),connectionManager.getNumberOfActiveConnections(),taskEventDispatcher.getNumberOfRegisteredWriters());
  boolean success=networkBufferPool.getTotalNumberOfMemorySegments() == networkBufferPool.getNumberOfAvailableMemorySegments() && networkBufferPool.getNumberOfRegisteredBufferPools() == 0 && connectionManager.getNumberOfActiveConnections() == 0 && taskEventDispatcher.getNumberOfRegisteredWriters() == 0;
  if (success) {
    String successMsg="Network environment did release all resources: " + msg;
    LOG.debug(successMsg);
  }
 else {
    String errMsg="Network environment did *not* release all resources: " + msg;
    LOG.error(errMsg);
  }
  return success;
}
