{
  super.initialize();
  if (!isWorksetUpdate && !isSolutionSetUpdate) {
    throw new RuntimeException("The iteration tail doesn't update workset or the solution set.");
  }
  Collector<OT> outputCollector=null;
  if (isWorksetUpdate) {
    outputCollector=createWorksetUpdateOutputCollector();
    if (isWorksetIteration) {
      worksetUpdateOutputCollector=(WorksetUpdateOutputCollector<OT>)outputCollector;
    }
  }
  if (isSolutionSetUpdate) {
    outputCollector=createSolutionSetUpdateOutputCollector(outputCollector);
    if (!isWorksetUpdate) {
      solutionSetUpdateBarrier=SolutionSetUpdateBarrierBroker.instance().get(brokerKey());
    }
  }
  setLastOutputCollector(outputCollector);
}
