{
  while (this.running && !terminationRequested()) {
    if (log.isInfoEnabled()) {
      log.info(formatLogString("starting iteration [" + currentIteration() + "]"));
    }
    try {
      super.run();
    }
 catch (    NullPointerException e) {
      boolean terminationRequested=terminationRequested();
      System.out.println("Nullpoint exception when termination requested was " + terminationRequested);
    }
    checkForTerminationAndResetEndOfSuperstepState();
    if (isWorksetUpdate && isWorksetIteration) {
      long numCollected=worksetUpdateOutputCollector.getElementsCollectedAndReset();
      worksetAggregator.aggregate(numCollected);
    }
    if (log.isInfoEnabled()) {
      log.info(formatLogString("finishing iteration [" + currentIteration() + "]"));
    }
    if (!terminationRequested()) {
      if (isWorksetUpdate) {
        worksetBackChannel.notifyOfEndOfSuperstep();
      }
 else       if (isSolutionSetUpdate) {
        solutionSetUpdateBarrier.notifySolutionSetUpdate();
      }
      incrementIterationCounter();
    }
  }
}
