{
  boolean viewUpdateRequired=false;
  try {
    final List<RecentJobEvent> newJobs=this.jobManager.getRecentJobs();
    Collections.sort(newJobs,new Comparator<RecentJobEvent>(){
      @Override public int compare(      final RecentJobEvent o1,      final RecentJobEvent o2){
        return (int)(o1.getSubmissionTimestamp() - o2.getSubmissionTimestamp());
      }
    }
);
    if (!newJobs.isEmpty()) {
      final Iterator<RecentJobEvent> it=newJobs.iterator();
      while (it.hasNext()) {
        final RecentJobEvent newJobEvent=it.next();
        addJob(newJobEvent.getJobID(),newJobEvent.getJobName(),newJobEvent.isProfilingAvailable(),newJobEvent.getSubmissionTimestamp(),newJobEvent.getTimestamp());
      }
    }
synchronized (this.recentJobs) {
      final Iterator<JobID> it=this.recentJobs.keySet().iterator();
      while (it.hasNext()) {
        final JobID jobID=it.next();
        final List<AbstractEvent> events=this.jobManager.getEvents(jobID);
        if (!events.isEmpty()) {
          final CTabItem selectedTab=this.jobTabFolder.getSelection();
          if (selectedTab != null) {
            final JobID jobIDOfSelectedTab=(JobID)selectedTab.getData();
            if (jobID.equals(jobIDOfSelectedTab)) {
              viewUpdateRequired=true;
            }
          }
          final GraphVisualizationData graphVisualizationData=this.recentJobs.get(jobID);
          final Iterator<AbstractEvent> eventIt=events.iterator();
          while (eventIt.hasNext()) {
            final AbstractEvent event=eventIt.next();
            if (this.lastProcessedEventSequenceNumber >= event.getSequenceNumber()) {
              continue;
            }
            dispatchEvent(event,graphVisualizationData);
            this.lastProcessedEventSequenceNumber=event.getSequenceNumber();
          }
        }
      }
    }
  }
 catch (  IOException ioe) {
    LOG.error(StringUtils.stringifyException(ioe));
  }
  if (viewUpdateRequired) {
    updateView();
  }
  this.display.timerExec(QUERYINTERVAL * 1000,this);
}
