{
  if (getRuntimeConfiguration().getBoolean(EXCEPTION_SCENARIO_KEY,false)) {
    throw new IOException("Test Exception");
  }
  if (getRuntimeConfiguration().getBoolean(USER_ABORT_SCENARIO_KEY,false)) {
    if (Thread.interrupted()) {
      throw new InterruptedException("Interrupted by user");
    }
    Thread.sleep(MAX_WAIT_TIME);
  }
}
