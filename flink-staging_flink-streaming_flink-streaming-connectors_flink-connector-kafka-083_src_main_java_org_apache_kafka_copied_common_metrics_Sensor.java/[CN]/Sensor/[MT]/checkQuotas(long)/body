{
  for (int i=0; i < this.metrics.size(); i++) {
    KafkaMetric metric=this.metrics.get(i);
    MetricConfig config=metric.config();
    if (config != null) {
      Quota quota=config.quota();
      if (quota != null) {
        if (!quota.acceptable(metric.value(timeMs)))         throw new QuotaViolationException(metric.metricName() + " is in violation of its quota of " + quota.bound());
      }
    }
  }
}
