{
  if (currentKey == null) {
    throw new RuntimeException("No key available.");
  }
  if (currentNSState == null) {
    currentNSState=new HashMap<>();
    state.put(currentNamespace,currentNSState);
  }
  ArrayList<V> list=currentNSState.get(currentKey);
  if (list == null) {
    list=new ArrayList<>();
    currentNSState.put(currentKey,list);
  }
  list.add(value);
}
