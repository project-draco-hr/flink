{
  ObjectNode target=new ObjectNode();
  final BatchAggregationExpression batch=new BatchAggregationExpression(CoreFunctions.SUM);
  batch.add(CoreFunctions.AVERAGE);
  batch.add(CoreFunctions.AVERAGE,new ArithmeticExpression(EvaluationExpression.VALUE,ArithmeticOperator.MULTIPLICATION,EvaluationExpression.VALUE));
  final IJsonNode result=batch.evaluate(createArrayNode(2,3,4,5,1),target,this.context);
  Assert.assertNotSame(target,result);
}
