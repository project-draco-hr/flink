{
  final long start=System.currentTimeMillis();
  long remaining=this.timeout;
  do {
    try {
      this.join(remaining);
    }
 catch (    InterruptedException iex) {
    }
  }
 while (this.error == null && this.fdis == null && (remaining=this.timeout + start - System.currentTimeMillis()) > 0);
  if (this.error != null) {
    throw this.error;
  }
  if (this.fdis != null) {
    return this.fdis;
  }
 else {
    this.aborted=true;
    final FSDataInputStream inStream=this.fdis;
    this.fdis=null;
    if (inStream != null) {
      try {
        inStream.close();
      }
 catch (      Throwable t) {
      }
    }
    throw new IOException("Opening request timed out.");
  }
}
