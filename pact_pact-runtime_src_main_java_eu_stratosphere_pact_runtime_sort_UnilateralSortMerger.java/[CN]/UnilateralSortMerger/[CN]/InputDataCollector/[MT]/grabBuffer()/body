{
  while (this.currentElement == null) {
    try {
      this.currentElement=this.queues.empty.take();
    }
 catch (    InterruptedException iex) {
      if (this.running) {
        LOG.error("Reading thread was interrupted (without being shut down) while grabbing a buffer. " + "Retrying to grab buffer...");
      }
 else {
        return;
      }
    }
  }
  this.currentBuffer=this.currentElement.buffer;
  if (!this.currentBuffer.isEmpty()) {
    throw new RuntimeException("New sort-buffer is not empty.");
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Retrieved empty read buffer " + this.currentElement.id + ".");
  }
  this.spillingInThisBuffer=this.currentBuffer.getCapacity() <= this.bytesUntilSpilling;
}
