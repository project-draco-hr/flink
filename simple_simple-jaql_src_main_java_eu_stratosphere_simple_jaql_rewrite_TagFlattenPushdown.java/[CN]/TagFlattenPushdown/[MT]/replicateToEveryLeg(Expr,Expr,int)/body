{
  flat.replaceInParent(input);
  Expr index=flat.child(1);
  Expr size=flat.child(2);
  int n=input.numChildren();
  for (int i=startChild; i < n; i++) {
    Expr leg=input.child(i);
    leg=new TagFlattenFn(leg,cloneExpr(index),cloneExpr(size));
    input.setChild(i,leg);
  }
}
