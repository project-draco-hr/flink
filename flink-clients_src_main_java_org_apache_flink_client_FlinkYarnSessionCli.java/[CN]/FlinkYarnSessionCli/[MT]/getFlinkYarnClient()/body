{
  AbstractFlinkYarnClient yarnClient;
  try {
    Class<? extends AbstractFlinkYarnClient> yarnClientClass=Class.forName("org.apache.flink.yarn.FlinkYarnClient").asSubclass(AbstractFlinkYarnClient.class);
    yarnClient=InstantiationUtil.instantiate(yarnClientClass,AbstractFlinkYarnClient.class);
  }
 catch (  ClassNotFoundException e) {
    System.err.println("Unable to locate the Flink YARN Client. " + "Please ensure that you are using a Flink build with Hadoop2/YARN support. Message: " + e.getMessage());
    e.printStackTrace(System.err);
    return null;
  }
  return yarnClient;
}
