{
  try {
    final Random rnd=this.rnd;
    final int NUM_TYPES=1000000;
    final Iterator<SerializationTestType> randomSource=new Iterator<SerializationTestType>(){
      private final Random random=rnd;
      private final int limit=NUM_TYPES;
      private int pos=0;
      @Override public boolean hasNext(){
        return this.pos < this.limit;
      }
      @Override public SerializationTestType next(){
        if (hasNext()) {
          this.pos++;
          return TYPE_FACTORIES[this.random.nextInt(TYPE_FACTORIES.length)].getRandom(this.random);
        }
 else {
          throw new NoSuchElementException();
        }
      }
      @Override public void remove(){
        throw new UnsupportedOperationException();
      }
    }
;
    testSequenceOfTypes(randomSource,512 * 7);
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail("Test encountered an unexpected exception.");
  }
}
