{
  long start=System.currentTimeMillis();
  long remaining=this.timeoutMillies;
synchronized (this.lock) {
    boolean success=false;
    try {
      while (this.exception == null && this.fdos == null && (remaining=this.timeoutMillies + start - System.currentTimeMillis()) > 0) {
        this.lock.wait(remaining);
      }
      if (this.exception != null) {
        throw this.exception;
      }
      if (this.fdos != null) {
        success=true;
        return this.fdos;
      }
    }
  finally {
      if (!success) {
        this.canceled=true;
      }
    }
  }
  throw new Exception("Output Path Opener timed out.");
}
