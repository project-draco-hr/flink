{
  super(new UnionInputGate(inputgate1,inputgate2));
  this.bufferReader1=inputgate1;
  this.bufferReader2=inputgate2;
  this.reader1RecordDeserializers=new AdaptiveSpanningRecordDeserializer[inputgate1.getNumberOfInputChannels()];
  this.reader2RecordDeserializers=new AdaptiveSpanningRecordDeserializer[inputgate2.getNumberOfInputChannels()];
  for (int i=0; i < reader1RecordDeserializers.length; i++) {
    reader1RecordDeserializers[i]=new AdaptiveSpanningRecordDeserializer<T1>();
  }
  for (int i=0; i < reader2RecordDeserializers.length; i++) {
    reader2RecordDeserializers[i]=new AdaptiveSpanningRecordDeserializer<T2>();
  }
  inputgate1.registerListener(this);
  inputgate2.registerListener(this);
  barrierBuffer1=new CoBarrierBuffer(inputgate1,this);
  barrierBuffer2=new CoBarrierBuffer(inputgate2,this);
  barrierBuffer1.setOtherBarrierBuffer(barrierBuffer2);
  barrierBuffer2.setOtherBarrierBuffer(barrierBuffer1);
}
