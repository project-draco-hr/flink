{
  final ExecutionEnvironment env=ExecutionEnvironment.createRemoteEnvironment("localhost",cluster.getJobManagerRPCPort());
  env.setParallelism(PARALLELISM);
  env.getConfig().disableSysoutLogging();
  Graph<Long,Long,Long> graph=Graph.fromCollection(TestGraphUtils.getLongLongVertices(),TestGraphUtils.getLongLongEdges(),env);
  try {
    DataSet<Vertex<Long,Long>> verticesWithNumVertices=graph.runVertexCentricIteration(new UpdateFunctionNumVertices(),new DummyMessageFunction(),5).getVertices();
    verticesWithNumVertices.output(new DiscardingOutputFormat<Vertex<Long,Long>>());
    env.execute();
    fail("The num vertices option not set test did not fail");
  }
 catch (  Exception e) {
  }
}
