{
  final JobID jobID=taskCheckpointState.getJobID();
  final ExecutionGraph executionGraph=this.scheduler.getExecutionGraphByID(jobID);
  if (executionGraph == null) {
    LOG.error("Cannot find execution graph for job " + taskCheckpointState.getJobID() + " to update checkpoint state");
    return;
  }
  final ExecutionVertex vertex=executionGraph.getVertexByID(taskCheckpointState.getVertexID());
  if (vertex == null) {
    LOG.error("Cannot find vertex with ID " + taskCheckpointState.getVertexID() + " to update checkpoint state");
    return;
  }
  final Runnable taskStateChangeRunnable=new Runnable(){
    @Override public void run(){
      vertex.updateCheckpointState(taskCheckpointState.getCheckpointState());
    }
  }
;
  executionGraph.executeCommand(taskStateChangeRunnable);
}
