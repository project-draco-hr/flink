{
  AbstractDirectInputChannel<T> directInputChannel=null;
  if (this.directChannelBroker == null) {
    throw new IOException("directChannelBroker is null!");
  }
  for (int i=0; i < this.numberOfConnectionRetries; i++) {
    directInputChannel=(AbstractDirectInputChannel<T>)this.directChannelBroker.getDirectInputChannelByID(getConnectedChannelID());
    if (directInputChannel != null) {
      return directInputChannel;
    }
    try {
      Thread.sleep(CONNECTION_SLEEP_INTERVAL);
    }
 catch (    InterruptedException e) {
      e.printStackTrace();
    }
  }
  throw new IOException("Cannot find corresponding in-memory input channel for in-memory output channel " + getID());
}
