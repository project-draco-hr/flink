{
  Configuration config=new Configuration();
  String rootPath=System.getProperty("java.io.tmpdir");
  config.setString(ConfigConstants.STATE_BACKEND,"filesystem");
  config.setString(SavepointStoreFactory.SAVEPOINT_BACKEND_KEY,"filesystem");
  config.setString(SavepointStoreFactory.SAVEPOINT_DIRECTORY_KEY,rootPath);
  SavepointStore store=SavepointStoreFactory.createFromConfig(config);
  assertTrue(store.getStateStore() instanceof FileSystemStateStore);
  FileSystemStateStore<CompletedCheckpoint> stateStore=(FileSystemStateStore<CompletedCheckpoint>)store.getStateStore();
  assertEquals(new Path(rootPath),stateStore.getRootPath());
}
