{
  if (currentNSState == null) {
    Preconditions.checkState(currentNamespace != null,"No namespace set");
    currentNSState=state.get(currentNamespace);
  }
  if (currentNSState != null) {
    Preconditions.checkState(currentKey != null,"No key set");
    V value=currentNSState.get(currentKey);
    return value != null ? value : stateDesc.getDefaultValue();
  }
  return stateDesc.getDefaultValue();
}
