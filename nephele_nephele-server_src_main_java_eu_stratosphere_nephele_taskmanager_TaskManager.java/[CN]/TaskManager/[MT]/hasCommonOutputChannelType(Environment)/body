{
  ChannelType outputChannelType=null;
  for (int i=0; i < environment.getNumberOfOutputGates(); i++) {
    final OutputGate<? extends Record> outputGate=environment.getOutputGate(i);
    for (int j=0; j < outputGate.getNumberOfOutputChannels(); j++) {
      final AbstractOutputChannel<? extends Record> outputChannel=outputGate.getOutputChannel(j);
      if (outputChannelType == null) {
        outputChannelType=outputChannel.getType();
      }
 else {
        if (!outputChannelType.equals(outputChannel.getType())) {
          return null;
        }
      }
    }
  }
  return outputChannelType;
}
