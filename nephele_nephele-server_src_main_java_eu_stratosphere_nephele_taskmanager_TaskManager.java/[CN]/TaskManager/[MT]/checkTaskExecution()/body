{
  final List<Task> failedTasks=new ArrayList<Task>();
synchronized (this.runningTasks) {
    final Iterator<ExecutionVertexID> it=this.runningTasks.keySet().iterator();
    while (it.hasNext()) {
      final ExecutionVertexID executionVertexID=it.next();
      final Task task=this.runningTasks.get(executionVertexID);
      if (task.isTerminated()) {
        it.remove();
        failedTasks.add(task);
      }
    }
  }
  final Iterator<Task> it2=failedTasks.iterator();
  while (it2.hasNext()) {
    it2.next().markAsFailed();
  }
}
