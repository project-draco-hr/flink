{
  Option configDirOpt=OptionBuilder.withArgName("config directory").hasArg().withDescription("Specify configuration directory.").create("configDir");
  Options options=new Options();
  options.addOption(configDirOpt);
  CommandLineParser parser=new GnuParser();
  CommandLine line=null;
  try {
    line=parser.parse(options,args);
  }
 catch (  ParseException e) {
    System.err.println("CLI Parsing failed. Reason: " + e.getMessage());
    System.exit(FAILURERETURNCODE);
  }
  String configDir=line.getOptionValue(configDirOpt.getOpt(),null);
  TaskManager taskManager=null;
  try {
    taskManager=new TaskManager(configDir);
  }
 catch (  Throwable t) {
    LOG.fatal("Taskmanager startup failed:" + t.getMessage());
    System.exit(FAILURERETURNCODE);
  }
  taskManager.runIOLoop();
  taskManager.shutdown();
}
