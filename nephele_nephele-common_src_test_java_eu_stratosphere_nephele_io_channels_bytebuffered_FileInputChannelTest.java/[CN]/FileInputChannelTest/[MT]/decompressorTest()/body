{
  @SuppressWarnings("unchecked") final InputGate<StringRecord> inGate=mock(InputGate.class);
  final ByteBufferedInputChannelBroker inputBroker=mock(ByteBufferedInputChannelBroker.class);
  FileInputChannel<StringRecord> fileInputChannel=new FileInputChannel<StringRecord>(inGate,1,new DefaultRecordDeserializer<StringRecord>(),null,CompressionLevel.NO_COMPRESSION);
  fileInputChannel.setInputChannelBroker(inputBroker);
  try {
    fileInputChannel.getDecompressor(0);
    fail();
  }
 catch (  CompressionException e) {
  }
  fileInputChannel=new FileInputChannel<StringRecord>(inGate,1,new DefaultRecordDeserializer<StringRecord>(),null,CompressionLevel.NO_COMPRESSION);
  CompressionLoader.init();
  Decompressor decompressor=CompressionLoader.getDecompressorByCompressionLevel(CompressionLevel.LIGHT_COMPRESSION);
  PowerMockito.mockStatic(GlobalConfiguration.class);
  if (decompressor != null) {
    when(GlobalConfiguration.getString("channel.file.decompressor",null)).thenReturn(decompressor.getClass().getName());
    try {
      Decompressor actual=fileInputChannel.getDecompressor(0);
      Assert.assertEquals(decompressor,actual);
    }
 catch (    CompressionException e) {
      fail();
    }
  }
 else {
    try {
      fileInputChannel.getDecompressor(0);
      fail();
    }
 catch (    CompressionException e) {
    }
  }
}
