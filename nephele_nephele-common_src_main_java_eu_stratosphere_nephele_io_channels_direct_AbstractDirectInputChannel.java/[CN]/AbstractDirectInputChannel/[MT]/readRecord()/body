{
  if (this.currentReadBuffer == null) {
synchronized (this.synchronizationMontior) {
      if (this.isClosed()) {
        throw new EOFException();
      }
      if (this.fullBuffers.isEmpty()) {
        return null;
      }
      this.currentReadBuffer=this.fullBuffers.poll();
      this.currentReadBufferIsNull=false;
    }
  }
  T record=this.currentReadBuffer.get();
  if (this.currentReadBuffer.getSize() == 0) {
synchronized (this.synchronizationMontior) {
      this.emptyBuffers.add(this.currentReadBuffer);
      this.currentReadBuffer=null;
      this.currentReadBufferIsNull=true;
      this.synchronizationMontior.notify();
    }
  }
  return record;
}
