{
  if (!memoryBackedBuffer.isBackedByMemory()) {
    throw new IllegalArgumentException("Provided buffer must be backed by memory!");
  }
  if (size() != memoryBackedBuffer.size()) {
    throw new IllegalArgumentException("Buffer sizes do not match: " + size() + " vs. "+ memoryBackedBuffer.size());
  }
  while (memoryBackedBuffer.hasRemaining()) {
    memoryBackedBuffer.write(this);
  }
  memoryBackedBuffer.finishWritePhase();
}
