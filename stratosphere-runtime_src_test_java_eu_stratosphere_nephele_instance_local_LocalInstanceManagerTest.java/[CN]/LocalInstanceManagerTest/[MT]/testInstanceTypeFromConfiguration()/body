{
  try {
    final String configDir=ServerTestUtils.getConfigDir();
    if (configDir == null) {
      fail("Cannot locate configuration directory");
    }
    GlobalConfiguration.loadConfiguration(configDir);
    ExecutionMode executionMode=ExecutionMode.LOCAL;
    JobManager jm=new JobManager(executionMode);
    final TestInstanceListener testInstanceListener=new TestInstanceListener();
    InstanceManager im=jm.getInstanceManager();
    try {
      im.setInstanceListener(testInstanceListener);
    }
 catch (    Exception e) {
      e.printStackTrace();
      Assert.fail("Instantiation of LocalInstanceManager failed: " + e.getMessage());
    }
 finally {
      jm.shutdown();
    }
  }
 catch (  Exception e) {
    System.err.println(e.getMessage());
    e.printStackTrace();
    Assert.fail("Test caused an error: " + e.getMessage());
  }
}
