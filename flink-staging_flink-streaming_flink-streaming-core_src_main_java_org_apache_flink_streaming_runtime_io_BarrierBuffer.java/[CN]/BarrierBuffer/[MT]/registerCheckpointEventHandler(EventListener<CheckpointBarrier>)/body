{
  if (this.checkpointHandler == null) {
    this.checkpointHandler=checkpointHandler;
  }
 else {
    throw new IllegalStateException("BarrierBuffer already has a registered checkpoint handler");
  }
}
