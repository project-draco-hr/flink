{
  if (Arrays.equals(oldPositions,newPositions)) {
    return null;
  }
  int[] scrambledKeys=new int[newPositions.length];
  for (int newPosition=0; newPosition < newPositions.length; newPosition++) {
    boolean foundNeyKey=false;
    for (int oldPosition=0; oldPosition < oldPositions.length; oldPosition++) {
      if (newPositions[newPosition] == oldPositions[oldPosition]) {
        scrambledKeys[newPosition]=oldPosition;
        foundNeyKey=true;
        break;
      }
    }
    if (!foundNeyKey) {
      throw new RuntimeException("Partitioned fields are not subset of the key");
    }
  }
  return scrambledKeys;
}
