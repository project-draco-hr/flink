{
  if (!blockedChannels.contains(channelIndex)) {
    blockedChannels.add(channelIndex);
    if (LOG.isDebugEnabled()) {
      LOG.debug("Channel blocked with index: " + channelIndex);
    }
    if (blockedChannels.size() == totalNumberOfInputChannels) {
      reader.publish(currentSuperstep);
      unprocessed.addAll(bufferOrEvents);
      bufferOrEvents.clear();
      blockedChannels.clear();
      receivedSuperstep=false;
      if (LOG.isDebugEnabled()) {
        LOG.debug("All barriers received, blocks released");
      }
    }
  }
 else {
    throw new RuntimeException("Tried to block an already blocked channel");
  }
}
