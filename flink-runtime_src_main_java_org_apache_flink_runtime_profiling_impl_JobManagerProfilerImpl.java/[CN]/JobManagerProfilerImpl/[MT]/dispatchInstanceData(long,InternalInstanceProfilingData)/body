{
synchronized (this.registeredJobs) {
    Iterator<JobID> it=this.registeredJobs.keySet().iterator();
    while (it.hasNext()) {
      final JobID jobID=it.next();
      final JobProfilingData jobProfilingData=this.registeredJobs.get(jobID);
      if (!jobProfilingData.addIfInstanceIsAllocatedByJob(profilingData)) {
        continue;
      }
      final SingleInstanceProfilingEvent singleInstanceProfilingEvent=new SingleInstanceProfilingEvent(profilingData.getProfilingInterval(),profilingData.getIOWaitCPU(),profilingData.getIdleCPU(),profilingData.getUserCPU(),profilingData.getSystemCPU(),profilingData.getHardIrqCPU(),profilingData.getSoftIrqCPU(),profilingData.getTotalMemory(),profilingData.getFreeMemory(),profilingData.getBufferedMemory(),profilingData.getCachedMemory(),profilingData.getCachedSwapMemory(),profilingData.getReceivedBytes(),profilingData.getTransmittedBytes(),jobID,timestamp,timestamp - jobProfilingData.getProfilingStart(),profilingData.getInstanceConnectionInfo().toString());
synchronized (this.registeredListeners) {
        List<ProfilingListener> jobListeners=this.registeredListeners.get(jobID);
        if (jobListeners == null) {
          continue;
        }
        final InstanceSummaryProfilingEvent instanceSummary=jobProfilingData.getInstanceSummaryProfilingData(timestamp);
        final Iterator<ProfilingListener> listenerIterator=jobListeners.iterator();
        while (listenerIterator.hasNext()) {
          final ProfilingListener profilingListener=listenerIterator.next();
          profilingListener.processProfilingEvents(singleInstanceProfilingEvent);
          if (instanceSummary != null) {
            profilingListener.processProfilingEvents(instanceSummary);
          }
        }
      }
    }
  }
}
