{
  PrintStream originalOut=System.out;
  PrintStream originalErr=System.err;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  System.setOut(new PrintStream(baos));
  ByteArrayOutputStream baes=new ByteArrayOutputStream();
  System.setErr(new PrintStream(baes));
  setAsContext();
  try {
    prog.invokeInteractiveModeForExecution();
  }
 catch (  ProgramInvocationException e) {
    throw e;
  }
catch (  Throwable t) {
    if (optimizerPlan != null) {
      return optimizerPlan;
    }
 else {
      throw new ProgramInvocationException("The program caused an error: ",t);
    }
  }
 finally {
    unsetAsContext();
    System.setOut(originalOut);
    System.setErr(originalErr);
    System.err.println(baes);
    System.out.println(baos);
  }
  throw new ProgramInvocationException("The program plan could not be fetched - the program aborted pre-maturely.\n" + "System.err: " + baes.toString() + '\n'+ "System.out: "+ baos.toString()+ '\n');
}
