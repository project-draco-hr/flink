{
  if (transferEnvelope.getBuffer() != null) {
    throw new IllegalStateException("Transfer envelope for output channel has buffer attached");
  }
  final Iterator<AbstractEvent> it=transferEnvelope.getEventList().iterator();
  while (it.hasNext()) {
    final AbstractEvent event=it.next();
    if (event instanceof AbstractTaskEvent) {
      processEventAsynchronously(event);
    }
 else {
      processEventSynchronously(event);
    }
  }
}
