{
  this.subscriptions.needRefreshCommits();
  RequestFuture<Void> future=sendOffsetCommitRequest(offsets);
  if (callback != null) {
    future.addListener(new RequestFutureListener<Void>(){
      @Override public void onSuccess(      Void value){
        callback.onComplete(offsets,null);
      }
      @Override public void onFailure(      RuntimeException e){
        callback.onComplete(offsets,e);
      }
    }
);
  }
}
