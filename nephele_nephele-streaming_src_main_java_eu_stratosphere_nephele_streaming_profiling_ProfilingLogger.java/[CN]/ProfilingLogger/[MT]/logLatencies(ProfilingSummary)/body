{
  long now=System.currentTimeMillis();
  long timestamp=now - timeBase;
  if (!headersWritten) {
    writeHeaders(summary);
  }
  StringBuilder builder=new StringBuilder();
  builder.append(timestamp);
  builder.append(';');
  builder.append(summary.getNoOfActivePaths());
  builder.append(';');
  builder.append(summary.getNoOfInactivePaths());
  builder.append(';');
  builder.append(summary.getAvgTotalPathLatency());
  builder.append(';');
  builder.append(summary.getMedianPathLatency());
  builder.append(';');
  builder.append(summary.getMinPathLatency());
  builder.append(';');
  builder.append(summary.getMaxPathLatency());
  for (  double avgElementLatency : summary.getAvgPathElementLatencies()) {
    builder.append(';');
    builder.append(avgElementLatency);
  }
  builder.append('\n');
  writer.write(builder.toString());
  writer.flush();
  refreshTimeOfNextLogging();
}
