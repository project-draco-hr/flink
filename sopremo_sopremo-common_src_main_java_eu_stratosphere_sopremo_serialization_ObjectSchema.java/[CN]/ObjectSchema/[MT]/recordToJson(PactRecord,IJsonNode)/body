{
  if (this.mapping.size() + 1 != record.getNumFields()) {
    throw new IllegalStateException("Schema does not match to record!");
  }
  if (target == null) {
    target=new ObjectNode();
  }
 else {
    ((IObjectNode)target).removeAll();
  }
  for (int i=0; i < this.mapping.size(); i++) {
    if (record.getField(i,JsonNodeWrapper.class) != null) {
      ((IObjectNode)target).put(this.mapping.get(i),SopremoUtil.unwrap(record.getField(i,JsonNodeWrapper.class)));
    }
  }
  ((IObjectNode)target).putAll((IObjectNode)SopremoUtil.unwrap(record.getField(this.mapping.size(),JsonNodeWrapper.class)));
  return target;
}
