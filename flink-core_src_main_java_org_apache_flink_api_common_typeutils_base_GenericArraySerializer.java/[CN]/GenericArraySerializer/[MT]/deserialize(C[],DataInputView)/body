{
  int len=source.readInt();
  if (reuse.length != len) {
    reuse=create(len);
  }
  for (int i=0; i < len; i++) {
    boolean isNonNull=source.readBoolean();
    if (isNonNull) {
      C ri=reuse[i];
      if (ri == null) {
        ri=componentSerializer.deserialize(source);
      }
 else {
        ri=componentSerializer.deserialize(ri,source);
      }
      reuse[i]=ri;
    }
 else {
      reuse[i]=null;
    }
  }
  return reuse;
}
