{
  final Buffer buffer=this.localBufferPool.requestEmptyBuffer(minimumSizeOfBuffer);
  if (buffer != null) {
    return buffer;
  }
  if (this.envelopeConsumptionLog.followsLog() || this.inputGate.getChannelType() == ChannelType.NETWORK) {
    return BufferFactory.createFromFile(minimumSizeOfBuffer,this.inputGate.getGateID(),fileBufferManager);
  }
  return this.localBufferPool.requestEmptyBufferBlocking(minimumSizeOfBuffer);
}
