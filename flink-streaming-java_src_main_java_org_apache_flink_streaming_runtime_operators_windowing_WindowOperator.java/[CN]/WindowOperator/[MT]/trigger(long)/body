{
  boolean fire;
  do {
    Timer<K,W> timer=processingTimeTimersQueue.peek();
    if (timer != null && timer.timestamp <= time) {
      fire=true;
      processingTimeTimers.remove(timer);
      processingTimeTimersQueue.remove();
      context.key=timer.key;
      context.window=timer.window;
      setKeyContext(timer.key);
      TriggerResult triggerResult=context.onProcessingTime(timer.timestamp);
      processTriggerResult(triggerResult,context.key,context.window);
    }
 else {
      fire=false;
    }
  }
 while (fire);
  processWatermark(new Watermark(currentWatermark));
}
