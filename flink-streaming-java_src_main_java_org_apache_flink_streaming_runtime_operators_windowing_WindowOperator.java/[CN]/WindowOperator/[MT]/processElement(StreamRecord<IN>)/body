{
  if (setProcessingTime) {
    element.replace(element.getValue(),System.currentTimeMillis());
  }
  Collection<W> elementWindows=windowAssigner.assignWindows(element.getValue(),element.getTimestamp());
  K key=(K)getStateBackend().getCurrentKey();
  for (  W window : elementWindows) {
    MergingState<IN,ACC> windowState=getPartitionedState(window,windowSerializer,windowStateDescriptor);
    windowState.add(element.getValue());
    context.key=key;
    context.window=window;
    TriggerResult triggerResult=context.onElement(element);
    processTriggerResult(triggerResult,key,window);
  }
}
