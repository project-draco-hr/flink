{
  File out=new File("/tmp/jarcreatortest5.jar");
  JarFileCreator jfc=new JarFileCreator(out);
  jfc.addClass(WordCountWithInnerClass.class).addPackage("org.apache.flink.util").createJarFile();
  Set<String> ans=new HashSet<String>();
  ans.add("org/apache/flink/runtime/util/jartestprogram/StaticData.class");
  ans.add("org/apache/flink/runtime/util/jartestprogram/WordCountWithInnerClass.class");
  ans.add("org/apache/flink/runtime/util/jartestprogram/WordCountWithInnerClass$Tokenizer.class");
  ans.add("org/apache/flink/util/Collector.class");
  JarInputStream jis=new JarInputStream(new FileInputStream(out));
  ZipEntry ze;
  int count=4;
  while ((ze=jis.getNextEntry()) != null) {
    count--;
    ans.remove(ze.getName());
  }
  Assert.assertTrue("Jar file for UDF package is not correct",count == 0 && ans.size() == 0);
  out.delete();
}
