{
  for (int i=this.partitionsBeingBuilt.size() - 1; i >= 0; --i) {
    Partition p=this.partitionsBeingBuilt.get(i);
    this.availableMemory.add(p.currentPartitionBuffer);
    p.currentPartitionBuffer=null;
    for (int k=0; k < p.numOverflowSegments; k++) {
      this.availableMemory.add(p.overflowSegments[k]);
    }
    for (int k=p.partitionBuffers.size() - 1; k >= 0; --k) {
      this.availableMemory.add(p.partitionBuffers.get(k));
    }
  }
  this.partitionsBeingBuilt.clear();
}
