{
  this.convertDAGToModules(sopremoModule);
  final int sinkCount=sopremoModule.getNumOutputs();
  final int sourceCount=sopremoModule.getNumInputs();
  final ElementarySopremoModule elementarySopremoModule=new ElementarySopremoModule(sopremoModule.getName(),sourceCount,sinkCount);
  for (int sourceIndex=0; sourceIndex < sourceCount; sourceIndex++) {
    final ElementarySopremoModule connectedInput=this.modules.get(sopremoModule.getInput(sourceIndex));
    if (connectedInput == null)     continue;
    connectedInput.getOutput(0).setInput(0,elementarySopremoModule.getInput(sourceIndex));
  }
  this.connectModules();
  for (int sinkIndex=0; sinkIndex < sinkCount; sinkIndex++)   elementarySopremoModule.getOutput(sinkIndex).setInput(0,this.modules.get(sopremoModule.getOutput(sinkIndex)).getInternalOutputNodes(0).getInput(0));
  for (  final Sink sink : sopremoModule.getInternalOutputNodes())   elementarySopremoModule.addInternalOutput(this.modules.get(sink).getInternalOutputNodes(0));
  return elementarySopremoModule;
}
