{
  MetricRegistry registry=new MetricRegistry(new Configuration());
  TaskManagerScopeFormat tmFormat=new TaskManagerScopeFormat("abc");
  TaskManagerJobScopeFormat jmFormat=new TaskManagerJobScopeFormat("some-constant.<job_name>",tmFormat);
  JobID jid=new JobID();
  TaskManagerMetricGroup tmGroup=new TaskManagerMetricGroup(registry,"theHostName","test-tm-id");
  JobMetricGroup jmGroup=new TaskManagerJobMetricGroup(registry,tmGroup,jmFormat,jid,"myJobName");
  assertArrayEquals(new String[]{"some-constant","myJobName"},jmGroup.getScopeComponents());
  assertEquals("some-constant.myJobName",jmGroup.getScopeString());
  registry.shutdown();
}
