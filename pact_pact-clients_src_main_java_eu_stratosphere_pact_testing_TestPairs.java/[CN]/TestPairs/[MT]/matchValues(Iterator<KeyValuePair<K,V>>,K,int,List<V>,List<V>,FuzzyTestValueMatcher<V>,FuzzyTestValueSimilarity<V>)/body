{
  KeyValuePair<K,V> actualPair=null;
  while (actualIterator.hasNext()) {
    actualPair=actualIterator.next();
    int keyComparison=actualPair.getKey().compareTo(currentKey);
    if (keyComparison < 0)     throw new ArrayComparisonFailure("Unexpected values for key " + currentKey + ": ",new AssertionFailedError(Assert.format(" ",new KeyValuePair<Key,Value>(currentKey,expectedValuesWithCurrentKey.get(0)),actualPair)),itemIndex + expectedValuesWithCurrentKey.size() - 1);
    if (keyComparison != 0)     break;
    actualValuesWithCurrentKey.add(actualPair.getValue());
    actualPair=null;
  }
  fuzzyMatcher.removeMatchingValues(fuzzySimilarity,expectedValuesWithCurrentKey,actualValuesWithCurrentKey);
  if (!expectedValuesWithCurrentKey.isEmpty() || !actualValuesWithCurrentKey.isEmpty())   throw new ArrayComparisonFailure("Unexpected values for key " + currentKey + ": ",new AssertionFailedError(Assert.format(" ",expectedValuesWithCurrentKey,actualValuesWithCurrentKey)),itemIndex - expectedValuesWithCurrentKey.size());
  if (actualPair != null)   actualValuesWithCurrentKey.add(actualPair.getValue());
}
