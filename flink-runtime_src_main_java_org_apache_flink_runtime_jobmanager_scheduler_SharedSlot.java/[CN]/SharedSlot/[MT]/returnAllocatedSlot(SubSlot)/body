{
  boolean release;
synchronized (this.subSlots) {
    if (!this.subSlots.remove(slot)) {
      throw new IllegalArgumentException("Wrong shared slot for subslot.");
    }
    if (assignmentGroup != null) {
      release=assignmentGroup.sharedSlotAvailableForJid(this,slot.getJobVertexId(),this.subSlots.isEmpty());
    }
 else {
      release=subSlots.isEmpty();
    }
    if (release) {
      disposed=true;
    }
  }
  if (release) {
    this.allocatedSlot.releaseSlot();
  }
}
