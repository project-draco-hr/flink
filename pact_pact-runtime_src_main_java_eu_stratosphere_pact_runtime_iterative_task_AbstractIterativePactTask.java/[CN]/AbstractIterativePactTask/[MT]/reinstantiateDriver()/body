{
  if (this.driver instanceof ResettablePactDriver) {
    final ResettablePactDriver<?,?> resDriver=(ResettablePactDriver<?,?>)this.driver;
    resDriver.reset();
  }
 else {
    Class<? extends PactDriver<S,OT>> driverClass=this.config.getDriver();
    this.driver=InstantiationUtil.instantiate(driverClass,PactDriver.class);
    try {
      this.driver.setup(this);
    }
 catch (    Throwable t) {
      throw new Exception("The pact driver setup for '" + this.getEnvironment().getTaskName() + "' , caused an error: "+ t.getMessage(),t);
    }
  }
}
