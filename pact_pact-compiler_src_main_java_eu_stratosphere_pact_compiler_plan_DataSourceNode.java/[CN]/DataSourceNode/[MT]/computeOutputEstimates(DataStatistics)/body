{
  CompilerHints hints=getPactContract().getCompilerHints();
  if (statistics != null) {
    DataStatistics.BasicFileStatistics bfs=statistics.getFileStatistics(getFilePath());
    long len=bfs.getFileSize();
    if (len == DataStatistics.UNKNOWN) {
      PactCompiler.LOG.warn("Pact compiler could not determine the size of file '" + getFilePath() + "'.");
      this.fileSize=-1;
    }
 else     if (len >= 0) {
      this.fileSize=len;
    }
    float avgBytes=bfs.getAvgBytesPerRecord();
    if (avgBytes > 0.0f && hints.getAvgBytesPerRecord() < 1.0f) {
      hints.setAvgBytesPerRecord(avgBytes);
    }
  }
 else {
    this.fileSize=-1;
  }
  this.estimatedOutputSize=getFileSize();
  this.estimatedNumRecords=-1;
  this.estimatedKeyCardinality=-1;
  if (hints.getAvgBytesPerRecord() >= 1.0f && this.estimatedOutputSize > 0) {
    this.estimatedNumRecords=(long)(this.estimatedOutputSize / hints.getAvgBytesPerRecord()) + 1;
  }
  if (hints.getKeyCardinality() < 1) {
    this.estimatedKeyCardinality=this.estimatedNumRecords;
  }
 else {
    this.estimatedKeyCardinality=hints.getKeyCardinality();
    if (this.estimatedNumRecords == -1 && hints.getAvgNumValuesPerKey() >= 1.0f) {
      this.estimatedNumRecords=(long)(this.estimatedKeyCardinality * hints.getAvgNumValuesPerKey()) + 1;
      if (this.estimatedOutputSize == -1 && hints.getAvgBytesPerRecord() >= 1.0f) {
        this.estimatedOutputSize=(long)(this.estimatedNumRecords * hints.getAvgBytesPerRecord()) + 1;
      }
    }
  }
}
