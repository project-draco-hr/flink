{
  final long now=System.currentTimeMillis();
synchronized (this.canceledChannels) {
    final Iterator<Map.Entry<ChannelID,Long>> it=this.canceledChannels.entrySet().iterator();
    while (it.hasNext()) {
      final Map.Entry<ChannelID,Long> entry=it.next();
      if ((entry.getValue().longValue() + CLEANUP_INTERVAL) < now) {
        it.remove();
      }
    }
  }
}
