{
  final EphemeralCheckpoint fileEC=EphemeralCheckpoint.forFileChannel(this.checkpointManager,VERTEX_ID);
  final Set<ChannelID> testChannelIDs=new HashSet<ChannelID>();
  for (int i=0; i < 10; i++) {
    testChannelIDs.add(new ChannelID());
  }
  final Iterator<ChannelID> it=testChannelIDs.iterator();
  while (it.hasNext()) {
    fileEC.registerOutputChannel(it.next());
  }
  final ChannelID[] registeredOutputChanelIDs=fileEC.getIDsOfCheckpointedOutputChannels();
  assertEquals(registeredOutputChanelIDs.length,testChannelIDs.size());
  for (int i=0; i < registeredOutputChanelIDs.length; i++) {
    assertTrue(testChannelIDs.contains(registeredOutputChanelIDs[i]));
  }
}
