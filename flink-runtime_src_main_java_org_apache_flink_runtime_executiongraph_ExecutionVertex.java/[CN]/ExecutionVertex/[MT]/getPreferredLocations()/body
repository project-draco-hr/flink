{
  List<Instance> constraintInstances=this.locationConstraintInstances;
  if (constraintInstances != null && !constraintInstances.isEmpty()) {
    return constraintInstances;
  }
  if (inputEdges == null) {
    return Collections.emptySet();
  }
 else {
    HashSet<Instance> locations=new HashSet<Instance>();
    for (int i=0; i < inputEdges.length; i++) {
      ExecutionEdge[] sources=inputEdges[i];
      if (sources != null) {
        for (int k=0; k < sources.length; k++) {
          SimpleSlot sourceSlot=sources[k].getSource().getProducer().getCurrentAssignedResource();
          if (sourceSlot != null) {
            locations.add(sourceSlot.getInstance());
            if (locations.size() > MAX_DISTINCT_LOCATIONS_TO_CONSIDER) {
              return null;
            }
          }
        }
      }
    }
    return locations;
  }
}
