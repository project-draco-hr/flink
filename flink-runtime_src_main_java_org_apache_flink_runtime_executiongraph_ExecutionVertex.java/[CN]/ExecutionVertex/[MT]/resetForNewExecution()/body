{
synchronized (priorExecutions) {
    Execution execution=currentExecution;
    ExecutionState state=execution.getState();
    if (state == FINISHED || state == CANCELED || state == FAILED) {
      priorExecutions.add(execution);
      currentExecution=new Execution(this,execution.getAttemptNumber() + 1,System.currentTimeMillis());
    }
 else {
      throw new IllegalStateException("Cannot reset a vertex that is in state " + state);
    }
  }
}
