{
  Execution execution=currentExecution;
  ExecutionState state=execution.getState();
  if (!(state == FINISHED || state == CANCELED || state == FAILED)) {
    throw new IllegalStateException("Cannot archive ExecutionVertex that is not in a finished state.");
  }
  execution.prepareForArchiving();
  for (  Execution exec : priorExecutions) {
    exec.prepareForArchiving();
  }
  this.resultPartitions=null;
  this.inputEdges=null;
  this.locationConstraintInstances=null;
}
