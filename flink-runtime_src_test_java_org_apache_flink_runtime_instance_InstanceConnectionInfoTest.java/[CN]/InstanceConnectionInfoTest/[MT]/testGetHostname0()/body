{
  try {
    InetAddress address=mock(InetAddress.class);
    when(address.getCanonicalHostName()).thenReturn("worker2.cluster.mycompany.com");
    when(address.getHostName()).thenReturn("worker2.cluster.mycompany.com");
    when(address.getHostAddress()).thenReturn("127.0.0.1");
    final InstanceConnectionInfo info=new InstanceConnectionInfo(address,19871);
    Assert.assertEquals("worker2",info.getHostname());
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
