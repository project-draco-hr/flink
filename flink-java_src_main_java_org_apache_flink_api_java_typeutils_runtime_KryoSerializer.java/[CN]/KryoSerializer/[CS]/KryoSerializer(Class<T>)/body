{
  if (type == null) {
    throw new NullPointerException("Type class cannot be null.");
  }
  this.type=type;
synchronized (KryoSerializer.class) {
    this.registeredSerializers=staticRegisteredSerializers.isEmpty() ? Collections.<Class<?>,Serializer<?>>emptyMap() : new HashMap<Class<?>,Serializer<?>>(staticRegisteredSerializers);
    this.registeredSerializersClasses=staticRegisteredSerializersClasses.isEmpty() ? Collections.<Class<?>,Class<? extends Serializer<?>>>emptyMap() : new HashMap<Class<?>,Class<? extends Serializer<?>>>(staticRegisteredSerializersClasses);
    this.registeredTypes=staticRegisteredTypes.isEmpty() ? Collections.<Class<?>>emptySet() : new HashSet<Class<?>>(staticRegisteredTypes);
  }
}
