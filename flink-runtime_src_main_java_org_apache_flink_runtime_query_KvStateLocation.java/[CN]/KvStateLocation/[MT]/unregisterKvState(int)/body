{
  if (keyGroupIndex < 0 || keyGroupIndex >= numKeyGroups) {
    throw new IndexOutOfBoundsException("Key group index");
  }
  if (kvStateIds[keyGroupIndex] == null || kvStateAddresses[keyGroupIndex] == null) {
    throw new IllegalArgumentException("Not registered. Probably registration/unregistration race.");
  }
  numRegisteredKeyGroups--;
  kvStateIds[keyGroupIndex]=null;
  kvStateAddresses[keyGroupIndex]=null;
}
