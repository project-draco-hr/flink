{
  in.defaultReadObject();
  boolean hasDefaultValue=in.readBoolean();
  if (hasDefaultValue) {
    int size=in.readInt();
    byte[] buffer=new byte[size];
    int bytesRead=in.read(buffer);
    if (bytesRead != size) {
      throw new RuntimeException("Read size does not match expected size.");
    }
    try (ByteArrayInputStream bais=new ByteArrayInputStream(buffer);DataInputViewStreamWrapper inView=new DataInputViewStreamWrapper(bais)){
      defaultValue=serializer.deserialize(inView);
    }
 catch (    Exception e) {
      throw new IOException("Unable to deserialize default value.",e);
    }
  }
 else {
    defaultValue=null;
  }
}
