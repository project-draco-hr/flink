{
  if (this.unboundOutputGates == null) {
    return new RuntimeOutputGate<T>(getJobID(),null,getNumberOfOutputGates(),ChannelType.NETWORK,CompressionLevel.NO_COMPRESSION,selector,isBroadcast,null);
  }
  final GateDeploymentDescriptor gdd=this.unboundOutputGates.poll();
  if (gdd == null) {
    throw new IllegalStateException("No unbound output gate deployment descriptor left");
  }
  RecordSerializerFactory<T> serializerFactory;
  if (gdd.spanningRecordsAllowed()) {
    serializerFactory=new SpanningRecordSerializerFactory<T>();
  }
 else {
    serializerFactory=new DefaultRecordSerializerFactory<T>();
  }
  return new RuntimeOutputGate<T>(getJobID(),gdd.getGateID(),getNumberOfInputGates(),gdd.getChannelType(),gdd.getCompressionLevel(),selector,isBroadcast,serializerFactory);
}
