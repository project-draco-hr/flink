{
  PackagedProgram packagedProgramMock=mock(PackagedProgram.class);
  when(packagedProgramMock.isUsingInteractiveMode()).thenReturn(true);
  doAnswer(new Answer<Void>(){
    @Override public Void answer(    InvocationOnMock invocation) throws Throwable {
      ExecutionEnvironment.createLocalEnvironment();
      return null;
    }
  }
).when(packagedProgramMock).invokeInteractiveModeForExecution();
  new Client(configMock).run(packagedProgramMock,1,true);
}
