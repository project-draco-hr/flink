{
  new JavaTestKit(system){
{
      try {
        ActorRef jobManager=system.actorOf(Props.create(SimpleJobManager.class));
        final ActorRef tm=createTaskManager(jobManager);
        JobID jid=new JobID();
        JobVertexID vid=new JobVertexID();
        final ExecutionAttemptID eid=new ExecutionAttemptID();
        final TaskDeploymentDescriptor tdd=new TaskDeploymentDescriptor(jid,vid,eid,"TestTask",2,7,new Configuration(),new Configuration(),TestInvokableCorrect.class.getName(),Collections.<GateDeploymentDescriptor>emptyList(),Collections.<GateDeploymentDescriptor>emptyList(),new ArrayList<BlobKey>(),0);
        new Within(duration("1 seconds")){
          @Override protected void run(){
            tm.tell(new SubmitTask(tdd),getRef());
            expectMsgEquals(new TaskOperationResult(eid,true));
          }
        }
;
      }
 catch (      Exception e) {
        e.printStackTrace();
        fail(e.getMessage());
      }
    }
  }
;
}
