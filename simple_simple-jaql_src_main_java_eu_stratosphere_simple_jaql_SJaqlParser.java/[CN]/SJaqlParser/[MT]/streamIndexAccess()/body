{
  SJaqlParser.streamIndexAccess_return retval=new SJaqlParser.streamIndexAccess_return();
  retval.start=input.LT(1);
  int streamIndexAccess_StartIndex=input.index();
  EvaluationExpression root_0=null;
  Token op=null;
  Token char_literal87=null;
  Token char_literal88=null;
  SJaqlParser.generalPathExpression_return path=null;
  EvaluationExpression op_tree=null;
  EvaluationExpression char_literal87_tree=null;
  EvaluationExpression char_literal88_tree=null;
  RewriteRuleTokenStream stream_VAR=new RewriteRuleTokenStream(adaptor,"token VAR");
  RewriteRuleTokenStream stream_64=new RewriteRuleTokenStream(adaptor,"token 64");
  RewriteRuleTokenStream stream_63=new RewriteRuleTokenStream(adaptor,"token 63");
  RewriteRuleSubtreeStream stream_generalPathExpression=new RewriteRuleSubtreeStream(adaptor,"rule generalPathExpression");
  try {
    if (state.backtracking > 0 && alreadyParsedRule(input,30)) {
      return retval;
    }
{
      op=(Token)match(input,VAR,FOLLOW_VAR_in_streamIndexAccess1681);
      if (state.failed)       return retval;
      if (state.backtracking == 0)       stream_VAR.add(op);
      if (!((getRawBinding(op,JsonStreamExpression.class) != null))) {
        if (state.backtracking > 0) {
          state.failed=true;
          return retval;
        }
        throw new FailedPredicateException(input,"streamIndexAccess"," getRawBinding($op, JsonStreamExpression.class) != null ");
      }
      char_literal87=(Token)match(input,63,FOLLOW_63_in_streamIndexAccess1690);
      if (state.failed)       return retval;
      if (state.backtracking == 0)       stream_63.add(char_literal87);
      pushFollow(FOLLOW_generalPathExpression_in_streamIndexAccess1694);
      path=generalPathExpression();
      state._fsp--;
      if (state.failed)       return retval;
      if (state.backtracking == 0)       stream_generalPathExpression.add(path.getTree());
      char_literal88=(Token)match(input,64,FOLLOW_64_in_streamIndexAccess1696);
      if (state.failed)       return retval;
      if (state.backtracking == 0)       stream_64.add(char_literal88);
      if (!((!((path != null ? ((EvaluationExpression)path.tree) : null) instanceof ConstantExpression)))) {
        if (state.backtracking > 0) {
          state.failed=true;
          return retval;
        }
        throw new FailedPredicateException(input,"streamIndexAccess"," !($path.tree instanceof ConstantExpression) ");
      }
      if (state.backtracking == 0) {
        retval.tree=root_0;
        RewriteRuleSubtreeStream stream_retval=new RewriteRuleSubtreeStream(adaptor,"rule retval",retval != null ? retval.tree : null);
        root_0=(EvaluationExpression)adaptor.nil();
{
          adaptor.addChild(root_0,new StreamIndexExpression(getBinding(op,JsonStreamExpression.class).getStream(),(path != null ? ((EvaluationExpression)path.tree) : null)));
        }
        retval.tree=root_0;
      }
    }
    retval.stop=input.LT(-1);
    if (state.backtracking == 0) {
      retval.tree=(EvaluationExpression)adaptor.rulePostProcessing(root_0);
      adaptor.setTokenBoundaries(retval.tree,retval.start,retval.stop);
    }
  }
  finally {
    if (state.backtracking > 0) {
      memoize(input,30,streamIndexAccess_StartIndex);
    }
  }
  return retval;
}
