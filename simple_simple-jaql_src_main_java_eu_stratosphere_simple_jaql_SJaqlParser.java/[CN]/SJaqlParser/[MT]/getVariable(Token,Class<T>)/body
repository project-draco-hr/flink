{
  Object op=variables.get(variable.getText());
  if (op == null)   throw new IllegalArgumentException("Unknown variable " + variable.getText(),new RecognitionException(variable.getInputStream()));
  if (!expectedType.isInstance(op))   throw new IllegalArgumentException("Variable has unexpected type " + variable.getText(),new RecognitionException(variable.getInputStream()));
  return (T)op;
}
