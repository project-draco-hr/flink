{
  int index=((operator_scope)operator_stack.peek()).inputNames.indexOf(variable.getText());
  if (index == -1) {
    if (variable.getText().equals("$") && ((operator_scope)operator_stack.peek()).inputNames.size() == 1 && !((operator_scope)operator_stack.peek()).hasExplicitName.get(0))     return 0;
    try {
      index=Integer.parseInt(variable.getText().substring(1));
      if (((operator_scope)operator_stack.peek()).hasExplicitName.get(index))       throw new SimpleException("Cannot use index variable for input with explicit name",variable);
      if (0 > index || index >= ((operator_scope)operator_stack.peek()).inputNames.size())       throw new SimpleException("Invalid input index",variable);
    }
 catch (    NumberFormatException e) {
    }
  }
  return index;
}
