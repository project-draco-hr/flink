{
  if (this.next == null) {
    this.next=this.serializer.createInstance();
    if (this.iterator.next(this.next)) {
      this.comparator.setReference(this.next);
      this.nextIsFresh=false;
      this.valuesIterator=new ValuesIterator();
      this.valuesIterator.nextIsUnconsumed=true;
      return true;
    }
 else {
      this.valuesIterator=null;
      return false;
    }
  }
  if (this.nextIsFresh) {
    this.nextIsFresh=false;
    this.comparator.setReference(this.next);
    this.valuesIterator.nextIsUnconsumed=true;
    return true;
  }
  while (true) {
    if (this.iterator.next(this.next)) {
      if (!this.comparator.equalToReference(this.next)) {
        this.comparator.setReference(this.next);
        this.nextIsFresh=false;
        this.valuesIterator.nextIsUnconsumed=true;
        return true;
      }
    }
 else {
      this.valuesIterator=null;
      return false;
    }
  }
}
