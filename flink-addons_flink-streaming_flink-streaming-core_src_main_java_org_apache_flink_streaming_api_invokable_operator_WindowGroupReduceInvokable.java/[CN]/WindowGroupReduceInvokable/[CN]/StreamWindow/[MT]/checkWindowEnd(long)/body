{
  nextRecordTime=timeStamp;
  while (miniBatchEnd()) {
    circularList.newSlide();
    minibatchCounter++;
    if (batchEnd()) {
      reduceBatch();
      circularList.shiftWindow(batchPerSlide);
    }
  }
}
