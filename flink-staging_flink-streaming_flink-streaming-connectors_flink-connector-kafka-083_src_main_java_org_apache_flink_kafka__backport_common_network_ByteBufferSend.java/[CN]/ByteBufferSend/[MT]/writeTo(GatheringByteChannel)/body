{
  long written=channel.write(buffers);
  if (written < 0)   throw new EOFException("Wrote negative bytes to channel. This shouldn't happen.");
  remaining-=written;
  return written;
}
