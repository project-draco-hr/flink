{
  final SopremoModule sopremoModule=new SopremoModule(this.getName(),2,1);
  if (this.arrayElementsReplacement) {
  }
 else {
    ElementaryOperator<?> replaceAtom;
    if (this.defaultExpression == FILTER_RECORDS)     replaceAtom=new StrictReplace().withInputKeyExtractor(this.replaceExpression);
 else     replaceAtom=new ReplaceWithDefaultValue().withDefaultExpression(this.defaultExpression).withInputKeyExtractor(this.replaceExpression);
    replaceAtom.setKeyExpressions(Arrays.asList(new PathExpression(new InputSelection(0),getReplaceExpression()),new PathExpression(new InputSelection(1),getDictionaryKeyExtraction())));
    sopremoModule.getOutput(0).setInput(0,replaceAtom.withInputs(sopremoModule.getInput(0),sopremoModule.getInput(1)));
  }
  return sopremoModule;
}
