{
  Map<TestData.Key,List<Collection<TestData.Value>>> map=new HashMap<TestData.Key,List<Collection<TestData.Value>>>(1000);
  Set<TestData.Key> keySet=new HashSet<TestData.Key>(leftMap.keySet());
  keySet.addAll(rightMap.keySet());
  for (  TestData.Key key : keySet) {
    Collection<TestData.Value> leftValues=leftMap.get(key);
    Collection<TestData.Value> rightValues=rightMap.get(key);
    ArrayList<Collection<TestData.Value>> list=new ArrayList<Collection<TestData.Value>>(2);
    if (leftValues == null) {
      list.add(new ArrayList<TestData.Value>(0));
    }
 else {
      list.add(leftValues);
    }
    if (rightValues == null) {
      list.add(new ArrayList<TestData.Value>(0));
    }
 else {
      list.add(rightValues);
    }
    map.put(key,list);
  }
  return map;
}
