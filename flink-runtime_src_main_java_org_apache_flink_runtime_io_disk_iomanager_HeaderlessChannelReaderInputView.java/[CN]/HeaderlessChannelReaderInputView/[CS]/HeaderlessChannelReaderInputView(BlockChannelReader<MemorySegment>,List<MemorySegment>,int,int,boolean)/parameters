BlockChannelReader<MemorySegment> reader
List<MemorySegment> memory
int numBlocks
int numBytesInLastBlock
boolean waitForFirstBlock
