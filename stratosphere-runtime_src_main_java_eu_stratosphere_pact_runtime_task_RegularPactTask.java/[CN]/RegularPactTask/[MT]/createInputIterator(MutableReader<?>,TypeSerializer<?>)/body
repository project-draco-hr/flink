{
  if (serializer.getClass() == RecordSerializer.class) {
    @SuppressWarnings("unchecked") MutableReader<Record> reader=(MutableReader<Record>)inputReader;
    return new RecordReaderIterator(reader);
  }
 else {
    @SuppressWarnings("unchecked") MutableReader<DeserializationDelegate<?>> reader=(MutableReader<DeserializationDelegate<?>>)inputReader;
    @SuppressWarnings({"unchecked","rawtypes"}) final MutableObjectIterator<?> iter=new ReaderIterator(reader,serializer);
    return iter;
  }
}
