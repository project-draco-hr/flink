{
  int unusedPort;
  try {
    unusedPort=NetUtils.getAvailablePort();
  }
 catch (  Throwable t) {
    return;
  }
  try {
    InetSocketAddress unreachable=new InetSocketAddress("localhost",unusedPort);
    final long start=System.currentTimeMillis();
    InetAddress add=NetUtils.findConnectingAddress(unreachable,2000,400);
    assertTrue(System.currentTimeMillis() - start < (OperatingSystem.isWindows() ? 30000 : 8000));
    assertNotNull(add);
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
