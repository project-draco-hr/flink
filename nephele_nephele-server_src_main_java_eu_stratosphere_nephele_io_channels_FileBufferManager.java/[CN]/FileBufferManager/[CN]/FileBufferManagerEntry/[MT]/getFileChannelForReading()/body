{
  if (this.fileChannelForReading != null) {
    return this.fileChannelForReading;
  }
  try {
    if (this.status == FileEntryStatus.CLOSED) {
      closeCurrentWriteFile();
    }
    while (this.filesForReading.isEmpty()) {
      this.status=FileEntryStatus.WRITING_BUT_READ_REQUESTED;
      this.wait();
    }
    final File file=this.filesForReading.peek();
    this.fileSizeForReading=file.length();
    final FileInputStream fis=new FileInputStream(file);
    this.fileChannelForReading=fis.getChannel();
  }
 catch (  InterruptedException e) {
    LOG.error(e);
  }
  return this.fileChannelForReading;
}
