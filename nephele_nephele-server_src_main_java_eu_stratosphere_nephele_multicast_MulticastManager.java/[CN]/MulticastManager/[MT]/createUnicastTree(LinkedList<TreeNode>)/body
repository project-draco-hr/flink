{
  MulticastForwardingTable table=new MulticastForwardingTable();
  TreeNode firstnode=nodes.pollFirst();
  ConnectionInfoLookupResponse firstentry=ConnectionInfoLookupResponse.createReceiverFoundAndReady();
  for (  ChannelID id : firstnode.getLocalTargets()) {
    firstentry.addLocalTarget(id);
  }
  for (  TreeNode n : nodes) {
    firstentry.addRemoteTarget(n.getConnectionInfo());
  }
  table.addConnectionInfo(firstnode.getConnectionInfo(),firstentry);
  while (nodes.size() > 0) {
    TreeNode actualnode=nodes.pollFirst();
    ConnectionInfoLookupResponse actualentry=ConnectionInfoLookupResponse.createReceiverFoundAndReady();
    for (    ChannelID id : actualnode.getLocalTargets()) {
      actualentry.addLocalTarget(id);
    }
    table.addConnectionInfo(actualnode.getConnectionInfo(),actualentry);
  }
  return table;
}
