{
synchronized (this.buffers) {
    this.designatedNumberOfBuffers=designatedNumberOfBuffers;
    while (this.requestedNumberOfBuffers > this.designatedNumberOfBuffers) {
      if (this.buffers.isEmpty()) {
        break;
      }
      this.globalBufferPool.releaseGlobalBuffer(this.buffers.poll());
      this.requestedNumberOfBuffers--;
    }
    this.buffers.notify();
  }
}
