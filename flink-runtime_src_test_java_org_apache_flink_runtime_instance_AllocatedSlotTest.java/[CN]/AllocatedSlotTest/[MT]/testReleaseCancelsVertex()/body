{
  try {
    ExecutionVertex2 ev=mock(ExecutionVertex2.class);
    AllocatedSlot slot=getSlot();
    assertTrue(slot.setExecutedVertex(ev));
    assertEquals(ev,slot.getExecutedVertex());
    slot.cancel();
    slot.releaseSlot();
    slot.cancel();
    verify(ev,times(1)).fail(Matchers.any(Throwable.class));
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
