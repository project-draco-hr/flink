{
  int shift=refresh(timeStamp);
  int numOfLastIntervals=(int)(lastMillis / unitLength_);
  if (shift >= counters_.length || numOfLastIntervals >= counters_.length) {
    return -1;
  }
  int sum=0;
  for (int i=shift + 1; i < shift + numOfLastIntervals + 1; ++i) {
    sum+=getCell(i,cellId);
  }
  return sum;
}
