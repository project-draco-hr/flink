{
  File dir1=new File(System.getProperty("java.io.tmpdir"),UUID.randomUUID().toString());
  File dir2=new File(System.getProperty("java.io.tmpdir"),UUID.randomUUID().toString());
  File[] tempDirs=new File[]{dir1,dir2};
  try {
    assertTrue(dir1.mkdirs());
    assertTrue(dir2.mkdirs());
    RocksDBStateBackend rocksDbBackend=new RocksDBStateBackend(TEMP_URI);
    assertNull(rocksDbBackend.getDbStoragePaths());
    rocksDbBackend.initializeForJob(getMockEnvironment(tempDirs),"foobar",IntSerializer.INSTANCE);
    assertArrayEquals(tempDirs,rocksDbBackend.getStoragePaths());
  }
  finally {
    FileUtils.deleteDirectory(dir1);
    FileUtils.deleteDirectory(dir2);
  }
}
