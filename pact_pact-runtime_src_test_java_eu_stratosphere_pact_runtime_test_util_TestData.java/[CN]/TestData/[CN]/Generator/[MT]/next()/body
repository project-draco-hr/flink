{
  if (creationMode == CreationMode.IMMUTABLE) {
    Key key=new Key(keyMode == KeyMode.SORTED ? ++counter : Math.abs(random.nextInt() % keyMax) + 1);
    Value value=new Value(randomString());
    return new KeyValuePair<Key,Value>(key,value);
  }
 else {
    if (pair == null) {
      Key key=new Key(keyMode == KeyMode.SORTED ? ++counter : Math.abs(random.nextInt() % keyMax) + 1);
      Value value=new Value(randomString());
      pair=new KeyValuePair<Key,Value>(key,value);
    }
 else {
      pair.getKey().key=keyMode == KeyMode.SORTED ? ++counter : Math.abs(random.nextInt() % keyMax) + 1;
      pair.getValue().value=randomString();
    }
    return pair;
  }
}
