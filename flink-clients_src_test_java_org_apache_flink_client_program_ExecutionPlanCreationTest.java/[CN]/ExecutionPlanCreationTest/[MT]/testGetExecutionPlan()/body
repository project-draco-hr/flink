{
  try {
    PackagedProgram prg=new PackagedProgram(TestOptimizerPlan.class,"/dev/random","/tmp");
    assertNotNull(prg.getPreviewPlan());
    InetAddress mockAddress=InetAddress.getLocalHost();
    InetSocketAddress mockJmAddress=new InetSocketAddress(mockAddress,12345);
    Client client=new Client(mockJmAddress,new Configuration(),getClass().getClassLoader());
    OptimizedPlan op=client.getOptimizedPlan(prg,-1);
    assertNotNull(op);
    PlanJSONDumpGenerator dumper=new PlanJSONDumpGenerator();
    assertNotNull(dumper.getOptimizerPlanAsJSON(op));
    PlanJSONDumpGenerator dumper2=new PlanJSONDumpGenerator();
    dumper2.setEncodeForHTML(true);
    String htmlEscaped=dumper2.getOptimizerPlanAsJSON(op);
    assertEquals(-1,htmlEscaped.indexOf('\\'));
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
