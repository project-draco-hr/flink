{
  if (testAppender == null) {
    throw new NullPointerException("Initialize it first");
  }
  LoggingEvent found=null;
  for (  LoggingEvent event : testAppender.events) {
    if (event.getMessage().toString().contains(expected)) {
      found=event;
      break;
    }
  }
  if (found != null) {
    LOG.info("Found expected string '" + expected + "' in log message "+ found);
    return;
  }
  Assert.fail("Unable to find expected string '" + expected + "' in log messages");
}
