{
  StreamTaskState taskState=super.snapshotOperatorState(checkpointId,timestamp);
  StateBackend.CheckpointStateOutputView ov=getStateBackend().createCheckpointStateOutputView(checkpointId,timestamp);
  ov.writeInt(keys.size());
  for (  KEY key : keys) {
    keySerializer.serialize(key,ov);
  }
  taskState.setOperatorState(ov.closeAndGetHandle());
  return taskState;
}
