{
  if (isValidBlock(b)) {
    throw new BlockAlreadyExistsException("Block " + b + " is valid, and cannot be written to.");
  }
  BInfo binfo=new BInfo(b,true);
  blockMap.put(b,binfo);
  SimulatedOutputStream crcStream=new SimulatedOutputStream();
  return new BlockWriteStreams(binfo.oStream,crcStream);
}
