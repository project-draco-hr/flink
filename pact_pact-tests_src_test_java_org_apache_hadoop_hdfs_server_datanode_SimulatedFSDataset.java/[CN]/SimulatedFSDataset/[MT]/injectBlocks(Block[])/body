{
  if (injectBlocks != null) {
    for (    Block b : injectBlocks) {
      if (b == null) {
        throw new NullPointerException("Null blocks in block list");
      }
      if (isValidBlock(b)) {
        throw new IOException("Block already exists in  block list");
      }
    }
    HashMap<Block,BInfo> oldBlockMap=blockMap;
    blockMap=new HashMap<Block,BInfo>(injectBlocks.length + oldBlockMap.size());
    blockMap.putAll(oldBlockMap);
    for (    Block b : injectBlocks) {
      BInfo binfo=new BInfo(b,false);
      blockMap.put(b,binfo);
    }
  }
}
