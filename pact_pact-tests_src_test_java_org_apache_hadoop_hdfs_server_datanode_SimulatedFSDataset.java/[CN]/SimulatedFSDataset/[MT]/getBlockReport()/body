{
  Block[] blockTable=new Block[blockMap.size()];
  int count=0;
  for (  BInfo b : blockMap.values()) {
    if (b.isFinalized()) {
      blockTable[count++]=b.theBlock;
    }
  }
  if (count != blockTable.length) {
    blockTable=Arrays.copyOf(blockTable,count);
  }
  return blockTable;
}
