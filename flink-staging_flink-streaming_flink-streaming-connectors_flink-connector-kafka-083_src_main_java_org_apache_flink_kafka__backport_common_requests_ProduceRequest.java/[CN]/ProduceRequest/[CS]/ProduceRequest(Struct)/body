{
  super(struct);
  partitionRecords=new HashMap<TopicPartition,ByteBuffer>();
  for (  Object topicDataObj : struct.getArray(TOPIC_DATA_KEY_NAME)) {
    Struct topicData=(Struct)topicDataObj;
    String topic=topicData.getString(TOPIC_KEY_NAME);
    for (    Object partitionResponseObj : topicData.getArray(PARTITION_DATA_KEY_NAME)) {
      Struct partitionResponse=(Struct)partitionResponseObj;
      int partition=partitionResponse.getInt(PARTITION_KEY_NAME);
      ByteBuffer records=partitionResponse.getBytes(RECORD_SET_KEY_NAME);
      partitionRecords.put(new TopicPartition(topic,partition),records);
    }
  }
  acks=struct.getShort(ACKS_KEY_NAME);
  timeout=struct.getInt(TIMEOUT_KEY_NAME);
}
