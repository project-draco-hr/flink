{
synchronized (this.monitoredThreads) {
    final EnvironmentThreadSet environmentThreadList=this.monitoredThreads.get(environment);
    if (environmentThreadList == null) {
      LOG.error("Trying to register " + userThread.getName() + " but no main thread found!");
      return;
    }
    environmentThreadList.addUserThread(this.tmx,userThread);
  }
}
