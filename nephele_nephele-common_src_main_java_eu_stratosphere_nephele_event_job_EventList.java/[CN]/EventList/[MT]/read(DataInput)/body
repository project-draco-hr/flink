{
  final int numberOfEvents=in.readInt();
  for (int i=0; i < numberOfEvents; i++) {
    final String className=StringRecord.readString(in);
    if (className == null) {
      throw new IOException("Cannot deserialize event, class name is null");
    }
    Class<? extends AbstractEvent> clazz;
    try {
      clazz=(Class<? extends AbstractEvent>)Class.forName(className);
    }
 catch (    ClassNotFoundException e) {
      throw new IOException(StringUtils.stringifyException(e));
    }
    E event;
    try {
      event=(E)clazz.newInstance();
    }
 catch (    InstantiationException e) {
      throw new IOException(StringUtils.stringifyException(e));
    }
catch (    IllegalAccessException e) {
      throw new IOException(StringUtils.stringifyException(e));
    }
    event.read(in);
    this.events.add(event);
  }
}
