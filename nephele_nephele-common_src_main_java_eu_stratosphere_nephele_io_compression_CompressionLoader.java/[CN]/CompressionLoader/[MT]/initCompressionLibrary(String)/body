{
  Class<? extends AbstractCompressionLibrary> compressionLibraryClass;
  try {
    compressionLibraryClass=(Class<? extends AbstractCompressionLibrary>)Class.forName(libraryClass);
  }
 catch (  ClassNotFoundException e1) {
    LOG.error(e1);
    return null;
  }
  if (compressionLibraryClass == null) {
    LOG.error("Cannot load compression library " + libraryClass);
    return null;
  }
  Constructor<? extends AbstractCompressionLibrary> constructor;
  try {
    constructor=compressionLibraryClass.getConstructor(String.class);
  }
 catch (  SecurityException e) {
    LOG.error(e);
    return null;
  }
catch (  NoSuchMethodException e) {
    LOG.error(e);
    return null;
  }
  if (constructor == null) {
    LOG.error("Cannot find matching constructor for class " + compressionLibraryClass.toString());
    return null;
  }
  AbstractCompressionLibrary compressionLibrary;
  try {
    compressionLibrary=constructor.newInstance(getNativeLibraryPath(libraryClass));
  }
 catch (  IllegalArgumentException e) {
    LOG.error(StringUtils.stringifyException(e));
    return null;
  }
catch (  InstantiationException e) {
    LOG.error(StringUtils.stringifyException(e));
    return null;
  }
catch (  IllegalAccessException e) {
    LOG.error(StringUtils.stringifyException(e));
    return null;
  }
catch (  InvocationTargetException e) {
    LOG.error(StringUtils.stringifyException(e));
    return null;
  }
  return compressionLibrary;
}
