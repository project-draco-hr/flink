{
  boolean allIndep=true;
  Expr best=null;
  for (  Expr e : expr.children()) {
    Expr c=findIndependentExpr(e);
    allIndep=(allIndep && c == e);
    if (best == null && isPromotable(c)) {
      best=c;
    }
  }
  if (!allIndep || expr.getProperty(ExprProperty.HAS_SIDE_EFFECTS,true).maybe() || expr.getProperty(ExprProperty.IS_NONDETERMINISTIC,true).maybe()) {
    return best;
  }
  return expr;
}
