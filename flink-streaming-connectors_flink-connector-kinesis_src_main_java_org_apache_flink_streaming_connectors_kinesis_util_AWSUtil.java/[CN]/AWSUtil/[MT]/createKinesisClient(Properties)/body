{
  ClientConfiguration awsClientConfig=new ClientConfigurationFactory().getConfig();
  awsClientConfig.setUserAgent("Apache Flink " + EnvironmentInformation.getVersion() + " ("+ EnvironmentInformation.getRevisionInformation().commitId+ ") Kinesis Connector");
  AmazonKinesisClient client=new AmazonKinesisClient(AWSUtil.getCredentialsProvider(configProps).getCredentials(),awsClientConfig);
  client.setRegion(Region.getRegion(Regions.fromName(configProps.getProperty(KinesisConfigConstants.CONFIG_AWS_REGION))));
  if (configProps.containsKey(KinesisConfigConstants.CONFIG_AWS_ENDPOINT)) {
    client.setEndpoint(configProps.getProperty(KinesisConfigConstants.CONFIG_AWS_ENDPOINT));
  }
  return client;
}
