{
  File tmpDir=getTmpDir();
  File confFile1=createRandomFile(tmpDir,".yaml");
  File confFile2=createRandomFile(tmpDir,".xml");
  try {
    try {
      PrintWriter pw1=new PrintWriter(confFile1);
      PrintWriter pw2=new PrintWriter(confFile2);
      pw1.println("mykey1: myvalue1_YAML");
      pw1.println("mykey2: myvalue2");
      pw2.println("<configuration>");
      pw2.println("<property><key>mykey1</key><value>myvalue1_XML</value></property>");
      pw2.println("<property><key>mykey3</key><value>myvalue3</value></property>");
      pw2.println("</configuration>");
      pw1.close();
      pw2.close();
    }
 catch (    FileNotFoundException e) {
      e.printStackTrace();
    }
    GlobalConfiguration.loadConfiguration(tmpDir.getAbsolutePath());
    Configuration conf=GlobalConfiguration.getConfiguration();
    assertEquals(3 + 1,conf.keySet().size());
    assertEquals("myvalue1_YAML",conf.getString("mykey1",null));
    assertEquals("myvalue2",conf.getString("mykey2",null));
    assertEquals("myvalue3",conf.getString("mykey3",null));
  }
  finally {
    confFile1.delete();
    confFile2.delete();
    tmpDir.delete();
  }
}
