{
  numRestoreStateCalls++;
  if (failOnRestoreStateCall) {
    throw new RuntimeException("Restore test failure");
  }
}
