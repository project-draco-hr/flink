{
  final JsonNode array=this.arrayPath.evaluate(value,this.getContext());
  if (!array.isArray())   throw new EvaluationException("Cannot split non-array");
  int index=0;
  final EvaluationContext context=this.getContext();
  for (  JsonNode element : (ArrayNode)array) {
    JsonNode indexNode=IntNode.valueOf(index++);
    out.collect(this.keyProjection.evaluate(JsonUtil.asArray(element,indexNode,array,value),context),this.valueProjection.evaluate(JsonUtil.asArray(element,indexNode,array,value),context));
  }
}
