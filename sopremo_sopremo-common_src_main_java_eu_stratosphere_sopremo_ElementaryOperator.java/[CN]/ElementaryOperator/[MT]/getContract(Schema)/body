{
  final Class<? extends Stub> stubClass=this.getStubClass();
  if (stubClass == null)   throw new IllegalStateException("no implementing stub found");
  final Class<? extends Contract> contractClass=ContractUtil.getContractClass(stubClass);
  if (contractClass == null)   throw new IllegalStateException("no associated contract found");
  try {
    if (contractClass == ReduceContract.class)     return new ReduceContract((Class<? extends ReduceStub>)stubClass,JsonNodeWrapper.class,0,this.toString());
 else     if (contractClass == CoGroupContract.class)     return new CoGroupContract((Class<? extends CoGroupStub>)stubClass,JsonNodeWrapper.class,0,0,this.toString());
 else     if (contractClass == MatchContract.class)     return new MatchContract((Class<? extends MatchStub>)stubClass,JsonNodeWrapper.class,0,0,this.toString());
    return ReflectUtil.newInstance(contractClass,stubClass,this.toString());
  }
 catch (  final Exception e) {
    throw new IllegalStateException("Cannot create contract from stub " + stubClass,e);
  }
}
