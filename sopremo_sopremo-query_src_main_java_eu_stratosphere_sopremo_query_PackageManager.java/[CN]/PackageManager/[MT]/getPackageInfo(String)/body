{
  final PackageInfo packageInfo=packages.get(packageName);
  if (packageInfo == null) {
    File packagePath=this.getPackagePath(packageName);
    packageInfo=new PackageInfo(packageName,packagePath);
    QueryUtil.LOG.debug("adding package " + packagePath);
    try {
      if (packagePath.getName().endsWith(".jar"))       this.importFromJar(packageInfo);
 else       this.importFromProject(packageInfo);
    }
 catch (    IOException e) {
      throw new IllegalArgumentException(String.format("could not load package %s",packagePath));
    }
    packages.put(packageName,packageInfo);
  }
  return packageInfo;
}
