{
  if (window.isFull()) {
    StreamRecord expiredRecord=window.popFront();
    incrementCompute(record);
    decrementCompute(expiredRecord);
    window.pushBack(record);
    if (window.isComputable()) {
      outRecord.setString(0,word);
      outRecord.setInteger(1,count);
      outRecord.setLong(2,timestamp);
      emit(outRecord);
    }
  }
 else {
    incrementCompute(record);
    window.pushBack(record);
    if (window.isFull()) {
      outRecord.setString(0,word);
      outRecord.setInteger(1,count);
      outRecord.setLong(2,timestamp);
      emit(outRecord);
    }
  }
}
