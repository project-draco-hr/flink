{
  IN2 element=elementRecord.getValue();
  Object key=keySelector2.getKey(element);
  currentValue2=values2.get(key);
  if (currentValue2 != null) {
    reduced2=userFunction.reduce2(currentValue2,element);
    values2.put(key,reduced2);
    output.collect(elementRecord.replace(userFunction.map2(reduced2)));
  }
 else {
    values2.put(key,element);
    output.collect(elementRecord.replace(userFunction.map2(element)));
  }
}
