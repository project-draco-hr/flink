{
  String jobManagerOption=cmdLine.getOptionValue(ADDRESS_OPTION.getOpt(),null);
  if (jobManagerOption != null) {
    return false;
  }
  for (  Option option : cmdLine.getOptions()) {
    if (ALL_OPTIONS.hasOption(option.getOpt())) {
      if (!option.getOpt().equals(DETACHED.getOpt())) {
        return false;
      }
    }
  }
  File propertiesFile=getYarnPropertiesLocation(flinkConfiguration);
  if (!propertiesFile.exists()) {
    return false;
  }
  logAndSysout("Found YARN properties file " + propertiesFile.getAbsolutePath());
  Properties yarnProperties=new Properties();
  try {
    try (InputStream is=new FileInputStream(propertiesFile)){
      yarnProperties.load(is);
    }
   }
 catch (  IOException e) {
    throw new RuntimeException("Cannot read the YARN properties file",e);
  }
  String propParallelism=yarnProperties.getProperty(YARN_PROPERTIES_PARALLELISM);
  if (propParallelism != null) {
    try {
      int parallelism=Integer.parseInt(propParallelism);
      flinkConfiguration.setInteger(ConfigConstants.DEFAULT_PARALLELISM_KEY,parallelism);
      logAndSysout("YARN properties set default parallelism to " + parallelism);
    }
 catch (    NumberFormatException e) {
      throw new RuntimeException("Error while parsing the YARN properties: " + "Property " + YARN_PROPERTIES_PARALLELISM + " is not an integer.");
    }
  }
  String address=yarnProperties.getProperty(YARN_PROPERTIES_JOBMANAGER_KEY);
  InetSocketAddress jobManagerAddress;
  if (address != null) {
    try {
      jobManagerAddress=ClientUtils.parseHostPortAddress(address);
      CliFrontend.setJobManagerAddressInConfig(flinkConfiguration,jobManagerAddress);
    }
 catch (    Exception e) {
      throw new RuntimeException("YARN properties contain an invalid entry for JobManager address.",e);
    }
    logAndSysout("Using JobManager address from YARN properties " + jobManagerAddress);
  }
  String dynamicPropertiesEncoded=yarnProperties.getProperty(YARN_PROPERTIES_DYNAMIC_PROPERTIES_STRING);
  Map<String,String> dynamicProperties=getDynamicProperties(dynamicPropertiesEncoded);
  for (  Map.Entry<String,String> dynamicProperty : dynamicProperties.entrySet()) {
    flinkConfiguration.setString(dynamicProperty.getKey(),dynamicProperty.getValue());
  }
  return true;
}
