{
  AbstractFlinkYarnClient flinkYarnClient=getFlinkYarnClient();
  if (flinkYarnClient == null) {
    return null;
  }
  if (!cmd.hasOption(APPLICATION_ID.getOpt())) {
    LOG.error("Missing required argument " + APPLICATION_ID.getOpt());
    printUsage();
    return null;
  }
  String confDirPath=CliFrontend.getConfigurationDirectoryFromEnv();
  GlobalConfiguration.loadConfiguration(confDirPath);
  Configuration flinkConfiguration=GlobalConfiguration.getConfiguration();
  flinkYarnClient.setFlinkConfiguration(flinkConfiguration);
  flinkYarnClient.setConfigurationDirectory(confDirPath);
  try {
    return flinkYarnClient.attach(cmd.getOptionValue(APPLICATION_ID.getOpt()));
  }
 catch (  Exception e) {
    LOG.error("Could not attach to YARN session",e);
    return null;
  }
}
