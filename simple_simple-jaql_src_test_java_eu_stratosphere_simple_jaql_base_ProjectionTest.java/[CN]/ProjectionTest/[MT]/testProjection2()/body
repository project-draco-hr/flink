{
  SopremoPlan actualPlan=parseScript("$input = read 'input.json';" + "$result = project $entry in $input into { sum: $entry.a + $entry.b };" + "write $result to 'output.json'; ");
  SopremoPlan expectedPlan=new SopremoPlan();
  Source input=new Source("input.json");
  Projection projection=new Projection().withValueTransformation(new ObjectCreation(new ObjectCreation.FieldAssignment("sum",new ArithmeticExpression(JsonUtil.createPath("$","a"),ArithmeticOperator.ADDITION,JsonUtil.createPath("$","b"))))).withInputs(input);
  Sink output=new Sink("output.json").withInputs(projection);
  expectedPlan.setSinks(output);
  assertEquals(expectedPlan,actualPlan);
}
