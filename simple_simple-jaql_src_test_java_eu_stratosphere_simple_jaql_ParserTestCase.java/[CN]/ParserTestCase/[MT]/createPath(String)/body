{
  JsonPath lastSegment=null, firstSegment=null;
  for (int index=0; index < parts.length; index++) {
    JsonPath segment;
    if (parts[index].equals("$"))     segment=new JsonPath.Input(0);
 else     if (parts[index].equals("[*]"))     segment=new JsonPath.ArrayAccess();
 else     segment=new JsonPath.FieldAccess(parts[index]);
    if (lastSegment != null)     lastSegment.setSelector(segment);
 else     firstSegment=segment;
    lastSegment=segment;
  }
  return firstSegment;
}
