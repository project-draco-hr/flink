{
  if (node == null)   throw new NullPointerException();
  if (node.isMissing())   return this.remove(index);
  if (index < 0 || index >= this.size()) {
    if (index == this.size()) {
      this.add(node);
      return MissingNode.getInstance();
    }
    throw new IndexOutOfBoundsException();
  }
  final int recordPosition=this.schema.getTailSize() - this.size() + index;
  if (recordPosition < 0)   return this.getOtherField().set(index,node);
  final IJsonNode oldNode=SopremoUtil.unwrap(this.record.getField(recordPosition + 1,JsonNodeWrapper.class));
  this.record.setField(recordPosition + 1,node);
  return oldNode;
}
