{
  LineItemFilter out=new LineItemFilter();
  String shipDate="1996-03-13";
  Tuple input=createInputTuple(shipDate);
  PactInteger inputKey=new PactInteger();
  PactRecord rec=new PactRecord();
  rec.setField(0,inputKey);
  rec.setField(1,input);
  Collector collector=new OutputCollector(writerList);
  PactString returnFlag=new PactString(RETURN_FLAG);
  out.map(rec,collector);
  ArgumentCaptor<PactRecord> argument=ArgumentCaptor.forClass(PactRecord.class);
  verify(recordWriterMock).emit(argument.capture());
  assertEquals(returnFlag,argument.getValue().getField(0,PactString.class));
  assertEquals(input,argument.getValue().getField(1,PactRecord.class));
}
