{
  checkArgument(numberOfInputChannels >= 1);
  this.inputGate=spy(new SingleInputGate(new IntermediateDataSetID(),0,numberOfInputChannels));
  this.inputChannels=new MockInputChannel[numberOfInputChannels];
  if (initialize) {
    for (int i=0; i < numberOfInputChannels; i++) {
      inputChannels[i]=new MockInputChannel(inputGate,i);
      inputGate.setInputChannel(new IntermediateResultPartitionID(),inputChannels[i].getInputChannel());
    }
  }
}
