{
  if (remainingCapacity.getNumberOfComputeUnits() >= reqType.getNumberOfComputeUnits() && remainingCapacity.getNumberOfCores() >= reqType.getNumberOfCores() && remainingCapacity.getMemorySize() >= reqType.getMemorySize() && remainingCapacity.getDiskCapacity() >= reqType.getDiskCapacity()) {
    remainingCapacity=new InstanceType(remainingCapacity.getIdentifier(),remainingCapacity.getNumberOfComputeUnits() - reqType.getNumberOfComputeUnits(),remainingCapacity.getNumberOfCores() - reqType.getNumberOfCores(),remainingCapacity.getMemorySize() - reqType.getMemorySize(),remainingCapacity.getDiskCapacity() - reqType.getDiskCapacity(),remainingCapacity.getPricePerHour());
    final long allocationTime=System.currentTimeMillis();
    final AllocatedSlice slice=new AllocatedSlice(this,reqType,jobID,allocationTime);
    this.allocatedSlices.put(slice.getAllocationID(),slice);
    return slice;
  }
  return null;
}
