{
  AllocatedResource allocatedRes=null;
synchronized (this) {
    if (this.allocatedResource == null) {
      final TaskSubmissionResult result=new TaskSubmissionResult(getID(),AbstractTaskResult.ReturnCode.ERROR);
      result.setDescription("Assigned instance of vertex " + this.toString() + " is null!");
      return result;
    }
    try {
      prepareChannels();
    }
 catch (    ChannelSetupException e) {
      final TaskSubmissionResult result=new TaskSubmissionResult(getID(),AbstractTaskResult.ReturnCode.ERROR);
      result.setDescription(StringUtils.stringifyException(e));
      return result;
    }
    allocatedRes=this.allocatedResource;
  }
  try {
    return allocatedRes.getInstance().submitTask(this.vertexID,this.executionGraph.getJobConfiguration(),this.environment);
  }
 catch (  IOException e) {
    final TaskSubmissionResult result=new TaskSubmissionResult(getID(),AbstractTaskResult.ReturnCode.ERROR);
    result.setDescription(StringUtils.stringifyException(e));
    return result;
  }
}
