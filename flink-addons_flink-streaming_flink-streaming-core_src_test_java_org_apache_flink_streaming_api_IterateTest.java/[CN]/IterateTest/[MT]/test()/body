{
  LocalStreamEnvironment env=StreamExecutionEnvironment.createLocalEnvironment(1);
  List<Boolean> bl=new ArrayList<Boolean>();
  for (int i=0; i < 1000000; i++) {
    bl.add(false);
  }
  IterativeDataStream<Tuple1<Boolean>> source=env.fromCollection(bl).flatMap(new IterationHead()).iterate();
  DataStream<Tuple1<Boolean>> increment=source.flatMap(new IterationTail());
  source.closeWith(increment).addSink(new MySink());
  env.executeTest(MEMORYSIZE);
  assertTrue(iterated);
}
