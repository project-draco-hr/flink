{
  LogUtils.initializeDefaultConsoleLogger(Level.OFF,Level.OFF);
  LocalStreamEnvironment env=StreamExecutionEnvironment.createLocalEnvironment(1);
  env.setBufferTimeout(10);
  DataStream<Boolean> source=env.fromElements(false,false,false);
  IterativeDataStream<Boolean> iteration=source.iterate().setMaxWaitTime(3000);
  DataStream<Boolean> increment=iteration.flatMap(new IterationHead()).flatMap(new IterationTail());
  iteration.closeWith(increment).addSink(new MySink());
  env.executeTest(MEMORYSIZE);
  assertTrue(iterated);
}
