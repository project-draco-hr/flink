{
  StreamExecutionEnvironment env=new TestStreamEnvironment(1,MEMORYSIZE);
  env.setBufferTimeout(10);
  DataStream<Boolean> source=env.fromElements(false,false,false);
  IterativeDataStream<Boolean> iteration=source.iterate().setMaxWaitTime(3000);
  DataStream<Boolean> increment=iteration.flatMap(new IterationHead()).flatMap(new IterationTail());
  iteration.closeWith(increment).addSink(new MySink());
  env.execute();
  assertTrue(iterated);
}
