{
  if (this.next == null) {
    this.next=this.iterator.next(new PactRecord());
    if (this.next != null) {
      this.next.getFieldsInto(this.keyPositions,this.currentKeys);
      this.nextIsFresh=false;
      this.valuesIterator=new ValuesIterator();
      this.valuesIterator.nextIsUnconsumed=true;
      return true;
    }
 else {
      for (int i=0; i < currentKeys.length; i++) {
        this.currentKeys[i]=null;
      }
      this.valuesIterator=null;
      return false;
    }
  }
  if (this.nextIsFresh) {
    this.nextIsFresh=false;
    this.next.getFieldsInto(keyPositions,currentKeys);
    this.valuesIterator.nextIsUnconsumed=true;
    return true;
  }
  while (true) {
    if ((this.next=this.iterator.next(this.next)) != null) {
      for (int i=0; i < this.currentKeys.length; i++) {
        final Key k=this.next.getField(this.keyPositions[i],this.keyClasses[i]);
        if (!this.currentKeys[i].equals(k)) {
          this.next.getFieldsInto(this.keyPositions,this.currentKeys);
          this.nextIsFresh=false;
          this.valuesIterator.nextIsUnconsumed=true;
          return true;
        }
      }
    }
 else {
      for (int i=0; i < currentKeys.length; i++) {
        this.currentKeys[i]=null;
      }
      this.valuesIterator=null;
      return false;
    }
  }
}
