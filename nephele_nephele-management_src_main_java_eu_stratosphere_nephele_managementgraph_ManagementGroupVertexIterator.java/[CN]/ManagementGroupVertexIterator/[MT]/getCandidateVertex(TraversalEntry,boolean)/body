{
  while (true) {
    if (forward) {
      if (te.getCurrentEdge() >= te.getGroupVertex().getNumberOfForwardEdges()) {
        break;
      }
    }
 else {
      if (te.getCurrentEdge() >= te.getGroupVertex().getNumberOfBackwardEdges()) {
        break;
      }
    }
    ManagementGroupVertex tmp=null;
    if (forward) {
      tmp=te.getGroupVertex().getForwardEdge(te.getCurrentEdge()).getTarget();
    }
 else {
      tmp=te.getGroupVertex().getBackwardEdge(te.getCurrentEdge()).getSource();
    }
    te.increaseCurrentEdge();
    if (stage >= 0) {
      if (tmp.getStageNumber() != stage) {
        continue;
      }
    }
    if (!alreadyVisited.contains(tmp)) {
      return tmp;
    }
  }
  return null;
}
