{
  ByteBuf result=null;
  try {
    result=allocateBuffer(allocator,ID);
    DataOutputView outputView=new ByteBufDataOutputView(result);
    StringUtils.writeNullableString(error.getClass().getName(),outputView);
    StringUtils.writeNullableString(error.getMessage(),outputView);
    if (receiverId != null) {
      result.writeBoolean(true);
      receiverId.writeTo(result);
    }
 else {
      result.writeBoolean(false);
    }
    result.setInt(0,result.readableBytes());
    return result;
  }
 catch (  Throwable t) {
    if (result != null) {
      result.release();
    }
    throw new IOException(t);
  }
}
