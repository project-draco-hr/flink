{
  LOG.debug("Unregistering byte buffered output channel " + byteBufferedOutputChannel.getID());
  ByteBufferedOutputChannelWrapper channelWrapper;
synchronized (this.registeredChannels) {
    channelWrapper=(ByteBufferedOutputChannelWrapper)this.registeredChannels.remove(byteBufferedOutputChannel.getID());
    if (channelWrapper == null) {
      LOG.error("Cannot find byte buffered output channel " + byteBufferedOutputChannel.getID() + " to unregister");
      return;
    }
  }
  unregisterOutOfWriterBuffersLister(channelWrapper);
  InetSocketAddress connectionAddress=null;
synchronized (this.connectionAddresses) {
    connectionAddress=this.connectionAddresses.remove(byteBufferedOutputChannel.getID());
  }
  if (connectionAddress == null) {
    return;
  }
  OutgoingConnection outgoingConnection=null;
synchronized (this.outgoingConnections) {
    outgoingConnection=this.outgoingConnections.get(connectionAddress);
    if (outgoingConnection != null) {
      if (outgoingConnection.canBeRemoved()) {
        this.outgoingConnections.remove(connectionAddress);
      }
    }
  }
}
