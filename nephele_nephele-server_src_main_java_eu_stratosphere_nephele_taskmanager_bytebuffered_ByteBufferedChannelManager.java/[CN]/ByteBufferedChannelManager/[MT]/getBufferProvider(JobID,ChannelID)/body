{
  final TransferEnvelopeReceiverList receiverList=getReceiverList(jobID,sourceChannelID);
  if (receiverList.hasLocalReceivers() && !receiverList.hasRemoteReceivers()) {
    final List<ChannelID> localReceivers=receiverList.getLocalReceivers();
    if (localReceivers.size() == 1) {
synchronized (this.registeredChannels) {
        final ChannelID localReceiver=localReceivers.get(0);
        final ChannelContext cc=this.registeredChannels.get(localReceiver);
        if (cc == null) {
          throw new IOException("Cannot find channel context for local receiver " + localReceiver);
        }
        if (!cc.isInputChannel()) {
          throw new IOException("Channel context for local receiver " + localReceiver + " is not an input channel context");
        }
        final InputChannelContext icc=(InputChannelContext)cc;
        return icc;
      }
    }
  }
  return this.transitBufferPool;
}
