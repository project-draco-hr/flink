{
  final Iterator<ChannelID> localIt=receiverList.getLocalReceivers().iterator();
  while (localIt.hasNext()) {
    final ChannelID localReceiver=localIt.next();
    final ChannelContext channelContext=this.registeredChannels.get(localReceiver);
    if (channelContext == null) {
      sendReceiverNotFoundEvent(transferEnvelope,localReceiver);
      continue;
    }
    channelContext.queueTransferEnvelope(transferEnvelope);
  }
  if (!receiverList.hasRemoteReceivers()) {
    return;
  }
  final List<RemoteReceiver> remoteReceivers=receiverList.getRemoteReceivers();
  final Iterator<RemoteReceiver> remoteIt=remoteReceivers.iterator();
  while (remoteIt.hasNext()) {
    final RemoteReceiver remoteReceiver=remoteIt.next();
    this.networkConnectionManager.queueEnvelopeForTransfer(remoteReceiver,transferEnvelope);
  }
}
