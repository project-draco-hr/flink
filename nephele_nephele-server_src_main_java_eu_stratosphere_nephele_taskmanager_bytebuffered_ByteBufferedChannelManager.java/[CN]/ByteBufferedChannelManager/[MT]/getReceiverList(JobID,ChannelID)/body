{
synchronized (this.receiverCache) {
    TransferEnvelopeReceiverList receiverList=this.receiverCache.get(sourceChannelID);
    if (receiverList == null) {
      while (true) {
        final ConnectionInfoLookupResponse lookupResponse=this.channelLookupService.lookupConnectionInfo(this.localConnectionInfo,jobID,sourceChannelID);
        if (lookupResponse.receiverNotFound()) {
          throw new IOException("Cannot find task(s) waiting for data from source channel with ID " + sourceChannelID);
        }
        if (lookupResponse.receiverNotReady()) {
          Thread.sleep(500);
          continue;
        }
        if (lookupResponse.receiverReady()) {
          receiverList=new TransferEnvelopeReceiverList(lookupResponse);
          break;
        }
      }
      if (receiverList == null) {
        LOG.error("Receiver list is null for source channel ID " + sourceChannelID);
      }
 else {
        this.receiverCache.put(sourceChannelID,receiverList);
      }
    }
    return receiverList;
  }
}
