{
  TestOutput<StreamWindow<Integer>> collector=new TestOutput<StreamWindow<Integer>>();
  List<StreamWindow<Integer>> collected=collector.getCollected();
  WindowBuffer<Integer> wb=new BasicWindowBuffer<Integer>();
  wb.store(2);
  wb.store(10);
  wb.emitWindow(collector);
  assertEquals(1,collected.size());
  assertEquals(StreamWindow.fromElements(2,10),collected.get(0));
  wb.store(4);
  wb.evict(2);
  wb.emitWindow(collector);
  assertEquals(2,collected.size());
  assertEquals(StreamWindow.fromElements(4),collected.get(1));
  wb.evict(1);
  wb.emitWindow(collector);
  assertEquals(2,collected.size());
}
