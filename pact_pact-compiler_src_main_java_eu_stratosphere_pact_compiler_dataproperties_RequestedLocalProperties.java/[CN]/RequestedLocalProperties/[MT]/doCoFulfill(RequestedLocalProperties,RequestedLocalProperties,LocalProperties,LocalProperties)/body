{
  if (requested1.isTrivial() && requested2.isTrivial()) {
    return true;
  }
 else   if (!(requested1.isMetBy(produced1) && requested2.isMetBy(produced2))) {
    return false;
  }
 else   if ((requested1.ordering != null && requested2.ordering == null) || (requested1.ordering == null && requested2.ordering != null)) {
    return true;
  }
 else   if (requested1.ordering != null && requested2.ordering != null && requested1.ordering.getNumberOfFields() > 0 && requested2.ordering.getNumberOfFields() > 0) {
    if (requested1.ordering.getNumberOfFields() != requested2.ordering.getNumberOfFields()) {
      throw new CompilerException("Bug: Co-Compatibility not defined for two orderings with different number of fields.");
    }
    Ordering prod1=produced1.getOrdering();
    Ordering prod2=produced2.getOrdering();
    int numRelevantFields=requested1.ordering.getNumberOfFields();
    for (int i=0; i < numRelevantFields; i++) {
      if (prod1.getOrder(i) != prod2.getOrder(i)) {
        return false;
      }
    }
    return true;
  }
 else {
    throw new CompilerException("Co-Compatibility not defined for requested properties (" + requested1 + ") and ("+ requested2+ ").");
  }
}
