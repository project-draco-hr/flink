{
  Comparable<Object> o1=(Comparable<Object>)fieldAccessor.get(value1);
  Object o2=fieldAccessor.get(value2);
  int c=comparator.isExtremal(o1,o2);
  if (byAggregate) {
    if (c == 1) {
      return value1;
    }
    if (first) {
      if (c == 0) {
        return value1;
      }
    }
    return value2;
  }
 else {
    if (c == 1) {
      value2=fieldAccessor.set(value2,o1);
    }
    return value2;
  }
}
