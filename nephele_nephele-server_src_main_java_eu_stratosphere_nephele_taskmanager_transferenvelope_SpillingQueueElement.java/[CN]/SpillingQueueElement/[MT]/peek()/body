{
  if (this.headSequenceNumber == -1) {
    return null;
  }
  Buffer buffer=null;
  if (this.headSequenceNumber == this.tailSequenceNumber) {
    buffer=(Buffer)this.bufferRef;
  }
 else {
    @SuppressWarnings("unchecked") final Queue<Object> bufferQueue=(Queue<Object>)this.bufferRef;
    final Object obj=bufferQueue.peek();
    if (obj == NULL_OBJECT) {
      buffer=null;
    }
 else {
      buffer=(Buffer)obj;
    }
  }
  final TransferEnvelope transferEnvelope=new TransferEnvelope(this.headSequenceNumber,this.jobID,this.source,this.eventList);
  transferEnvelope.setBuffer(buffer);
  return transferEnvelope;
}
