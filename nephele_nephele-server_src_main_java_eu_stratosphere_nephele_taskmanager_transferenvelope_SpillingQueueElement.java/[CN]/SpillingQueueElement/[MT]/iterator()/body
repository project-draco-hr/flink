{
  Queue<Object> bufferQueue;
  if (this.headSequenceNumber == -1) {
    bufferQueue=new ArrayDeque<Object>();
  }
 else   if (this.headSequenceNumber == this.tailSequenceNumber) {
    bufferQueue=new ArrayDeque<Object>();
    if (this.bufferRef == null) {
      bufferQueue.offer(NULL_OBJECT);
    }
 else {
      bufferQueue.offer(this.bufferRef);
    }
  }
 else {
    bufferQueue=(Queue<Object>)this.bufferRef;
  }
  return new SpillingQueueElementIterator(this.headSequenceNumber,this.tailSequenceNumber,bufferQueue.iterator(),this.eventList);
}
