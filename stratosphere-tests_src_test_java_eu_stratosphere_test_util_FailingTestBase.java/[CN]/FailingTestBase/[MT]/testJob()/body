{
  preSubmit();
  SubmissionThread st=new SubmissionThread(Thread.currentThread(),cluster,getFailingJobGraph(),getJobGraph());
  st.start();
  boolean successBeforeTimeout=false;
  try {
    Thread.sleep(getTimeout() * 1000);
  }
 catch (  InterruptedException ie) {
    successBeforeTimeout=true;
  }
  Assert.assertTrue("Jobs did not finish within timeout",successBeforeTimeout);
  postSubmit();
}
