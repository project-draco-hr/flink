{
  out.defaultWriteObject();
  if (defaultValue == null) {
    out.writeBoolean(false);
  }
 else {
    out.writeBoolean(true);
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    DataOutputViewStreamWrapper outView=new DataOutputViewStreamWrapper(new DataOutputStream(baos));
    try {
      serializer.serialize(defaultValue,outView);
    }
 catch (    IOException ioe) {
      throw new RuntimeException("Unable to serialize default value of type " + defaultValue.getClass().getSimpleName() + ".",ioe);
    }
    outView.close();
    out.writeInt(baos.size());
    out.write(baos.toByteArray());
  }
}
