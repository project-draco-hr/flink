{
  in.defaultReadObject();
  boolean hasDefaultValue=in.readBoolean();
  if (hasDefaultValue) {
    int size=in.readInt();
    byte[] buffer=new byte[size];
    int bytesRead=in.read(buffer);
    if (bytesRead != size) {
      throw new RuntimeException("Read size does not match expected size.");
    }
    ByteArrayInputStream bais=new ByteArrayInputStream(buffer);
    DataInputViewStreamWrapper inView=new DataInputViewStreamWrapper(new DataInputStream(bais));
    defaultValue=serializer.deserialize(inView);
  }
 else {
    defaultValue=null;
  }
}
