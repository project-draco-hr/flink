{
  final StringBuilder str=new StringBuilder();
  str.append("Memory footprint of ");
  str.append(this);
  str.append(":\n");
  str.append(size());
  str.append(" elements in queue\n");
  SpillingQueueElement elem=this.head;
  while (elem != null) {
    final Iterator<TransferEnvelope> it=elem.iterator();
    while (it.hasNext()) {
      while (it.hasNext()) {
        final TransferEnvelope te=it.next();
        final Buffer buffer=te.getBuffer();
        if (buffer == null) {
          str.append('X');
        }
 else {
          if (buffer.isBackedByMemory()) {
            str.append('M');
          }
 else {
            str.append('F');
          }
        }
      }
    }
    elem=elem.getNextElement();
  }
  str.append('\n');
  System.out.println(str.toString());
}
