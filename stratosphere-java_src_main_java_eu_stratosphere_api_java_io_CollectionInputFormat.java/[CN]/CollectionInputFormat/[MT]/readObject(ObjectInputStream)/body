{
  try {
    Object obj=in.readObject();
    if (obj instanceof TypeSerializer<?>) {
      serializer=(TypeSerializer<T>)obj;
    }
  }
 catch (  ClassNotFoundException ex) {
    throw new IOException(ex);
  }
  int collectionLength=in.readInt();
  List<T> list=new ArrayList<T>(collectionLength);
  int blobLength=in.readInt();
  byte[] blob=new byte[blobLength];
  in.readFully(blob);
  DataInputView inputView=new ByteArrayInputView(blob);
  for (int i=0; i < collectionLength; i++) {
    T element=serializer.createInstance();
    element=serializer.deserialize(element,inputView);
    list.add(element);
  }
  dataSet=list;
}
