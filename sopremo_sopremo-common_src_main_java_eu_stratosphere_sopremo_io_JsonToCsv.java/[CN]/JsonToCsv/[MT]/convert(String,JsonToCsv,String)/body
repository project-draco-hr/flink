{
  PactModule sourceModule=new Source(sourceFile).asPactModule(jsonToCsv.getContext());
  Contract source=sourceModule.getOutput(0).getInputs().get(0);
  MapContract jsonToString=new MapContract(JsonToString.class);
  jsonToString.getParameters().setString("separator",jsonToCsv.getSeparator());
  SopremoUtil.serialize(jsonToString.getParameters(),SopremoUtil.CONTEXT,jsonToCsv.getContext());
  SopremoUtil.serialize(jsonToString.getParameters(),"extractionExpressions",(Serializable)jsonToCsv.getExtractionExpressions());
  jsonToString.setInput(source);
  FileDataSink target=new FileDataSink(StringOutputFormat.class,targetFile);
  target.setInput(jsonToString);
  return target;
}
