{
  if (!(comparator1 instanceof ArrayRecordComparator && comparator2 instanceof ArrayRecordComparator)) {
    throw new IllegalArgumentException("Cannot instantiate pair comparator from the given comparators.");
  }
  final ArrayRecordComparator prc1=(ArrayRecordComparator)comparator1;
  final ArrayRecordComparator prc2=(ArrayRecordComparator)comparator2;
  final int[] pos1=prc1.getKeyPositions();
  final int[] pos2=prc2.getKeyPositions();
  final Class<? extends Key>[] types1=prc1.getKeyTypes();
  final Class<? extends Key>[] types2=prc2.getKeyTypes();
  checkComparators(pos1,pos2,types1,types2);
  return new ArrayRecordPairComparator(pos1,pos2,types1);
}
