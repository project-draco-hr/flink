{
  int bufferSize=GlobalConfiguration.getInteger("channel.network.bufferSizeInBytes",GlobalBufferPool.DEFAULT_BUFFER_SIZE_IN_BYTES);
  this.maximumBufferSize=bufferSize;
  long now=System.currentTimeMillis();
  for (  ProfilingPath path : profilingModel.getProfilingSubgraph().getProfilingPaths()) {
    for (    ManagementAttachment pathElement : path.getPathElements()) {
      if (pathElement instanceof ManagementEdge) {
        ManagementEdge edge=(ManagementEdge)pathElement;
        BufferSizeHistory bufferSizeHistory=new BufferSizeHistory(edge,2);
        bufferSizeHistory.addToHistory(now,bufferSize);
        bufferSizes.put(edge,bufferSizeHistory);
      }
    }
  }
}
