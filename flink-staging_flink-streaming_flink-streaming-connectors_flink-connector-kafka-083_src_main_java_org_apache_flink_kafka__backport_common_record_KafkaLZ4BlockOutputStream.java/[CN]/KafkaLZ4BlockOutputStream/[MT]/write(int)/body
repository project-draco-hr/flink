{
  ensureNotFinished();
  if (bufferOffset == maxBlockSize) {
    writeBlock();
  }
  buffer[bufferOffset++]=(byte)b;
}
