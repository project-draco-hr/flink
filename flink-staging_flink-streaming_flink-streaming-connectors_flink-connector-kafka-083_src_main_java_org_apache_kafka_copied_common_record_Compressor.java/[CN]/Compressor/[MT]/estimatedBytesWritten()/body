{
  if (type == CompressionType.NONE) {
    return bufferStream.buffer().position();
  }
 else {
    return (long)(writtenUncompressed * TYPE_TO_RATE[type.id] * COMPRESSION_RATE_ESTIMATION_FACTOR);
  }
}
