{
  final SopremoPlan actualPlan=this.parseScript("square = fn(x) x * x;\n" + "$input = read from 'input.json';\n" + "$result = transform $input into { squared: square($input) };\n"+ "write $result to 'output.json'; ");
  final SopremoPlan expectedPlan=new SopremoPlan();
  final Source input=new Source("input.json");
  final Projection projection=new Projection().withInputs(input).withResultProjection(new ObjectCreation(new ObjectCreation.FieldAssignment("squared",new ArithmeticExpression(new InputSelection(0),ArithmeticOperator.MULTIPLICATION,new InputSelection(0)))));
  final Sink sink=new Sink("output.json").withInputs(projection);
  expectedPlan.setSinks(sink);
  Assert.assertEquals("unexpectedPlan",expectedPlan,actualPlan);
}
