{
  if (OperatingSystem.isWindows())   return;
  Configuration config=new Configuration();
  config.setInteger(ExternalProcessFixedLengthInputFormat.RECORDLENGTH_PARAMETER_KEY,8);
  ExternalProcessInputSplit split=new ExternalProcessInputSplit(1,1,this.incompleteRecordsCommand);
  Record record=new Record();
  boolean incompleteRecordDetected=false;
  @SuppressWarnings("unused") int cnt=0;
  try {
    format.configure(config);
    format.open(split);
    while (!format.reachedEnd()) {
      if (format.nextRecord(record) != null) {
        cnt++;
      }
    }
    format.close();
  }
 catch (  IOException e) {
    Assert.fail();
  }
catch (  RuntimeException e) {
    if (e.getMessage().equals("External process produced incomplete record")) {
      incompleteRecordDetected=true;
    }
 else {
      Assert.fail(e.getMessage());
    }
  }
  Assert.assertTrue(incompleteRecordDetected);
}
