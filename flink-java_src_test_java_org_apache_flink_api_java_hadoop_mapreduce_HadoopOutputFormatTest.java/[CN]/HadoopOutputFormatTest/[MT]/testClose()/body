{
  OutputFormat<String,Long> dummyOutputFormat=new DummyOutputFormat();
  try {
    Job job=Job.getInstance();
    HadoopOutputFormat<String,Long> hadoopOutputFormat=new HadoopOutputFormat<>(dummyOutputFormat,job);
    hadoopOutputFormat.recordWriter=new DummyRecordWriter();
    final OutputCommitter outputCommitter=Mockito.mock(OutputCommitter.class);
    Mockito.when(outputCommitter.needsTaskCommit(Mockito.any(TaskAttemptContext.class))).thenReturn(true);
    Mockito.doNothing().when(outputCommitter).commitTask(Mockito.any(TaskAttemptContext.class));
    hadoopOutputFormat.outputCommitter=outputCommitter;
    hadoopOutputFormat.configuration=new Configuration();
    hadoopOutputFormat.configuration.set("mapred.output.dir",PATH);
    hadoopOutputFormat.close();
  }
 catch (  IOException e) {
    fail();
  }
}
