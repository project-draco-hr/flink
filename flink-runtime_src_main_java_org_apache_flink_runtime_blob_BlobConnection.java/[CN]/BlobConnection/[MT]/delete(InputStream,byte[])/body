{
  BlobServer.readFully(inputStream,buf,0,JobID.SIZE);
  final ByteBuffer bb=ByteBuffer.wrap(buf);
  final JobID jobID=JobID.fromByteBuffer(bb);
  String key=null;
  final int r=inputStream.read();
  if (r < 0) {
    throw new EOFException();
  }
  if (r > 0) {
    key=readKey(buf,inputStream);
    final File blob=this.blobServer.getStorageLocation(jobID,key);
    blob.delete();
  }
 else {
    blobServer.deleteJobDirectory(jobID);
  }
}
