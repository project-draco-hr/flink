{
  final SopremoTestPlan testPlan=new SopremoTestPlan(new Identity());
  testPlan.getInput(0).add(createValueNode("test1")).add(createValueNode("test2"));
  testPlan.run();
  assertEquals("input and output should be equal in identity map",testPlan.getInput(0),testPlan.getActualOutput(0));
  final Iterator<KeyValuePair<JsonNode,JsonNode>> outputIterator=testPlan.getActualOutput(0).iterator();
  final Iterator<KeyValuePair<JsonNode,JsonNode>> inputIterator=testPlan.getInput(0).iterator();
  for (int index=0; index < 2; index++) {
    assertTrue("too few actual output values",outputIterator.hasNext());
    assertTrue("too few input values",outputIterator.hasNext());
    try {
      assertEquals(inputIterator.next(),outputIterator.next());
    }
 catch (    final AssertionFailedError e) {
      throw new ArrayComparisonFailure("Could not verify output values",e,index);
    }
  }
  assertFalse("too few actual output values",outputIterator.hasNext());
  assertFalse("too few input values",outputIterator.hasNext());
}
