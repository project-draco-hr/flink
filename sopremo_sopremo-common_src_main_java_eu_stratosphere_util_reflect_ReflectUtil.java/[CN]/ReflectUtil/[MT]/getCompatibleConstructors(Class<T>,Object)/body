{
  final Constructor<?>[] constructors=type.getDeclaredConstructors();
  final Map<Constructor<?>,Integer> candidateDistances=new HashMap<Constructor<?>,Integer>();
  for (  final Constructor<?> constructor : constructors) {
    int distance=0;
    final Class<?>[] parameterTypes=constructor.getParameterTypes();
    if (params.length != parameterTypes.length)     continue;
    for (int index=0; index < parameterTypes.length; index++) {
      if (!parameterTypes[index].isInstance(params[index])) {
        distance=Integer.MAX_VALUE;
        break;
      }
      if (params[index] != null)       distance+=getDistance(parameterTypes[index],params[index].getClass());
    }
    candidateDistances.put(constructor,distance);
  }
  return candidateDistances;
}
