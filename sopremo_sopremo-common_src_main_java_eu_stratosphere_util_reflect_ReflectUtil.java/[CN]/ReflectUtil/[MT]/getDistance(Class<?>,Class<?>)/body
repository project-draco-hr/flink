{
  if (isSameTypeOrPrimitive(superClass,subclass))   return 0;
  if (!superClass.isAssignableFrom(subclass))   return -1;
  if (superClass.isInterface()) {
    final Class<?>[] interfaces=subclass.getInterfaces();
    int minDistance=Integer.MAX_VALUE;
    for (    final Class<?> xface : interfaces)     if (xface == superClass) {
      minDistance=1;
      break;
    }
 else     if (superClass.isAssignableFrom(xface))     minDistance=Math.min(minDistance,getDistance(superClass,xface));
    return minDistance;
  }
  int distance=1;
  for (Class<?> klazz=subclass; superClass != klazz; distance++)   klazz=klazz.getSuperclass();
  return distance;
}
