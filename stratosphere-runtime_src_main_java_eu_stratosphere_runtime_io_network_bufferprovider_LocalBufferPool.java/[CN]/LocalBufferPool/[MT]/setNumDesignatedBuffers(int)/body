{
synchronized (this.buffers) {
    this.numDesignatedBuffers=numDesignatedBuffers;
    while (this.numRequestedBuffers > this.numDesignatedBuffers) {
      if (this.buffers.isEmpty()) {
        break;
      }
      this.globalBufferPool.returnBuffer(this.buffers.poll());
      this.numRequestedBuffers--;
    }
    this.buffers.notify();
  }
}
