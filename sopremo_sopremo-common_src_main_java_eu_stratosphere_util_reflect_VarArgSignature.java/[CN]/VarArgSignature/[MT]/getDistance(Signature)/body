{
  final Class<?>[] actualParamTypes=actualSignature.getParameterTypes();
  final int nonVarArgs=this.getParameterTypes().length - 1;
  if (nonVarArgs > actualParamTypes.length)   return INCOMPATIBLE;
  int distance=0;
  for (int index=0; index < nonVarArgs; index++) {
    final int actualDistance=ReflectUtil.getDistance(this.getParameterTypes()[index],actualParamTypes[index]);
    if (actualDistance < 0)     return INCOMPATIBLE;
    distance+=actualDistance;
  }
  if (nonVarArgs < actualParamTypes.length)   if (actualParamTypes.length > nonVarArgs + 1 || !this.getParameterTypes()[nonVarArgs].isAssignableFrom(actualParamTypes[nonVarArgs])) {
    final Class<?> varargType=this.getParameterTypes()[nonVarArgs].getComponentType();
    for (int index=nonVarArgs; index < actualParamTypes.length; index++) {
      final int actualDistance=ReflectUtil.getDistance(varargType,actualParamTypes[index]);
      if (actualDistance < 0)       return INCOMPATIBLE;
      distance+=actualDistance + 1;
    }
  }
  return distance;
}
