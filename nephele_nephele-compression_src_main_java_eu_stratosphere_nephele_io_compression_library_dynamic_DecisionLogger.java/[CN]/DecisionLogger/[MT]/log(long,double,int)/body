{
  if (this.bufferedWriter == null) {
    return;
  }
  try {
    bufferedWriter.write(timestamp + "\t" + currentDataRate+ "\t"+ currentCompressionLevel+ "\t");
    if (lastTimestamp < 0) {
      updateCPUUtilization(timestamp,null);
      updateNetworkUtilization(timestamp,null);
      bufferedWriter.write("0\t0\t0\t0\t0\t0\t0\t0\n");
    }
 else {
      updateCPUUtilization(timestamp,bufferedWriter);
      updateNetworkUtilization(timestamp,bufferedWriter);
    }
    if (++flushCounter % FLUSHINTERVAL == 0) {
      this.bufferedWriter.flush();
      this.flushCounter=0;
    }
  }
 catch (  IOException ioe) {
    LOG.error(StringUtils.stringifyException(ioe));
  }
  this.lastTimestamp=timestamp;
}
