{
  if (strategy.type() == ShipStrategyType.FORWARD && this.sourcePact.getDegreeOfParallelism() < this.targetPact.getDegreeOfParallelism()) {
    if (this.interestingProps != null) {
      for (      InterestingProperties props : this.interestingProps) {
        PartitionProperty pp=props.getGlobalProperties().getPartitioning();
        if (pp == PartitionProperty.HASH_PARTITIONED || pp == PartitionProperty.ANY) {
          strategy=new PartitionLocalHashSS(props.getGlobalProperties().getPartitionedFields());
          break;
        }
 else         if (pp == PartitionProperty.RANGE_PARTITIONED) {
          throw new CompilerException("Range partitioning during forwards with changing degree " + "of parallelism is currently not handled!");
        }
      }
    }
  }
switch (strategy.type()) {
case BROADCAST:
    this.replicationFactor=this.targetPact.getDegreeOfParallelism();
  break;
case SFR:
throw new CompilerException("SFR Shipping Strategy not supported yet.");
default :
this.replicationFactor=1;
break;
}
this.shipStrategy=strategy;
}
