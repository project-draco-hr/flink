{
  if (this.environment.hasUnboundOutputGates()) {
    final OutputGate<T> eog=(OutputGate<T>)this.environment.getUnboundOutputGate(0);
    if (!outputClass.equals(eog.getType())) {
      throw new RuntimeException("Unbound input gate found, but types do not match!");
    }
    this.outputGate=eog;
  }
 else {
    this.outputGate=new OutputGate<T>(environment.getJobID(),outputClass,this.environment.getNumberOfOutputGates(),selector,isBroadcast);
    this.environment.registerOutputGate(this.outputGate);
  }
}
