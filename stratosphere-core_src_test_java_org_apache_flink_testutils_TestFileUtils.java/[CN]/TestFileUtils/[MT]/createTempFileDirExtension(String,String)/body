{
  File tempDir=new File(System.getProperty("java.io.tmpdir"));
  File f=null;
  do {
    f=new File(tempDir,randomFileName(FILE_SUFFIX));
  }
 while (f.exists());
  f.mkdirs();
  f.deleteOnExit();
  for (  String s : contents) {
    File child=new File(f,randomFileName(fileExtension));
    child.deleteOnExit();
    BufferedWriter out=new BufferedWriter(new FileWriter(child));
    try {
      out.write(s);
    }
  finally {
      out.close();
    }
  }
  return f.toURI().toString();
}
