{
  SelectionKey key=keyForId(id);
  lruConnections.remove(id);
  SocketChannel channel=channel(key);
  Transmissions trans=transmissions(key);
  if (trans != null) {
    this.keys.remove(trans.id);
    trans.clearReceive();
    trans.clearSend();
  }
  key.attach(null);
  key.cancel();
  try {
    channel.socket().close();
    channel.close();
  }
 catch (  IOException e) {
    log.error("Exception closing connection to node {}:",trans.id,e);
  }
  this.sensors.connectionClosed.record();
}
