{
  try {
{
      final AtomicInteger invocations=new AtomicInteger();
      final AllocatedSlot thisSlot=new AllocatedSlot(new JobID(),SchedulerTestUtils.getRandomInstance(1),0);
      SlotAllocationFuture future=new SlotAllocationFuture();
      future.setFutureAction(new SlotAllocationFutureAction(){
        @Override public void slotAllocated(        AllocatedSlot slot){
          assertEquals(thisSlot,slot);
          invocations.incrementAndGet();
        }
      }
);
      future.setSlot(thisSlot);
      assertEquals(1,invocations.get());
    }
{
      final AtomicInteger invocations=new AtomicInteger();
      final AllocatedSlot thisSlot=new AllocatedSlot(new JobID(),SchedulerTestUtils.getRandomInstance(1),0);
      SlotAllocationFuture future=new SlotAllocationFuture();
      future.setSlot(thisSlot);
      future.setFutureAction(new SlotAllocationFutureAction(){
        @Override public void slotAllocated(        AllocatedSlot slot){
          assertEquals(thisSlot,slot);
          invocations.incrementAndGet();
        }
      }
);
      assertEquals(1,invocations.get());
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
