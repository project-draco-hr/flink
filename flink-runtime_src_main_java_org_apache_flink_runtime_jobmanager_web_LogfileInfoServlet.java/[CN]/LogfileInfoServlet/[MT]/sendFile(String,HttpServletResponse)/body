{
  for (  File logDir : logDirs) {
    if (logDir == null) {
      continue;
    }
    File[] files=logDir.listFiles();
    if (files == null) {
      resp.setStatus(HttpServletResponse.SC_OK);
      resp.setContentType("text/plain");
      resp.getOutputStream().write(("The specified log directory '" + logDir + "' is empty").getBytes());
    }
 else {
      for (      File f : files) {
        if (f.getName().matches(fileNamePattern)) {
          resp.setStatus(HttpServletResponse.SC_OK);
          resp.setContentType("text/plain");
          writeFile(resp.getOutputStream(),f);
        }
      }
    }
  }
}
