{
  if (this.isSelectingAll())   return value;
  final int size=((IArrayNode)node).size();
  if (this.isSelectingRange()) {
    final IArrayNode arrayNode=(IArrayNode)node;
    int index=this.resolveIndex(this.startIndex,size), replaceIndex=0;
    final int endIndex=this.resolveIndex(this.endIndex,size);
    final int increment=index < endIndex ? 1 : -1;
    for (boolean moreElements=true; moreElements; index+=increment, replaceIndex++) {
      arrayNode.set(index,((IArrayNode)node).get(replaceIndex));
      moreElements=index != endIndex;
    }
  }
 else   ((IArrayNode)node).set(this.resolveIndex(this.startIndex,size),value);
  return node;
}
