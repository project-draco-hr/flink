{
  if (this.isSelectingAll())   return node;
  final int size=node.size();
  if (this.isSelectingRange()) {
    ArrayNode arrayNode=new ArrayNode(JsonUtil.NODE_FACTORY);
    int index=resolveIndex(this.startIndex,size);
    final int endIndex=resolveIndex(this.endIndex,size);
    final int increment=index < endIndex ? 1 : -1;
    for (boolean moreElements=true; moreElements; index+=increment) {
      arrayNode.add(node.get(index));
      moreElements=index != endIndex;
    }
    return arrayNode;
  }
  return node.get(resolveIndex(this.startIndex,size));
}
