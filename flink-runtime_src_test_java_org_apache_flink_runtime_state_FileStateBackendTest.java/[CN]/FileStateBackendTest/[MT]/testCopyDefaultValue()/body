{
  File tempDir=new File(ConfigConstants.DEFAULT_TASK_MANAGER_TMP_PATH,UUID.randomUUID().toString());
  try {
    FsStateBackend backend=CommonTestUtils.createCopySerializable(new FsStateBackend(localFileUri(tempDir)));
    backend.initializeForJob(new DummyEnvironment("test",0,0));
    KvState<Integer,IntValue,FsStateBackend> kv=backend.createKvState("a_0","a",IntSerializer.INSTANCE,IntValueSerializer.INSTANCE,new IntValue(-1));
    kv.setCurrentKey(1);
    IntValue default1=kv.value();
    kv.setCurrentKey(2);
    IntValue default2=kv.value();
    assertNotNull(default1);
    assertNotNull(default2);
    assertEquals(default1,default2);
    assertFalse(default1 == default2);
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
 finally {
    deleteDirectorySilently(tempDir);
  }
}
