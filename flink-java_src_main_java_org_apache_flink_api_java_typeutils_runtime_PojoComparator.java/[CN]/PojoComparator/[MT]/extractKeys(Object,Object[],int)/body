{
  int localIndex=index;
  for (int i=0; i < comparators.length; i++) {
    if (comparators[i] instanceof CompositeTypeComparator) {
      localIndex+=comparators[i].extractKeys(accessField(keyFields[i],record),target,localIndex) - 1;
    }
 else {
      target[localIndex]=accessField(keyFields[i],record);
    }
    localIndex++;
  }
  return localIndex - index;
}
