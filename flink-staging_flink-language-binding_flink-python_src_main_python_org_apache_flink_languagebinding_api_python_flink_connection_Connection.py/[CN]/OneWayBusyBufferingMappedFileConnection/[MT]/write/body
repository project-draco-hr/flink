def write(self, msg):
    self._out.append(msg)
    self._out_size += len(msg)
    if (self._out_size > self._offset_limit):
        self._write_buffer()
