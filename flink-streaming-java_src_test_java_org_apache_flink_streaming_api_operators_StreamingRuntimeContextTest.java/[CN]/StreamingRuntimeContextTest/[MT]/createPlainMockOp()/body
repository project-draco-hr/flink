{
  AbstractStreamOperator<?> operatorMock=mock(AbstractStreamOperator.class);
  when(operatorMock.getExecutionConfig()).thenReturn(new ExecutionConfig());
  when(operatorMock.getPartitionedState(any(ListStateDescriptor.class))).thenAnswer(new Answer<ListState<String>>(){
    @Override public ListState<String> answer(    InvocationOnMock invocationOnMock) throws Throwable {
      ListStateDescriptor<String> descr=(ListStateDescriptor<String>)invocationOnMock.getArguments()[0];
      return new MemListState<String,Void,String>(StringSerializer.INSTANCE,VoidSerializer.INSTANCE,descr);
    }
  }
);
  return operatorMock;
}
