{
  OperatorState<Integer> os=new SimpleState<Integer>(5);
  StateCheckpoint<Integer> scp=os.checkpoint();
  assertTrue(os.stateEquals(new SimpleState<Integer>().restore(scp)));
  assertEquals((Integer)5,os.getState());
  os.setState(10);
  assertEquals((Integer)10,os.getState());
  scp.update(os.checkpoint());
  assertEquals((Integer)10,scp.getCheckpointedState());
}
