{
synchronized (lock) {
    if (shutdown) {
      throw new IllegalArgumentException("Checkpoint coordinator is shut down");
    }
    stopPeriodicCheckpointScheduler();
    periodicScheduler=new TimerTask(){
      @Override public void run(){
        try {
          triggerCheckpoint();
        }
 catch (        Exception e) {
          LOG.error("Exception while triggering checkpoint",e);
        }
      }
    }
;
    timer.scheduleAtFixedRate(periodicScheduler,interval,interval);
  }
}
