{
  CheckpointTriggerResult result=triggerCheckpoint(timestamp,CheckpointProperties.forStandardSavepoint());
  if (result.isSuccess()) {
    PendingSavepoint savepoint=(PendingSavepoint)result.getPendingCheckpoint();
    return savepoint.getCompletionFuture();
  }
 else {
    final Promise<String> promise=new scala.concurrent.impl.Promise.DefaultPromise<>();
    promise.failure(new Exception("Failed to trigger savepoint: " + result.getFailureReason().message()));
    return promise.future();
  }
}
