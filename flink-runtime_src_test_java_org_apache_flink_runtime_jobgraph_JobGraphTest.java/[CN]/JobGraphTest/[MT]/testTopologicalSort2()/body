{
  try {
    AbstractJobVertex source1=new AbstractJobVertex("source1");
    AbstractJobVertex source2=new AbstractJobVertex("source2");
    AbstractJobVertex root=new AbstractJobVertex("root");
    AbstractJobVertex l11=new AbstractJobVertex("layer 1 - 1");
    AbstractJobVertex l12=new AbstractJobVertex("layer 1 - 2");
    AbstractJobVertex l13=new AbstractJobVertex("layer 1 - 3");
    AbstractJobVertex l2=new AbstractJobVertex("layer 2");
    root.connectNewDataSetAsInput(l13,DistributionPattern.POINTWISE);
    root.connectNewDataSetAsInput(source2,DistributionPattern.POINTWISE);
    root.connectNewDataSetAsInput(l2,DistributionPattern.POINTWISE);
    l2.connectNewDataSetAsInput(l11,DistributionPattern.POINTWISE);
    l2.connectNewDataSetAsInput(l12,DistributionPattern.POINTWISE);
    l11.connectNewDataSetAsInput(source1,DistributionPattern.POINTWISE);
    l12.connectNewDataSetAsInput(source1,DistributionPattern.POINTWISE);
    l12.connectNewDataSetAsInput(source2,DistributionPattern.POINTWISE);
    l13.connectNewDataSetAsInput(source2,DistributionPattern.POINTWISE);
    JobGraph graph=new JobGraph("TestGraph",source1,source2,root,l11,l13,l12,l2);
    List<AbstractJobVertex> sorted=graph.getVerticesSortedTopologicallyFromSources();
    assertBefore(source1,root,sorted);
    assertBefore(source2,root,sorted);
    assertBefore(l11,root,sorted);
    assertBefore(l12,root,sorted);
    assertBefore(l13,root,sorted);
    assertBefore(l2,root,sorted);
    assertBefore(l11,l2,sorted);
    assertBefore(l12,l2,sorted);
    assertBefore(l2,root,sorted);
    assertBefore(source1,l2,sorted);
    assertBefore(source2,l2,sorted);
    assertBefore(source2,l13,sorted);
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
