{
synchronized (this) {
    if (!closed) {
      closed=true;
      outStream.close();
      return filePath;
    }
 else {
      throw new IOException("Stream has already been closed and discarded.");
    }
  }
}
