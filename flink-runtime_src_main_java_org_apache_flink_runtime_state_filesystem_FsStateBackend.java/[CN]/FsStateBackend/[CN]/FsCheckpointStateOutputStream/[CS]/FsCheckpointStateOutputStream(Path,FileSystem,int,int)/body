{
  if (bufferSize < localStateThreshold) {
    throw new IllegalArgumentException();
  }
  this.basePath=basePath;
  this.fs=fs;
  this.writeBuffer=new byte[bufferSize];
  this.localStateThreshold=localStateThreshold;
}
