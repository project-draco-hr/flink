{
  if (!parseParameters(args)) {
    return;
  }
  final ExecutionEnvironment env=ExecutionEnvironment.getExecutionEnvironment();
  DataSet<Data> data=getDataSet(env);
  DataSet<Params> parameters=getParamsDataSet(env);
  IterativeDataSet<Params> loop=parameters.iterate(numIterations);
  DataSet<Params> new_parameters=data.map(new SubUpdate()).withBroadcastSet(loop,"parameters").reduce(new UpdateAccumulator()).map(new Update());
  DataSet<Params> result=loop.closeWith(new_parameters);
  if (fileOutput) {
    result.writeAsText(outputPath);
  }
 else {
    result.print();
  }
  env.execute("Linear Regression example");
}
