{
  if ((offset | length | (offset + length)| (dst.length - (offset + length))) < 0) {
    throw new IndexOutOfBoundsException();
  }
  long pos=address + index;
  if (index >= 0 && pos <= addressLimit - length) {
    long arrayAddress=BYTE_ARRAY_BASE_OFFSET + offset;
    while (length > 0) {
      long toCopy=(length > COPY_PER_BATCH) ? COPY_PER_BATCH : length;
      UNSAFE.copyMemory(null,pos,dst,arrayAddress,toCopy);
      length-=toCopy;
      pos+=toCopy;
      arrayAddress+=toCopy;
    }
  }
 else   if (address <= 0) {
    throw new IllegalStateException("This segment has been freed.");
  }
 else {
    throw new IndexOutOfBoundsException();
  }
}
