{
  if (this.inactiveOutputChannels.isEmpty()) {
    return 0L;
  }
  final Iterator<OutputChannelContext> it=this.inactiveOutputChannels.iterator();
  long maxMainMemory=0;
  OutputChannelContext maxContext=null;
  while (it.hasNext()) {
    final OutputChannelContext context=it.next();
    final long mm=context.getAmountOfMainMemoryInQueue();
    if (mm > maxMainMemory) {
      maxMainMemory=mm;
      maxContext=context;
    }
  }
  if (maxContext != null) {
    try {
      return maxContext.spillQueueWithOutgoingEnvelopes();
    }
 catch (    IOException ioe) {
      maxContext.reportIOException(ioe);
    }
  }
  return 0L;
}
