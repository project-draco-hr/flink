{
  compressor.putInt((int)(crc & 0xffffffffL));
  compressor.putByte(CURRENT_MAGIC_VALUE);
  compressor.putByte(attributes);
  if (key == null) {
    compressor.putInt(-1);
  }
 else {
    compressor.putInt(key.length);
    compressor.put(key,0,key.length);
  }
  if (value == null) {
    compressor.putInt(-1);
  }
 else {
    int size=valueSize >= 0 ? valueSize : (value.length - valueOffset);
    compressor.putInt(size);
    compressor.put(value,valueOffset,size);
  }
}
