{
  out.writeInt(this.mode.ordinal());
  final List<String> requiredPackages=this.query.getRequiredPackages();
  out.writeInt(requiredPackages.size());
  for (  String packageName : requiredPackages)   out.writeUTF(packageName);
  final byte[] planBuffer=SopremoUtil.serializableToByteArray(this.query);
  out.writeInt(planBuffer.length);
  out.write(planBuffer);
}
