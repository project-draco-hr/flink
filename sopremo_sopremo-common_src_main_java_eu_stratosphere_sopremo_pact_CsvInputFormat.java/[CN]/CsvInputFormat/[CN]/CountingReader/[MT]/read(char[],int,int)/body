{
  int toRead=len - off;
  while (toRead > 0) {
    fillCharBufferIfEmpty();
    int currentReadCount=Math.min(toRead,this.charBuffer.length());
    this.charBuffer.get(cbuf,off,currentReadCount);
    toRead-=currentReadCount;
  }
  return len - toRead;
}
