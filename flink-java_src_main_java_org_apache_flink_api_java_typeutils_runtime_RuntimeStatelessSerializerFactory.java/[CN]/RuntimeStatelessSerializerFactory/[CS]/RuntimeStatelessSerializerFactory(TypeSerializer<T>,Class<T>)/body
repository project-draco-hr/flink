{
  if (serializer == null || clazz == null) {
    throw new NullPointerException();
  }
  if (serializer.isStateful()) {
    throw new IllegalArgumentException("Cannot use the stateless serializer factory with a stateful serializer.");
  }
  this.clazz=clazz;
  this.serializer=serializer;
}
