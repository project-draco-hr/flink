{
  try {
    @SuppressWarnings("unchecked") final Class<T> clazz=(Class<T>)config.getStubClass(superClass,cl);
    return InstantiationUtil.instantiate(clazz,superClass);
  }
 catch (  ClassNotFoundException cnfe) {
    throw new RuntimeException("User Code class was not found in the task configuration.",cnfe);
  }
catch (  ClassCastException ccex) {
    throw new RuntimeException("User Code class is not a proper subclass of " + superClass.getName(),ccex);
  }
}
