{
  int toRead=(int)Math.min(this.streamEnd - this.streamPos,this.readBufferSize);
  if (toRead <= 0) {
    this.exhausted=true;
    return;
  }
  int read=this.stream.read(this.readBuffer,0,toRead);
  if (read <= 0) {
    this.exhausted=true;
  }
 else {
    this.streamPos+=read;
    this.readBufferPos=0;
    this.readBufferLimit=read;
  }
}
