{
  FileDataSource sourceA=new FileDataSource(DummyInputFormat.class,IN_FILE,"Source 2");
  BulkIteration iteration=new BulkIteration("Loop");
  iteration.setInput(sourceA);
  iteration.setMaximumNumberOfIterations(10);
  MapOperator mapper=MapOperator.builder(IdentityMap.class).name("Mapper").input(iteration.getPartialSolution()).build();
  iteration.setNextPartialSolution(mapper);
  FileDataSink sink1=new FileDataSink(DummyOutputFormat.class,OUT_FILE,iteration,"Sink 1");
  MapOperator postMap=MapOperator.builder(IdentityMap.class).name("Post Iteration Mapper").input(iteration).build();
  FileDataSink sink2=new FileDataSink(DummyOutputFormat.class,OUT_FILE,postMap,"Sink 2");
  List<GenericDataSink> sinks=new ArrayList<GenericDataSink>();
  sinks.add(sink1);
  sinks.add(sink2);
  Plan plan=new Plan(sinks);
  try {
    compileNoStats(plan);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
}
