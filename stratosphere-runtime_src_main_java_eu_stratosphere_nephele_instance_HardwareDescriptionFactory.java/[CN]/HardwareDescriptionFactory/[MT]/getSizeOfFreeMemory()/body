{
  float fractionToUse=GlobalConfiguration.getFloat(ConfigConstants.TASK_MANAGER_MEMORY_FRACTION_KEY,ConfigConstants.DEFAULT_MEMORY_MANAGER_MEMORY_FRACTION);
  Runtime r=Runtime.getRuntime();
  return (long)(fractionToUse * (r.maxMemory() - r.totalMemory() + r.freeMemory()));
}
