{
  try {
    jobManagerSystem.actorOf(Props.create(FailureReturningActor.class),JobManager.JOB_MANAGER_NAME());
    Client out=new Client(config,getClass().getClassLoader());
    try {
      out.run(program.getPlanWithJars(),-1,false);
      fail("This should fail with an exception");
    }
 catch (    ProgramInvocationException e) {
    }
catch (    Exception e) {
      fail("wrong exception");
    }
    verify(this.compilerMock,times(1)).compile(any(Plan.class));
    verify(this.generatorMock,times(1)).compileJobGraph(any(OptimizedPlan.class));
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
