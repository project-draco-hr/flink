{
  Key key=null;
  try {
    key=keyClass.newInstance();
  }
 catch (  InstantiationException e) {
    e.printStackTrace();
  }
catch (  IllegalAccessException e) {
    e.printStackTrace();
  }
  record.getFieldInto(keyPosition,key);
  return new int[]{Math.abs(key.hashCode()) % numberOfOutputChannels};
}
