{
  double z;
  double sumProb;
  int zipfValue=-1;
  do {
    z=Math.random();
  }
 while (z == 0.0f);
  sumProb=0;
  for (int i=1; i <= this.maxVal; i++) {
    if (sumProbCache[i - 1] < 0.0f) {
      sumProb=sumProb + normalizationConstant / Math.pow((double)i,skew);
      sumProbCache[i - 1]=sumProb;
    }
 else {
      sumProb=sumProbCache[i - 1];
    }
    if (sumProb >= z) {
      zipfValue=i;
      break;
    }
  }
  return zipfValue;
}
