{
  if (Thread.currentThread().isInterrupted()) {
    throw new InterruptedException("Snapshot canceled.");
  }
}
