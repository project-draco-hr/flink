{
  assertNotNull(checkpoint);
  assertEquals(expectedJobId,checkpoint.getJobId());
  assertEquals(expectedCheckpointId,checkpoint.getCheckpointID());
  assertEquals(expectedTimestamp,checkpoint.getTimestamp());
  for (  ExecutionVertex vertex : expectedVertices) {
    JobVertexID jobVertexID=vertex.getJobvertexId();
    TaskState taskState=checkpoint.getTaskState(jobVertexID);
    assertNotNull(taskState);
    SubtaskState subtaskState=taskState.getState(vertex.getParallelSubtaskIndex());
    assertNotNull(subtaskState);
    ExecutionAttemptID vertexAttemptId=vertex.getCurrentExecutionAttempt().getAttemptId();
    ExecutionAttemptID stateAttemptId=(ExecutionAttemptID)subtaskState.getState().deserializeValue(Thread.currentThread().getContextClassLoader()).getState(Thread.currentThread().getContextClassLoader());
    assertEquals(vertexAttemptId,stateAttemptId);
  }
}
