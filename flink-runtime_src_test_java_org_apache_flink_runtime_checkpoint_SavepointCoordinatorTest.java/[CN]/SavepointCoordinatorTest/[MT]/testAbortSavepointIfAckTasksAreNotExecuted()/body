{
  ApplicationID appId=new ApplicationID();
  JobID jobId=new JobID();
  ExecutionVertex[] triggerVertices=new ExecutionVertex[]{mockExecutionVertex(jobId),mockExecutionVertex(jobId)};
  ExecutionVertex[] ackVertices=new ExecutionVertex[]{mock(ExecutionVertex.class),mock(ExecutionVertex.class)};
  SavepointCoordinator coordinator=createSavepointCoordinator(appId,jobId,60 * 1000,triggerVertices,ackVertices,new ExecutionVertex[]{},new MockCheckpointIdCounter(),new HeapStateStore<Savepoint>());
  Future<String> savepointPathFuture=coordinator.triggerSavepoint(1238123);
  assertTrue(savepointPathFuture.isCompleted());
  try {
    Await.result(savepointPathFuture,FiniteDuration.Zero());
    fail("Did not throw expected Exception after shutdown");
  }
 catch (  Exception ignored) {
  }
  assertEquals(0,getSavepointPromises(coordinator).size());
  coordinator.shutdown();
}
