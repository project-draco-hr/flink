{
  Execution exec=mock(Execution.class);
  when(exec.getAttemptId()).thenReturn(new ExecutionAttemptID());
  when(exec.getState()).thenReturn(executionState);
  ExecutionVertex vertex=mock(ExecutionVertex.class);
  when(vertex.getJobId()).thenReturn(jobId);
  when(vertex.getJobvertexId()).thenReturn(jobVertexId);
  when(vertex.getParallelSubtaskIndex()).thenReturn(subtaskIndex);
  when(vertex.getCurrentExecutionAttempt()).thenReturn(exec);
  when(vertex.getTotalNumberOfParallelSubtasks()).thenReturn(parallelism);
  return vertex;
}
