{
  super(struct);
  responseData=new HashMap<TopicPartition,PartitionData>();
  for (  Object topicResponseObj : struct.getArray(RESPONSES_KEY_NAME)) {
    Struct topicResponse=(Struct)topicResponseObj;
    String topic=topicResponse.getString(TOPIC_KEY_NAME);
    for (    Object partitionResponseObj : topicResponse.getArray(PARTITIONS_KEY_NAME)) {
      Struct partitionResponse=(Struct)partitionResponseObj;
      int partition=partitionResponse.getInt(PARTITION_KEY_NAME);
      short errorCode=partitionResponse.getShort(ERROR_CODE_KEY_NAME);
      Object[] offsets=partitionResponse.getArray(OFFSETS_KEY_NAME);
      List<Long> offsetsList=new ArrayList<Long>();
      for (      Object offset : offsets)       offsetsList.add((Long)offset);
      PartitionData partitionData=new PartitionData(errorCode,offsetsList);
      responseData.put(new TopicPartition(topic,partition),partitionData);
    }
  }
}
