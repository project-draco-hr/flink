{
  Collection<W> elementWindows=windowAssigner.assignWindows(element.getValue(),element.getTimestamp());
  K key=(K)getStateBackend().getCurrentKey();
  for (  W window : elementWindows) {
    ListState<StreamRecord<IN>> windowState=getPartitionedState(window,windowSerializer,windowStateDescriptor);
    windowState.add(element);
    context.key=key;
    context.window=window;
    Trigger.TriggerResult triggerResult=context.onElement(element);
    processTriggerResult(triggerResult,key,window);
  }
}
