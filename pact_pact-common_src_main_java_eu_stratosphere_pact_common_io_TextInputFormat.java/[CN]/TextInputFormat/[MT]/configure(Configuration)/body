{
  super.configure(parameters);
  String charsetName=parameters.getString(CHARSET_NAME,DEFAULT_CHARSET_NAME);
  if (charsetName == null || !Charset.isSupported(charsetName)) {
    throw new RuntimeException("Unsupported charset: " + charsetName);
  }
  this.decoder=Charset.forName(charsetName).newDecoder();
  this.byteWrapper=ByteBuffer.allocate(1);
  if (charsetName.equals("ISO-8859-1") || charsetName.equalsIgnoreCase("ASCII")) {
    this.ascii=true;
  }
}
