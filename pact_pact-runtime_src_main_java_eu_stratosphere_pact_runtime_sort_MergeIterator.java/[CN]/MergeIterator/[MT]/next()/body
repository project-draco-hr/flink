{
  HeadStream top=heap.peek();
  KeyValuePair<K,V> head=top.getHead();
  try {
    if (!top.nextHead()) {
      heap.poll();
    }
  }
 catch (  Exception e) {
    throw new RuntimeException("Reading an element from the stream failed.",e);
  }
  heap.adjustTop();
  return head;
}
