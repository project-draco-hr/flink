{
  nextRecordTime2=timeStamp;
  while (miniBatchEnd2()) {
    streamWindow.addToBuffer();
    if (streamWindow.batchEnd()) {
      reduceBatch2(streamWindow);
    }
  }
}
