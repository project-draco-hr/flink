{
  if (!(expr.parent() instanceof PathExpr)) {
    return false;
  }
  PathIndex pi=(PathIndex)expr;
  PathExpr pe=(PathExpr)pi.parent();
  PathStep nextStep=pi.nextStep();
  Expr e=new IndexExpr(pe.input(),pi.indexExpr());
  if (!(nextStep instanceof PathReturn)) {
    e=new PathExpr(e,nextStep);
  }
  pe.replaceInParent(e);
  return true;
}
