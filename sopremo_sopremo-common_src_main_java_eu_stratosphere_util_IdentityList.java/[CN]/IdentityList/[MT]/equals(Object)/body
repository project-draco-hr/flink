{
  if (o == this)   return true;
  if (!(o instanceof IdentityList<?>))   return false;
  final ListIterator<E> e1=this.listIterator();
  @SuppressWarnings("rawtypes") final ListIterator e2=((List)o).listIterator();
  while (e1.hasNext() && e2.hasNext()) {
    final E o1=e1.next();
    final Object o2=e2.next();
    if (o1 != o2)     return false;
  }
  return !(e1.hasNext() || e2.hasNext());
}
