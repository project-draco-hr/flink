{
  MetricRegistry registry=new MetricRegistry(new Configuration());
  OperatorMetricGroup operator=new TaskManagerMetricGroup(registry,"host","id").addJob(new JobID(),"job").addTask(new AbstractID(),new AbstractID(),0,"task").addOperator("operator");
  Scope.ScopeFormat format=new Scope.ScopeFormat();
  format.setOperatorFormat(Scope.concat(Scope.SCOPE_WILDCARD,"op",OperatorMetricGroup.SCOPE_OPERATOR_NAME));
  List<String> scope=operator.generateScope(format);
  assertEquals(7,scope.size());
  assertEquals("host",scope.get(0));
  assertEquals("taskmanager",scope.get(1));
  assertEquals("id",scope.get(2));
  assertEquals("job",scope.get(3));
  assertEquals("task",scope.get(4));
  assertEquals("op",scope.get(5));
  assertEquals("operator",scope.get(6));
}
