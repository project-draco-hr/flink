{
  super.setInputs(contractToNode);
  ShipStrategy firstSS=this.input1.getShipStrategy();
  ShipStrategy secondSS=this.input2.getShipStrategy();
  PactConnection fixed=null;
  PactConnection toAdjust=null;
  if (firstSS != ShipStrategy.NONE) {
    if (secondSS == ShipStrategy.NONE) {
      fixed=this.input1;
      toAdjust=this.input2;
    }
 else {
      if (!((firstSS == ShipStrategy.BROADCAST && secondSS == ShipStrategy.FORWARD) || (firstSS == ShipStrategy.FORWARD && secondSS == ShipStrategy.BROADCAST) || (firstSS == ShipStrategy.SFR && secondSS == ShipStrategy.SFR))) {
        throw new CompilerException("Invalid combination of fixed shipping strategies for Cross contract '" + getPactContract().getName() + "'.");
      }
    }
  }
 else   if (secondSS != ShipStrategy.NONE) {
    fixed=this.input2;
    toAdjust=this.input1;
  }
  if (toAdjust != null) {
    if (fixed.getShipStrategy() == ShipStrategy.BROADCAST) {
      toAdjust.setShipStrategy(ShipStrategy.FORWARD);
    }
 else     if (fixed.getShipStrategy() == ShipStrategy.FORWARD) {
      toAdjust.setShipStrategy(ShipStrategy.BROADCAST);
    }
 else     if (fixed.getShipStrategy() == ShipStrategy.SFR) {
      toAdjust.setShipStrategy(ShipStrategy.SFR);
    }
 else {
      throw new CompilerException("Invalid shipping strategy for Cross contract '" + getPactContract().getName() + "': "+ fixed.getShipStrategy());
    }
  }
}
