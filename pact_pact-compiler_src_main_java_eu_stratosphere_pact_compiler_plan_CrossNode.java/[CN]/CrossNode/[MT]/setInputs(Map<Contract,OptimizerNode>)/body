{
  super.setInputs(contractToNode);
  ShipStrategyType firstSS=this.input1.getShipStrategy();
  ShipStrategyType secondSS=this.input2.getShipStrategy();
  PactConnection fixed=null;
  PactConnection toAdjust=null;
  if (firstSS != ShipStrategyType.NONE) {
    if (secondSS == ShipStrategyType.NONE) {
      fixed=this.input1;
      toAdjust=this.input2;
    }
 else {
      if (!((firstSS == ShipStrategyType.BROADCAST && secondSS == ShipStrategyType.FORWARD) || (firstSS == ShipStrategyType.FORWARD && secondSS == ShipStrategyType.BROADCAST))) {
        throw new CompilerException("Invalid combination of fixed shipping strategies for Cross contract '" + getPactContract().getName() + "'.");
      }
    }
  }
 else   if (secondSS != ShipStrategyType.NONE) {
    fixed=this.input2;
    toAdjust=this.input1;
  }
  if (toAdjust != null) {
    if (fixed.getShipStrategy() == ShipStrategyType.BROADCAST) {
      toAdjust.setShipStrategy(ShipStrategyType.FORWARD);
    }
 else     if (fixed.getShipStrategy() == ShipStrategyType.FORWARD) {
      toAdjust.setShipStrategy(ShipStrategyType.BROADCAST);
    }
 else {
      throw new CompilerException("Invalid shipping strategy for Cross contract '" + getPactContract().getName() + "': "+ fixed.getShipStrategy());
    }
  }
}
