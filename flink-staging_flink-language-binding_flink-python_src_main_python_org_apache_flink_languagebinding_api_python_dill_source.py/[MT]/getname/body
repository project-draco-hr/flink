def getname(obj, force=False):
    'get the name of the object. for lambdas, get the name of the pointer '
    module = getmodule(obj)
    if (not module):
        if (not force):
            return None
        return repr(obj)
    try:
        name = obj.__name__
        if (name == '<lambda>'):
            return getsource(obj).split('=', 1)[0].strip()
        if (module.__name__ in ['builtins', '__builtin__']):
            if (name == 'ellipsis'):
                name = 'EllipsisType'
        return name
    except AttributeError:
        if (not force):
            return None
        name = repr(obj)
        if name.startswith('<'):
            return None
        return name
