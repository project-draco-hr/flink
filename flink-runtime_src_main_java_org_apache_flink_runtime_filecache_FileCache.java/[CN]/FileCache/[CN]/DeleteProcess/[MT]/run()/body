{
  Path tmp=getTempDir(jobID,filePath.substring(filePath.lastIndexOf("/") + 1));
  try {
synchronized (lock) {
      Map<String,Integer> count=jobCounts.get(jobID);
      if (count.containsKey(name)) {
        count.put(name,count.get(name) - 1);
        if (count.get(name) == 0) {
          if (lfs.exists(tmp)) {
            lfs.delete(tmp,true);
          }
          count.remove(name);
          if (count.isEmpty()) {
            tmp=getTempDir(jobID,"");
            if (lfs.exists(tmp)) {
              lfs.delete(tmp,true);
            }
            jobCounts.remove(jobID);
          }
        }
      }
    }
  }
 catch (  IOException e) {
    LOG.error("Could not delete file from local file cache.",e);
  }
}
