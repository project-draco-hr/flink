{
  Callable<?,?> callable=this.getContext().getBindings().get(name.getText(),Callable.class);
  if (callable == null)   throw new SimpleException("Unknown function",name);
  if (callable instanceof MacroBase)   return ((MacroBase)callable).call(params,this.getContext());
  if (callable instanceof Inlineable)   return ((Inlineable)callable).getDefinition();
  if (target != null) {
    ObjectArrayList<EvaluationExpression> paramList=ObjectArrayList.wrap(params);
    paramList.add(0,target);
    params=paramList.elements();
  }
  return new MethodCall(name.getText(),params);
}
