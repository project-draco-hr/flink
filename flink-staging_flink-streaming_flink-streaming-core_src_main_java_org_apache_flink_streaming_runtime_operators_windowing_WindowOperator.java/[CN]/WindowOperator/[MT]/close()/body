{
  super.close();
  for (  Map.Entry<K,Map<W,Tuple2<WindowBuffer<IN>,TriggerContext>>> entry : windows.entrySet()) {
    K key=entry.getKey();
    Map<W,Tuple2<WindowBuffer<IN>,TriggerContext>> keyWindows=entry.getValue();
    for (    W window : keyWindows.keySet()) {
      emitWindow(key,window,false);
    }
  }
  windows.clear();
  windowBufferFactory.close();
}
