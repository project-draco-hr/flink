{
switch (triggerResult) {
case FIRE:
{
      Map<W,Context> keyWindows=windows.get(key);
      if (keyWindows == null) {
        LOG.debug("Window {} for key {} already gone.",window,key);
        return;
      }
      Context context=keyWindows.get(window);
      if (context == null) {
        LOG.debug("Window {} for key {} already gone.",window,key);
        return;
      }
      emitWindow(context);
      break;
    }
case FIRE_AND_PURGE:
{
    Map<W,Context> keyWindows=windows.get(key);
    if (keyWindows == null) {
      LOG.debug("Window {} for key {} already gone.",window,key);
      return;
    }
    Context context=keyWindows.remove(window);
    if (context == null) {
      LOG.debug("Window {} for key {} already gone.",window,key);
      return;
    }
    if (keyWindows.isEmpty()) {
      windows.remove(key);
    }
    emitWindow(context);
    break;
  }
case CONTINUE:
}
}
