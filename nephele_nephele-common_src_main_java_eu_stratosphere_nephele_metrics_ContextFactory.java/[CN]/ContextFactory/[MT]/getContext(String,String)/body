{
  MetricsContext metricsContext=contextMap.get(refName);
  if (metricsContext == null) {
    String classNameAttribute=refName + CONTEXT_CLASS_SUFFIX;
    String className=(String)getAttribute(classNameAttribute);
    if (className == null) {
      className=DEFAULT_CONTEXT_CLASSNAME;
    }
    Class<? extends MetricsContext> contextClass=(Class<? extends MetricsContext>)Class.forName(className);
    metricsContext=contextClass.newInstance();
    metricsContext.init(contextName,this);
    contextMap.put(contextName,metricsContext);
  }
  return metricsContext;
}
