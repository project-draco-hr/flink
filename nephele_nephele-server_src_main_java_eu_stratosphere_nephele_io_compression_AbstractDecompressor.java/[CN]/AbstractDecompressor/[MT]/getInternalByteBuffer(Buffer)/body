{
  if (!(buffer instanceof MemoryBuffer)) {
    throw new RuntimeException("Provided buffer is not a memory buffer and cannot be used for compression");
  }
  final MemoryBuffer memoryBuffer=(MemoryBuffer)buffer;
  return memoryBuffer.getByteBuffer();
}
