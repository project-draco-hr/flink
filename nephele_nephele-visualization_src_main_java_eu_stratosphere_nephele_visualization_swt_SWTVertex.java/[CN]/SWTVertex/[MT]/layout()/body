{
  int numberOfInputGates=0;
  int numberOfOutputGates=0;
  Iterator<AbstractSWTComponent> it=getChildren();
  while (it.hasNext()) {
    AbstractSWTComponent child=it.next();
    if (child instanceof SWTGate) {
      SWTGate gate=(SWTGate)child;
      if (gate.isInputGate()) {
        numberOfInputGates++;
      }
 else {
        numberOfOutputGates++;
      }
    }
  }
  int numberOfLayoutedInputGates=0;
  int numberOfLayoutedOutputGates=0;
  int inputGateWidth=0;
  if (numberOfInputGates > 0) {
    inputGateWidth=getWidth() / numberOfInputGates;
  }
  int outputGateWidth=0;
  if (numberOfOutputGates > 0) {
    outputGateWidth=getWidth() / numberOfOutputGates;
  }
  int height=(int)((double)getHeight() * (SPACEFORGATESINPERCENT / 100.0f));
  it=getChildren();
  while (it.hasNext()) {
    AbstractSWTComponent child=it.next();
    if (child instanceof SWTGate) {
      SWTGate gate=(SWTGate)child;
      gate.setHeight(height);
      if (gate.isInputGate()) {
        gate.setX(getX() + numberOfLayoutedInputGates * inputGateWidth);
        gate.setY(getY() + getHeight() - height);
        gate.setWidth(inputGateWidth);
        numberOfLayoutedInputGates++;
      }
 else {
        gate.setX(getX() + numberOfLayoutedOutputGates * outputGateWidth);
        gate.setY(getY());
        gate.setWidth(outputGateWidth);
        numberOfLayoutedOutputGates++;
      }
    }
  }
}
