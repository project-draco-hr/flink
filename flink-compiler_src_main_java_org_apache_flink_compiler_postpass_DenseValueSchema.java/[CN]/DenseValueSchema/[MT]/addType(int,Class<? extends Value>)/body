{
  if (pos == schema.size()) {
    schema.add(type);
  }
 else   if (pos < schema.size()) {
    Class<? extends Value> previous=schema.get(pos);
    if (previous == null) {
      schema.set(pos,type);
    }
 else     if (previous != type) {
      throw new ConflictingFieldTypeInfoException(pos,previous,type);
    }
  }
 else {
    for (int i=schema.size(); i <= pos; i++) {
      schema.add(null);
    }
    schema.set(pos,type);
  }
}
