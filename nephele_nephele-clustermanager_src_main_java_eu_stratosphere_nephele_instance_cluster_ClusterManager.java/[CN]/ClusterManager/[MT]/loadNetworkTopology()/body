{
  final String configDir=GlobalConfiguration.getString(CONFIG_DIR_KEY,null);
  if (configDir == null) {
    LOG.error("Cannot find configuration directory to load network topology, using flat topology instead");
    return NetworkTopology.createEmptyTopology();
  }
  final File slaveFile=new File(configDir + File.separator + SLAVE_FILE_NAME);
  if (!slaveFile.exists()) {
    LOG.error("Cannot access slave file to load network topology, using flat topology instead");
    return NetworkTopology.createEmptyTopology();
  }
  try {
    return NetworkTopology.fromFile(slaveFile);
  }
 catch (  IOException ioe) {
    LOG.error("Error while loading the network topology: " + StringUtils.stringifyException(ioe));
  }
  return NetworkTopology.createEmptyTopology();
}
