{
  super.configure(parameters);
  String charsetName=parameters.getString(CHARSET_NAME,DEFAULT_CHARSET_NAME);
  if (charsetName == null || !Charset.isSupported(charsetName)) {
    throw new RuntimeException("Unsupported charset: " + charsetName);
  }
  if (charsetName.equals("ISO-8859-1") || charsetName.equalsIgnoreCase("ASCII")) {
    this.ascii=true;
  }
 else {
    this.decoder=Charset.forName(charsetName).newDecoder();
    this.byteWrapper=ByteBuffer.allocate(1);
  }
  this.pos=parameters.getInteger(FIELD_POS,0);
  if (this.pos < 0) {
    throw new RuntimeException("Illegal configuration value for the target position: " + this.pos);
  }
}
