{
  while (isRunning && readNext() != null) {
    Object key=keySelector.getKey(nextObject);
    StreamDiscretizer<IN> groupDiscretizer=groupedDiscretizers.get(key);
    if (groupDiscretizer == null) {
      groupDiscretizer=makeNewGroup(key);
      groupedDiscretizers.put(key,groupDiscretizer);
    }
    groupDiscretizer.processRealElement(nextObject);
  }
  for (  StreamDiscretizer<IN> group : groupedDiscretizers.values()) {
    group.emitWindow();
  }
}
