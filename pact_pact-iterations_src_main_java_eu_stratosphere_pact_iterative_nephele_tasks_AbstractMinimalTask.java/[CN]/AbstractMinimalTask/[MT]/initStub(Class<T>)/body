{
  try {
    @SuppressWarnings("unchecked") Class<T> stubClass=(Class<T>)this.config.getStubClass(stubSuperClass,classLoader);
    return InstantiationUtil.instantiate(stubClass,stubSuperClass);
  }
 catch (  ClassNotFoundException cnfe) {
    throw new RuntimeException("The stub implementation class was not found.",cnfe);
  }
catch (  ClassCastException ccex) {
    throw new RuntimeException("The stub class is not a proper subclass of " + stubSuperClass.getName(),ccex);
  }
}
