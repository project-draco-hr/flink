{
synchronized (this.queuedEnvelopes) {
    if (this.queuedEnvelopes.isEmpty()) {
      socketChannel.close();
      key.cancel();
      this.isConnected=false;
    }
  }
}
