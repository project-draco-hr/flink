{
  int retVal=0;
synchronized (this.queuedEnvelopes) {
    final Iterator<TransferEnvelope> it=this.queuedEnvelopes.iterator();
    while (it.hasNext()) {
      final TransferEnvelope envelope=it.next();
      if (envelope.getBuffer() != null) {
        ++retVal;
      }
    }
  }
  return retVal;
}
