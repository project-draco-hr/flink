{
  if (this.currentEnvelope != null) {
    LOG.error("The connection between " + socketChannel.socket().getLocalAddress() + " and "+ socketChannel.socket().getRemoteSocketAddress()+ " experienced an IOException for transfer envelope "+ this.currentEnvelope.getSequenceNumber());
  }
 else {
    LOG.error("The connection between " + socketChannel.socket().getLocalAddress() + " and "+ socketChannel.socket().getRemoteSocketAddress()+ " experienced an IOException");
  }
  LOG.error(ioe);
synchronized (this.queuedEnvelopes) {
    try {
      LOG.debug("Closing connection to " + socketChannel.socket().getRemoteSocketAddress());
      socketChannel.close();
    }
 catch (    IOException e) {
      LOG.debug("An error occurred while responding to an IOException");
      LOG.debug(e);
    }
    key.cancel();
    this.connectionThread.triggerConnect(this);
    this.timstampOfLastRetry=System.currentTimeMillis();
    this.isConnected=true;
  }
  if (this.currentEnvelope != null) {
  }
 else {
  }
}
