{
  String jobId=null;
  CommandLine line=null;
  try {
    line=parser.parse(this.options.get(ACTION_CANCEL),args,false);
  }
 catch (  Exception e) {
    handleError(e);
  }
  if (line.hasOption(ID_OPTION.getOpt())) {
    jobId=line.getOptionValue(ID_OPTION.getOpt());
  }
 else {
    System.err.println("Error: Specify a jobID to cancel a job.");
    printHelp();
    System.exit(1);
  }
  RPCService rpcService=null;
  try {
    ExtendedManagementProtocol jmConn=getJMConnection(rpcService);
    jmConn.cancelJob(new JobID(StringUtils.hexStringToByte(jobId)));
  }
 catch (  Throwable t) {
    handleError(t);
  }
 finally {
    if (rpcService != null) {
      rpcService.shutDown();
    }
    rpcService=null;
  }
}
