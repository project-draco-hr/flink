{
  StreamWindow<T> currentWindow=nextObject;
  if (keySelector == null) {
    if (numberOfSplits <= 1) {
      collector.collect(currentWindow);
    }
 else {
      for (      StreamWindow<T> window : currentWindow.split(numberOfSplits)) {
        collector.collect(window);
      }
    }
  }
 else {
    for (    StreamWindow<T> window : currentWindow.partitionBy(keySelector)) {
      collector.collect(window);
    }
  }
}
