{
  SerializedValue<StateHandle<?>> serializedState;
  if (state == null) {
    serializedState=null;
  }
 else {
    try {
      serializedState=new SerializedValue<StateHandle<?>>(state);
    }
 catch (    Exception e) {
      throw new RuntimeException("Failed to serialize state handle during checkpoint confirmation",e);
    }
  }
  AcknowledgeCheckpoint message=new AcknowledgeCheckpoint(jobId,executionId,checkpointId,serializedState);
  jobManagerActor.tell(message,ActorRef.noSender());
}
