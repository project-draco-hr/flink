{
  String host=config.getString(ARG_HOST,null);
  int port=config.getInteger(ARG_PORT,-1);
  if (host == null || host.length() == 0 || port < 1) {
    throw new IllegalArgumentException("Invalid host/port configuration. Host: " + host + " Port: "+ port);
  }
  String conversionRate=config.getString(ARG_CONVERSION_RATE,"SECONDS");
  String conversionDuration=config.getString(ARG_CONVERSION_DURATION,"MILLISECONDS");
  this.address=new InetSocketAddress(host,port);
  this.rateFactor=TimeUnit.valueOf(conversionRate).toSeconds(1);
  this.durationFactor=1.0 / TimeUnit.valueOf(conversionDuration).toNanos(1);
  try {
    this.socket=new DatagramSocket(0);
  }
 catch (  SocketException e) {
    throw new RuntimeException("Failure while creating socket. ",e);
  }
}
