{
  while (true) {
    AllocatedSlot previous=this.assignedSlot;
    if (ASSIGNED_SLOT_UPDATER.compareAndSet(this,previous,slot)) {
      try {
        if (previous != null) {
          previous.releaseSlot();
        }
      }
 catch (      Throwable t) {
        LOG.debug("Error releasing slot " + slot,t);
      }
      return;
    }
  }
}
