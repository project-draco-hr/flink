{
  super.restoreState(taskState);
  final ClassLoader userClassloader=getUserCodeClassloader();
  @SuppressWarnings("unchecked") StateHandle<DataInputView> inputState=(StateHandle<DataInputView>)taskState.getOperatorState();
  DataInputView in=inputState.getState(userClassloader);
  int numWindows=in.readInt();
  this.windows=new HashMap<>(numWindows);
  this.processingTimeTimers=new HashMap<>();
  this.watermarkTimers=new HashMap<>();
  for (int j=0; j < numWindows; j++) {
    Context context=new Context(in,userClassloader);
    windows.put(context.window,context);
  }
}
