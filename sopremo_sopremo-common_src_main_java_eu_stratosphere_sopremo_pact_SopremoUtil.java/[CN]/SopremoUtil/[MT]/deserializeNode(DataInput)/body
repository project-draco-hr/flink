{
  IJsonNode value=null;
  try {
    final int readInt=in.readInt();
    if (readInt == Type.CustomNode.ordinal()) {
      final String className=in.readUTF();
      value=(IJsonNode)Class.forName(className).newInstance();
    }
 else     value=Type.values()[readInt].getClazz().newInstance();
    value.read(in);
  }
 catch (  final ClassNotFoundException e) {
    e.printStackTrace();
  }
catch (  final InstantiationException e) {
    e.printStackTrace();
  }
catch (  final IllegalAccessException e) {
    e.printStackTrace();
  }
catch (  final IOException e) {
    e.printStackTrace();
  }
  return value;
}
