{
  Object ret=scheduleTask(task,true);
  if (ret instanceof AllocatedSlot) {
    return new SlotAllocationFuture((AllocatedSlot)ret);
  }
  if (ret instanceof SlotAllocationFuture) {
    return (SlotAllocationFuture)ret;
  }
 else {
    throw new RuntimeException();
  }
}
