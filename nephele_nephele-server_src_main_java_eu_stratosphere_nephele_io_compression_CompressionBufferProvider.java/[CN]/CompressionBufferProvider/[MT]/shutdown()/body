{
  --this.referenceCounter;
  if (this.referenceCounter > 0) {
    return;
  }
  if (this.compressionBufferLocked) {
    throw new IllegalStateException("Shutdown requested but compression buffer is still locked");
  }
  if (this.compressionBuffer != null) {
    this.compressionBuffer.recycleBuffer();
    this.compressionBuffer=null;
  }
  if (this.temporaryBufferLocked) {
    throw new IllegalStateException("Shutdown requested but temporary buffer is still locked " + this.temporaryBuffer);
  }
  if (this.temporaryBuffer != null) {
    this.temporaryBuffer.recycleBuffer();
    this.temporaryBuffer=null;
  }
}
