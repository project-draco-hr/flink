{
  if (userDefinedVertexToShareInstancesWith && this.vertexToShareInstancesWith != null) {
    throw new GraphConversionException("Cannot overwrite user defined vertex to share instances with");
  }
  if (groupVertex == null) {
    throw new IllegalArgumentException("shareInstancesWith: argument is null!");
  }
  if (this.vertexToShareInstancesWith != null) {
    this.vertexToShareInstancesWith.removeFromVerticesSharingInstances(this);
  }
  this.vertexToShareInstancesWith=groupVertex;
  this.vertexToShareInstancesWith.addToVerticesSharingInstances(this);
  reassignInstances();
  this.executionGraph.repairInstanceAssignment();
}
