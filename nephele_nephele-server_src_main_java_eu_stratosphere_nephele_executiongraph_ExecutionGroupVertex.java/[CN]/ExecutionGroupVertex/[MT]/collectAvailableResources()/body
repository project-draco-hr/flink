{
  List<AllocatedResource> availableResources;
  if (this.vertexToShareInstancesWith != null) {
    availableResources=this.vertexToShareInstancesWith.collectAvailableResources();
  }
 else {
    availableResources=new ArrayList<AllocatedResource>();
synchronized (this.groupMembers) {
      final Iterator<ExecutionVertex> it=this.groupMembers.iterator();
      while (it.hasNext()) {
        final ExecutionVertex vertex=it.next();
        final AllocatedResource allocatedResource=vertex.getAllocatedResource();
        if (allocatedResource != null) {
          if (!availableResources.contains(allocatedResource)) {
            availableResources.add(allocatedResource);
          }
        }
      }
    }
  }
  return availableResources;
}
