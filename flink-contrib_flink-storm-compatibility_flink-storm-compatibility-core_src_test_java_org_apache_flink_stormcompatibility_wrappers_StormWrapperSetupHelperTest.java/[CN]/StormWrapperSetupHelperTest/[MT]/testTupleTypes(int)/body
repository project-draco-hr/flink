{
  String[] schema=new String[numberOfAttributes];
  if (numberOfAttributes == 0) {
    schema=new String[1];
  }
  for (int i=0; i < schema.length; ++i) {
    schema[i]="a" + i;
  }
  IComponent boltOrSpout;
  if (this.r.nextBoolean()) {
    boltOrSpout=mock(IRichSpout.class);
  }
 else {
    boltOrSpout=mock(IRichBolt.class);
  }
  final StormOutputFieldsDeclarer declarer=new StormOutputFieldsDeclarer();
  declarer.declare(new Fields(schema));
  PowerMockito.whenNew(StormOutputFieldsDeclarer.class).withNoArguments().thenReturn(declarer);
  StormWrapperSetupHelper.getNumberOfAttributes(boltOrSpout,numberOfAttributes == 0);
}
