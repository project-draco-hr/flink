{
  if (offset < 0 || offset > this.size || offset > this.size - length) {
    throw new IndexOutOfBoundsException();
  }
  if (heapMemory != null) {
    return ByteBuffer.wrap(heapMemory,offset,length);
  }
 else {
    ByteBuffer wrapper=offHeapMemory.duplicate();
    wrapper.limit(offset + length);
    wrapper.position(offset);
    return wrapper;
  }
}
