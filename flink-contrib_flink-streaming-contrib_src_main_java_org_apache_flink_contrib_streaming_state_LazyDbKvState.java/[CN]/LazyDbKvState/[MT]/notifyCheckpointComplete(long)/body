{
  if (compactEvery > 0 && compact && checkpointId % compactEvery == 0) {
    try {
      for (      Connection c : connections.connections()) {
        dbAdapter.compactKvStates(kvStateId,c,0,checkpointId);
      }
      if (LOG.isDebugEnabled()) {
        LOG.debug("State succesfully compacted for {}.",kvStateId);
      }
    }
 catch (    SQLException e) {
      LOG.warn("State compaction failed due: {}",e);
    }
  }
}
