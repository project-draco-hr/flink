{
  if (compactEvery > 0 && compact && checkpointId % compactEvery == 0) {
    try {
      dbAdapter.compactKvStates(kvStateId,con,0,checkpointId);
      if (LOG.isDebugEnabled()) {
        LOG.debug("State succesfully compacted for {}.",kvStateId);
      }
    }
 catch (    SQLException e) {
      LOG.warn("State compaction failed due: {}",e);
    }
  }
}
