{
  if (expr == null || expr instanceof VarExpr || expr instanceof ConstExpr || expr instanceof BindingExpr || expr instanceof FieldExpr || expr instanceof PathStep || expr instanceof AbstractReadExpr) {
    return false;
  }
  HashSet<Var> captures=expr.getCapturedVars();
  Expr safe=scope.parent();
  for (  Var v : captures) {
    if (safe.findVarDef(v) == null) {
      return false;
    }
  }
  return true;
}
