{
  String fileContent=Files.toString(file,Charsets.UTF_8);
  Scanner s=new Scanner(fileContent);
  StringBuilder sb=new StringBuilder();
  String line=null;
  boolean indicatorFound=false;
  while (s.hasNextLine() && (line=s.nextLine()) != null) {
    sb.append(line + "\n");
    if (line.contains(BEGIN_INDICATOR)) {
      indicatorFound=true;
      break;
    }
  }
  if (!indicatorFound) {
    System.out.println("No indicator found in '" + file + "'. Will skip code generation.");
    s.close();
    return;
  }
  sb.append("\t// GENERATED FROM " + TupleGenerator.class.getName() + ".\n");
  sb.append(code + "\n");
  while (s.hasNextLine() && (line=s.nextLine()) != null) {
    if (line.contains(END_INDICATOR)) {
      sb.append(line + "\n");
      break;
    }
  }
  while (s.hasNextLine() && (line=s.nextLine()) != null) {
    sb.append(line + "\n");
  }
  s.close();
  Files.write(sb.toString(),file,Charsets.UTF_8);
}
