{
  final Option configDirOpt=OptionBuilder.withArgName("config directory").hasArg().withDescription("Specify configuration directory.").create("configDir");
  final Options options=new Options();
  options.addOption(configDirOpt);
  CommandLineParser parser=new GnuParser();
  CommandLine line=null;
  try {
    line=parser.parse(options,args);
    final String configDir=line.getOptionValue(configDirOpt.getOpt(),null);
    GlobalConfiguration.loadConfiguration(configDir);
  }
 catch (  ParseException e) {
    LOG.error("CLI Parsing failed. Reason: " + e.getMessage());
    System.exit(1);
  }
  SopremoServer sopremoServer=new SopremoServer();
  try {
    sopremoServer.start();
  }
 catch (  IOException e) {
    LOG.error("Cannot start Sopremo server: " + StringUtils.stringifyException(e));
    sopremoServer.close();
    return;
  }
  while (!Thread.interrupted()) {
    try {
      Thread.sleep(SLEEPINTERVAL);
    }
 catch (    InterruptedException e) {
      break;
    }
  }
}
