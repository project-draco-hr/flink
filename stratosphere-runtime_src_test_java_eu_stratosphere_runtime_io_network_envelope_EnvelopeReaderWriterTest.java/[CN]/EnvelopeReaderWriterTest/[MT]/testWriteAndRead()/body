{
  Assert.assertTrue("Test broken.",BUFFER_SIZES.length == EVENT_LISTS.length);
  File testFile=null;
  RandomAccessFile raf=null;
  try {
    testFile=File.createTempFile("envelopes",".tmp");
    raf=new RandomAccessFile(testFile,"rw");
    FileChannel c=raf.getChannel();
    writeEnvelopes(c);
    c.position(0);
    readEnvelopes(c,-1.0f);
    c.close();
  }
 catch (  Exception e) {
    System.err.println(e.getMessage());
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
 finally {
    if (raf != null)     try {
      raf.close();
    }
 catch (    Throwable t) {
    }
    if (testFile != null)     testFile.delete();
  }
}
