{
  if (!nonprocessed.isEmpty()) {
    throw new RuntimeException("Error in barrier buffer logic");
  }
  nonprocessed=blockedNonprocessed;
  blockedNonprocessed=new LinkedList<BufferOrEvent>();
  blockedChannels.clear();
  superstepStarted=false;
  if (LOG.isDebugEnabled()) {
    LOG.debug("All barriers received, blocks released");
  }
}
