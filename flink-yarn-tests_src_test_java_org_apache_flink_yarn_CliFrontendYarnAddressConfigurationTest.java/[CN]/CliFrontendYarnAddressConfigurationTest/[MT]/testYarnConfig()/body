{
  try {
    File tmpFolder=temporaryFolder.newFolder();
    String currentUser=System.getProperty("user.name");
    File testPropertiesFile=new File(tmpFolder,".yarn-properties-" + currentUser);
    Files.write(testPropertiesFile.toPath(),propertiesFile.getBytes(),StandardOpenOption.CREATE);
    String confFile=flinkConf + "\nyarn.properties-file.location: " + tmpFolder;
    File testConfFile=new File(tmpFolder.getAbsolutePath(),"flink-conf.yaml");
    Files.write(testConfFile.toPath(),confFile.getBytes(),StandardOpenOption.CREATE);
    TestCLI frontend=new TestCLI(tmpFolder.getAbsolutePath());
    CommandLineOptions options=mock(CommandLineOptions.class);
    frontend.getClient(options,"Program name");
    frontend.updateConfig(options);
    Configuration config=frontend.getConfiguration();
    checkJobManagerAddress(config,TEST_YARN_JOB_MANAGER_ADDRESS,TEST_YARN_JOB_MANAGER_PORT);
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
