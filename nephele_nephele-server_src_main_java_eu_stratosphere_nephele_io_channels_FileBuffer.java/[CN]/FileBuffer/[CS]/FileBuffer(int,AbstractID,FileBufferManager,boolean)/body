{
  this.fileBufferManager=fileBufferManager;
  this.ownerID=ownerID;
  this.bufferSize=bufferSize;
  this.writeMode.set(true);
  final ChannelWithPosition cwp=fileBufferManager.getChannelForWriteAndIncrementReferences(ownerID,bufferSize,distributed);
  this.fileChannel=cwp.getChannel();
  this.offset=cwp.getOffset();
}
