{
  if (taskThread == null) {
    throw new IllegalStateException("Task thread was not started.");
  }
 else {
    if (taskThread.task instanceof StreamTask) {
      StreamTask streamTask=(StreamTask)taskThread.task;
      while (!streamTask.isRunning()) {
        Thread.sleep(100);
      }
    }
 else {
      throw new IllegalStateException("Not a StreamTask");
    }
  }
}
