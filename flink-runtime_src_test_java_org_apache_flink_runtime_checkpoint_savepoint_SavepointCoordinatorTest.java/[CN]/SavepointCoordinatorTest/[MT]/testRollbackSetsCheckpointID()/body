{
  SavepointV0 savepoint=new SavepointV0(12312312L,Collections.<TaskState>emptyList());
  CheckpointIDCounter checkpointIdCounter=mock(CheckpointIDCounter.class);
  SavepointStore savepointStore=mock(SavepointStore.class);
  when(savepointStore.loadSavepoint(anyString())).thenReturn(savepoint);
  SavepointCoordinator coordinator=createSavepointCoordinator(new JobID(),60 * 1000,new ExecutionVertex[]{},new ExecutionVertex[]{},new ExecutionVertex[]{},checkpointIdCounter,savepointStore);
  coordinator.restoreSavepoint(createExecutionJobVertexMap(),"any");
  verify(checkpointIdCounter).setCount(eq(12312312L + 1));
  coordinator.shutdown();
}
