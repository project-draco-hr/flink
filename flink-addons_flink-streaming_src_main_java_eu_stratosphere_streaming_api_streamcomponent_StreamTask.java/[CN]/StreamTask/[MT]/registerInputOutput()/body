{
  taskConfiguration=getTaskConfiguration();
  name=taskConfiguration.getString("componentName","MISSING_COMPONENT_NAME");
  try {
    streamTaskHelper.setConfigInputs(this,taskConfiguration,inputs);
    streamTaskHelper.setConfigOutputs(this,taskConfiguration,outputs,partitioners);
  }
 catch (  StreamComponentException e) {
    log.error("Cannot register inputs/outputs for " + getClass().getSimpleName(),e);
  }
  recordBuffer=new FaultToleranceBuffer(outputs,taskInstanceID,taskConfiguration.getInteger("numberOfOutputChannels",-1));
  userFunction=(UserTaskInvokable)streamTaskHelper.getUserFunction(taskConfiguration,outputs,taskInstanceID,name,recordBuffer);
  streamTaskHelper.setAckListener(recordBuffer,taskInstanceID,outputs);
  streamTaskHelper.setFailListener(recordBuffer,taskInstanceID,outputs);
}
