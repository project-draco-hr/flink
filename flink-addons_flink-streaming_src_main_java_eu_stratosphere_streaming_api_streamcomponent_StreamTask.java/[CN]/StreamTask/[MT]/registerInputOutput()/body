{
  taskConfiguration=getTaskConfiguration();
  name=taskConfiguration.getString("componentName","MISSING_COMPONENT_NAME");
  try {
    streamTaskHelper.setSerializers(taskConfiguration);
    inputs=streamTaskHelper.getConfigInputs(this,taskConfiguration);
    streamTaskHelper.setConfigOutputs(this,taskConfiguration,outputs,partitioners);
    streamTaskHelper.setCollector(taskConfiguration,taskInstanceID,outputs);
  }
 catch (  StreamComponentException e) {
    if (log.isErrorEnabled()) {
      log.error("Cannot register inputs/outputs for " + getClass().getSimpleName(),e);
    }
  }
  int[] numberOfOutputChannels=new int[outputs.size()];
  for (int i=0; i < numberOfOutputChannels.length; i++) {
    numberOfOutputChannels[i]=taskConfiguration.getInteger("channels_" + i,0);
  }
  userFunction=(UserTaskInvokable)streamTaskHelper.getTaskInvokable(taskConfiguration);
  streamTaskHelper.setAckListener(recordBuffer,taskInstanceID,outputs);
  streamTaskHelper.setFailListener(recordBuffer,taskInstanceID,outputs);
}
