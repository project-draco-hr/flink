{
  component.setNumberOfSubtasks(parallelism);
  if (parallelism > maxParallelism) {
    maxParallelism=parallelism;
    maxParallelismVertexName=componentName;
  }
  Configuration config=new TaskConfig(component.getConfiguration()).getConfiguration();
  if (InvokableObject != null) {
    config.setClass("userfunction",InvokableObject.getClass());
    addSerializedObject(InvokableObject,config);
  }
  config.setString("componentName",componentName);
  config.setInteger("batchSize",batchSize);
  config.setLong("batchTimeout",batchTimeout);
  config.setInteger("faultToleranceType",faultToleranceType.id);
  if (serializedFunction != null) {
    config.setBytes("operator",serializedFunction);
    config.setString("operatorName",operatorName);
  }
  components.put(componentName,component);
  numberOfInstances.put(componentName,parallelism);
}
