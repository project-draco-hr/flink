{
  if (instance == null) {
    throw new IllegalArgumentException();
  }
  if (instance.getNumberOfAvailableSlots() <= 0) {
    throw new IllegalArgumentException("The given instance has no resources.");
  }
  if (!instance.isAlive()) {
    throw new IllegalArgumentException("The instance is not alive.");
  }
synchronized (this.lock) {
    if (!this.allInstances.add(instance)) {
      throw new IllegalArgumentException("The instance is already contained.");
    }
    this.instancesWithAvailableResources.add(instance);
    this.lock.notifyAll();
  }
}
