{
  if (instance == null) {
    throw new IllegalArgumentException();
  }
  instance.markDead();
synchronized (this.lock) {
    this.allInstances.remove(instance);
    this.instancesWithAvailableResources.remove(instance);
  }
}
