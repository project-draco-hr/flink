{
  int i=1, k=0;
  int last=fields[0];
  if (last < 0 || last > maxAllowedField) {
    throw new IllegalArgumentException("Tuple position is out of range: " + last);
  }
  for (; i < fields.length; i++) {
    if (fields[i] < 0 || fields[i] > maxAllowedField) {
      throw new IllegalArgumentException("Tuple position is out of range.");
    }
    if (fields[i] != last) {
      k++;
      last=fields[i];
      fields[k]=fields[i];
    }
  }
  if (k == fields.length - 1) {
    return fields;
  }
 else {
    return Arrays.copyOfRange(fields,0,k + 1);
  }
}
