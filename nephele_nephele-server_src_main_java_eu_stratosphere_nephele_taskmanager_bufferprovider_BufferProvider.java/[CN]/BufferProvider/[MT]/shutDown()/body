{
  LOG.info("Shutting down buffer provider");
  this.fileBufferManager.shutDown();
synchronized (this.emptyReadBuffers) {
    if (this.emptyReadBuffers.size() != this.numberOfReadBuffers) {
      LOG.error("Missing " + (this.numberOfReadBuffers - this.emptyReadBuffers.size()) + " read buffers during shutdown");
    }
    this.emptyReadBuffers.clear();
  }
synchronized (this.emptyWriteBuffers) {
    if (this.emptyWriteBuffers.size() != this.numberOfWriteBuffers) {
      LOG.error("Missing " + (this.numberOfWriteBuffers - this.emptyWriteBuffers.size()) + " write buffers during shutdown");
    }
    this.emptyWriteBuffers.clear();
  }
  System.gc();
}
