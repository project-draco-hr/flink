{
  CompressionLevel next=lastCompressionLevel;
  if (nextEvaluationRound == 0) {
    if (evaluationPhase) {
      if (lastEvaluationStepTime != -1 && currentEvaluationStepTime != -1) {
        if (lastEvaluationStepTime < currentEvaluationStepTime) {
          evaluationPhase=false;
          return getCompressionLevelForNextBlock(bufferLength,lastCompressionLevel);
        }
      }
switch (nextEvaluationLevel) {
case NO_COMPRESSION:
        nextEvaluationLevel=CompressionLevel.LIGHT_COMPRESSION;
      nextEvaluationRound=ROUNDS_WITHOUT_EVALUATION;
    next=CompressionLevel.NO_COMPRESSION;
  break;
case LIGHT_COMPRESSION:
nextEvaluationLevel=CompressionLevel.MEDIUM_COMPRESSION;
nextEvaluationRound=ROUNDS_WITHOUT_EVALUATION;
next=CompressionLevel.LIGHT_COMPRESSION;
break;
case MEDIUM_COMPRESSION:
nextEvaluationLevel=CompressionLevel.HEAVY_COMPRESSION;
nextEvaluationRound=ROUNDS_WITHOUT_EVALUATION;
next=CompressionLevel.HEAVY_COMPRESSION;
break;
case HEAVY_COMPRESSION:
nextEvaluationLevel=CompressionLevel.NO_COMPRESSION;
nextEvaluationRound=ROUNDS_WITHOUT_EVALUATION;
next=CompressionLevel.HEAVY_COMPRESSION;
evaluationPhase=false;
break;
}
}
 else {
}
}
nextEvaluationRound--;
this.lastCompressionLevel=next;
return next;
}
