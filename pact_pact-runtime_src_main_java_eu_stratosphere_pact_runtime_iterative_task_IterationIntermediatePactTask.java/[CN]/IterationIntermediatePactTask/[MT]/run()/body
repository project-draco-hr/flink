{
  while (this.running && !terminationRequested()) {
    notifyMonitor(IterationMonitoring.Event.INTERMEDIATE_STARTING);
    if (log.isInfoEnabled()) {
      log.info(formatLogString("starting iteration [" + currentIteration() + "]"));
    }
    notifyMonitor(IterationMonitoring.Event.INTERMEDIATE_PACT_STARTING);
    if (!inFirstIteration()) {
      reinstantiateDriver();
      resetAllInputs();
    }
    super.run();
    notifyMonitor(IterationMonitoring.Event.INTERMEDIATE_PACT_FINISHED);
    if (log.isInfoEnabled()) {
      log.info(formatLogString("finishing iteration [" + currentIteration() + "]"));
    }
    if (!terminationRequested()) {
      propagateEvent(EndOfSuperstepEvent.INSTANCE);
      incrementIterationCounter();
    }
 else {
      propagateEvent(TerminationEvent.INSTANCE);
    }
    notifyMonitor(IterationMonitoring.Event.INTERMEDIATE_FINISHED);
  }
}
