{
  final FileSystem fs=FileSystem.getLocalFileSystem();
  for (int i=0; i < this.userJars.size(); i++) {
    if (!fs.exists(this.userJars.get(i))) {
      throw new IOException("Cannot find jar file " + this.userJars.get(i));
    }
  }
  out.writeInt(this.userJars.size());
  for (int i=0; i < this.userJars.size(); i++) {
    final Path jar=this.userJars.get(i);
    jar.write(out);
    final FileStatus file=fs.getFileStatus(jar);
    out.writeLong(file.getLen());
    final FSDataInputStream inStream=fs.open(this.userJars.get(i));
    final byte[] buf=new byte[BUFFERSIZE];
    int read=inStream.read(buf,0,buf.length);
    while (read > 0) {
      out.write(buf,0,read);
      read=inStream.read(buf,0,buf.length);
    }
  }
}
