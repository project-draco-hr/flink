{
  Random rand=new Random(RANDOM_SEED);
  MemorySegment segment=memoryManager.allocate(mockInvoke,MEMORY_SIZE);
  for (int i=0; i < (MEMORY_SIZE / 2); i++) {
    segment.outputView.writeShort(rand.nextInt());
  }
  rand.setSeed(RANDOM_SEED);
  for (int i=0; i < (MEMORY_SIZE / 2); i++) {
    int uSh=rand.nextInt() & 0xffff;
    uSh=(uSh & 0xff00) | (uSh & 0xff);
    if (segment.inputView.readUnsignedShort() != uSh) {
      Assert.fail();
    }
  }
  memoryManager.release(segment);
}
