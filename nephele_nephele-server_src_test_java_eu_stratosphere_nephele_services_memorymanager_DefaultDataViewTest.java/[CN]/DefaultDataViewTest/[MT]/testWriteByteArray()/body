{
  Random rand=new Random(RANDOM_SEED);
  MemorySegment segment=memoryManager.allocate(mockInvoke,MEMORY_SIZE);
  byte[] arr=new byte[0];
  int lengthSum=0;
  while (lengthSum < MEMORY_SIZE) {
    segment.outputView.write(arr);
    arr=generateRandomByteArray(rand,16);
    lengthSum+=arr.length;
  }
  rand.setSeed(RANDOM_SEED);
  for (int i=0; i < lengthSum; i++) {
    arr=generateRandomByteArray(rand,16);
    for (int j=0; j < arr.length; j++) {
      if (segment.inputView.readByte() != arr[j]) {
        Assert.fail();
      }
    }
    i+=arr.length;
  }
  memoryManager.release(segment);
}
