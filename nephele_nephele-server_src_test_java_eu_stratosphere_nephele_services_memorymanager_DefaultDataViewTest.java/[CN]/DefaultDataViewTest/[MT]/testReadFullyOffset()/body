{
  Random rand=new Random(RANDOM_SEED);
  Random rand2=new Random(RANDOM_SEED);
  MemorySegment segment=memoryManager.allocate(mockInvoke,MEMORY_SIZE);
  for (int i=0; i < MEMORY_SIZE; i++) {
    segment.outputView.writeByte(rand.nextInt());
  }
  rand.setSeed(RANDOM_SEED);
  byte[] arr=generateRandomByteArray(rand2,32);
  int lengthSum=arr.length;
  int off=rand2.nextInt(arr.length);
  int len=rand2.nextInt(arr.length - off);
  while (lengthSum < MEMORY_SIZE) {
    segment.inputView.readFully(arr,off,len);
    for (int j=off; j < off + len; j++) {
      if (arr[j] != (byte)(rand.nextInt() & 0xff)) {
        Assert.fail();
      }
    }
    arr=generateRandomByteArray(rand2,32);
    off=rand2.nextInt(arr.length);
    len=rand2.nextInt(arr.length - off);
    lengthSum+=arr.length;
  }
  memoryManager.release(segment);
}
