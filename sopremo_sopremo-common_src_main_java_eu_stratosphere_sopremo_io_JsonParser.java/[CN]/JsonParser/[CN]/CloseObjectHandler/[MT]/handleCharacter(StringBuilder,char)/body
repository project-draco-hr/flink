{
  ContainerNode node;
  if (state.top() != root) {
    node=(ContainerNode)state.pop();
  }
 else {
    node=(ContainerNode)state.top();
  }
  if (sb.length() != 0) {
    if (!wasString) {
      node.addValue(JsonParser.parsePrimitive(sb.toString()));
    }
 else {
      node.addValue(TextNode.valueOf(sb.toString()));
      wasString=false;
    }
    sb.setLength(0);
  }
  ((ContainerNode)state.top()).addValue(node.build());
}
