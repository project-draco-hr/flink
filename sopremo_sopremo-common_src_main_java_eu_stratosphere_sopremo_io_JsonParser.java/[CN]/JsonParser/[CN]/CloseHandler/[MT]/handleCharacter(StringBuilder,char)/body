{
  ContainerNode node;
  if (JsonParser.this.state.top() != JsonParser.this.root) {
    node=(ContainerNode)JsonParser.this.state.pop();
    if (JsonParser.this.state.top() == JsonParser.this.root && !JsonParser.this.isArray)     JsonParser.this.reachedEnd=true;
  }
 else {
    node=(ContainerNode)JsonParser.this.state.top();
    JsonParser.this.reachedEnd=true;
  }
  if (sb.length() != 0) {
    if (!JsonParser.this.wasString)     node.addValue(JsonParser.parsePrimitive(sb.toString()));
 else {
      node.addValue(TextNode.valueOf(sb.toString()));
      JsonParser.this.wasString=false;
    }
    sb.setLength(0);
  }
  if (node != JsonParser.this.root)   ((ContainerNode)JsonParser.this.state.top()).addValue(node.build());
}
