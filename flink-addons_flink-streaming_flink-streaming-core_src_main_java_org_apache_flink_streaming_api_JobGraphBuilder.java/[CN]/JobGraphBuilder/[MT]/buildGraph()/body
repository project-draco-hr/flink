{
  for (  String componentName : outEdgeList.keySet()) {
    createVertex(componentName);
  }
  for (  String upStreamComponentName : outEdgeList.keySet()) {
    int i=0;
    List<Integer> outEdgeTypeList=outEdgeType.get(upStreamComponentName);
    for (    String downStreamComponentName : outEdgeList.get(upStreamComponentName)) {
      StreamConfig downStreamComponentConfig=new StreamConfig(components.get(downStreamComponentName).getConfiguration());
      int inputNumber=downStreamComponentConfig.getNumberOfInputs();
      downStreamComponentConfig.setInputType(inputNumber++,outEdgeTypeList.get(i));
      downStreamComponentConfig.setNumberOfInputs(inputNumber);
      connect(upStreamComponentName,downStreamComponentName,connectionTypes.get(upStreamComponentName).get(i));
      i++;
    }
  }
  setAutomaticInstanceSharing();
  setNumberOfJobInputs();
  setNumberOfJobOutputs();
}
