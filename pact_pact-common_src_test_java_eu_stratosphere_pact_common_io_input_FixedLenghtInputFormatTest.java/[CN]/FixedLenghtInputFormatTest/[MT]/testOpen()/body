{
  final int[] fileContent={1,2,3,4,5,6,7,8};
  final FileInputSplit split=createTempFile(fileContent);
  final Configuration parameters=new Configuration();
  parameters.setString(FileInputFormat.FILE_PARAMETER_KEY,"file:///some/file/that/will/not/be/read");
  parameters.setInteger(FixedLengthInputFormat.RECORDLENGTH_PARAMETER_KEY,8);
  format.configure(parameters);
  format.setTargetReadBufferSize(5);
  format.open(split);
  assertEquals(0,format.start);
  assertEquals(8,format.getReadBufferSize());
  format.close();
  format.setTargetReadBufferSize(13);
  format.open(split);
  assertEquals(16,format.getReadBufferSize());
}
