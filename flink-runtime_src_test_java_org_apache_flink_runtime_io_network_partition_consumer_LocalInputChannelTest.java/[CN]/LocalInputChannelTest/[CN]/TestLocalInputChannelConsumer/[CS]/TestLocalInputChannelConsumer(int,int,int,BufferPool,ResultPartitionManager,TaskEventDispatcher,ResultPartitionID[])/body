{
  checkArgument(numberOfInputChannels >= 1);
  checkArgument(numberOfExpectedBuffersPerChannel >= 1);
  this.inputGate=new SingleInputGate(mock(Environment.class),new IntermediateDataSetID(),subpartitionIndex,numberOfInputChannels);
  inputGate.setBufferPool(bufferPool);
  for (int i=0; i < numberOfInputChannels; i++) {
    inputGate.setInputChannel(new IntermediateResultPartitionID(),new LocalInputChannel(inputGate,i,consumedPartitionIds[i],partitionManager,taskEventDispatcher));
  }
  this.numberOfInputChannels=numberOfInputChannels;
  this.numberOfExpectedBuffersPerChannel=numberOfExpectedBuffersPerChannel;
}
