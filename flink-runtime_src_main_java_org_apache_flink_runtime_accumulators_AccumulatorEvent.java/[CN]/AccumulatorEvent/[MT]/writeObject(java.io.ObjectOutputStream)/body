{
  out.writeObject(jobID);
  byte[] buffer=null;
  if (accumulators != null) {
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    ObjectOutputStream oos=new ObjectOutputStream(baos);
    oos.writeInt(accumulators.size());
    for (    Map.Entry<String,Accumulator<?,?>> entry : this.accumulators.entrySet()) {
      oos.writeUTF(entry.getKey());
      oos.writeUTF(entry.getValue().getClass().getName());
      entry.getValue().write(oos);
    }
    oos.flush();
    oos.close();
    baos.close();
    buffer=baos.toByteArray();
  }
 else   if (serializedData != null) {
    buffer=serializedData;
  }
 else {
    throw new RuntimeException("The AccumulatorEvent's accumulator is null and there is " + "no serialized data attached to it.");
  }
  out.writeInt(buffer.length);
  out.write(buffer);
}
