{
  Instance host=registeredHostsByConnection.get(taskManager);
  if (host != null) {
    registeredHostsByConnection.remove(taskManager);
    registeredHostsById.remove(host.getId());
    if (terminated) {
      deadHosts.add(taskManager);
    }
    host.markDead();
    totalNumberOfAliveTaskSlots-=host.getTotalNumberOfSlots();
    notifyDeadInstance(host);
    LOG.info("Unregistered task manager " + taskManager.path() + ". Number of "+ "registered task managers "+ getNumberOfRegisteredTaskManagers()+ ". Number"+ " of available slots "+ getTotalNumberOfSlots()+ ".");
  }
}
