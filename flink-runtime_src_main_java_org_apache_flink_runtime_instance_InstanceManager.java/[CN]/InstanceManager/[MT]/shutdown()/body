{
synchronized (this.lock) {
    if (this.shutdown) {
      return;
    }
    this.shutdown=true;
    this.cleanupStaleMachines.cancel();
    for (    Instance i : this.registeredHostsById.values()) {
      i.markDead();
    }
    this.registeredHostsById.clear();
    this.registeredHostsByConnection.clear();
    this.deadHosts.clear();
    this.totalNumberOfAliveTaskSlots=0;
  }
}
