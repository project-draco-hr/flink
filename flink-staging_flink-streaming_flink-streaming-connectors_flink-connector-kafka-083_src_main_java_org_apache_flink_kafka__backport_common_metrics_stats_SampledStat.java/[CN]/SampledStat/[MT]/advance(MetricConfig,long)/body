{
  this.current=(this.current + 1) % config.samples();
  if (this.current >= samples.size()) {
    Sample sample=newSample(timeMs);
    this.samples.add(sample);
    return sample;
  }
 else {
    Sample sample=current(timeMs);
    sample.reset(timeMs);
    return sample;
  }
}
