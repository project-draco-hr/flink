{
  final int[] fileContent={1,2,3,4,5,6,7,8};
  final FileInputSplit split=createTempFile(fileContent);
  final Configuration parameters=new Configuration();
  parameters.setString(FileInputFormat.FILE_PARAMETER_KEY,"file:///some/file/that/will/not/be/read");
  parameters.setInteger(FixedLengthInputFormat.RECORDLENGTH_PARAMETER_KEY,8);
  format.configure(parameters);
  format.open(split);
  assertEquals(0,format.splitStart);
  assertEquals(0,format.getReadBufferSize() % 8);
  format.close();
  parameters.setInteger(FixedLengthInputFormat.RECORDLENGTH_PARAMETER_KEY,13);
  format.configure(parameters);
  format.close();
  format.open(split);
  assertEquals(0,format.getReadBufferSize() % 13);
  format.close();
  parameters.setInteger(FixedLengthInputFormat.RECORDLENGTH_PARAMETER_KEY,27);
  format.configure(parameters);
  format.close();
  format.open(split);
  assertEquals(0,format.getReadBufferSize() % 27);
  format.close();
}
