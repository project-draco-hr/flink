{
  if (channels == null || channels.length != 1) {
    channels=new int[1];
  }
  int hash=this.comparator.hash(record);
  hash=murmurHash(hash);
  if (hash < 0) {
    if (hash == Integer.MIN_VALUE) {
      this.channels[0]=Integer.MAX_VALUE % numberOfChannels;
    }
 else {
      this.channels[0]=-hash % numberOfChannels;
    }
  }
 else {
    this.channels[0]=hash % numberOfChannels;
  }
  return this.channels;
}
