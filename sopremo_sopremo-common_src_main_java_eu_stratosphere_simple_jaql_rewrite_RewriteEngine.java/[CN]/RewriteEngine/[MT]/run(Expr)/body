{
  if (stmt.getEnvExpr() == null) {
    throw new IllegalArgumentException("expression tree does not have an EnvExpr");
  }
  this.env=stmt.getEnvExpr().getEnv();
  if (env == null) {
    throw new IllegalArgumentException("expression tree does not have an environment");
  }
  Schema schema=stmt.getSchema();
  if (traceFire) {
    System.err.print("start ");
    System.err.println(schema);
  }
  counter=0;
  for (  RewritePhase phase : phases) {
    phase.run(stmt);
  }
  if (traceFire) {
    schema=stmt.getSchema();
    System.err.print("end ");
    System.err.println(schema);
  }
  return stmt;
}
